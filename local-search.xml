<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>KMP</title>
    <link href="/2023/10/11/KMP/"/>
    <url>/2023/10/11/KMP/</url>
    
    <content type="html"><![CDATA[<p>j</p><p>å°†æ¨¡å¼ä¸²æŒ‡é’ˆjçš„å›æº¯ çœ‹ä½œæ•´ä¸ªæ¨¡å¼ä¸²å‘åç§»åŠ¨æ¥åŒ¹é…ä¸»ä¸²</p><p>å½“i jä¸åŒ¹é…çš„æ—¶å€™æœ‰ä¸¤ç§åšæ³•ï¼Œç¬¬ä¸€æ˜¯æ¨¡å¼ä¸²ç§»åŠ¨åˆ°å½“å‰ä¸²çš„åé¢ï¼ˆå¯¹åº”çš„å…¶å®æ˜¯nextæ•°ç»„ç§»åŠ¨åˆ°0çš„ä½ç½®çš„æ—¶å€™ ä¹Ÿå°±æ˜¯å…¨ä¸åŒ¹é…çš„æ—¶å€™ï¼‰</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">b</span> <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">b</span> <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">b</span> <span class="hljs-selector-tag">a</span> <br><span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">b</span> <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">b</span> <span class="hljs-selector-tag">a</span> c <span class="hljs-selector-tag">b</span> <br>ç§»åŠ¨å<br><span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">b</span> <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">b</span> <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">b</span> <span class="hljs-selector-tag">a</span> <br>          <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">b</span> <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">b</span> <span class="hljs-selector-tag">a</span> c <span class="hljs-selector-tag">b</span><br></code></pre></td></tr></table></figure><p>ç¬¬äºŒç§ ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå…¬å…±å­ä¸²çš„ä½ç½®</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">b</span> <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">b</span> <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">b</span> <span class="hljs-selector-tag">a</span> <br><span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">b</span> <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">b</span> <span class="hljs-selector-tag">a</span> c <span class="hljs-selector-tag">b</span> <br>ç§»åŠ¨å<br><span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">b</span> <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">b</span> <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">b</span> <span class="hljs-selector-tag">a</span> <br>    <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">b</span> <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">b</span> <span class="hljs-selector-tag">a</span> c <span class="hljs-selector-tag">b</span><br></code></pre></td></tr></table></figure><p>å³ä¸»ä¸²çš„åç¼€é›†åˆä¸æ¨¡å¼ä¸²çš„å‰ç¼€é›†åˆæœ‰äº¤é›†çš„æ—¶å€™</p><p>jæŒ‡é’ˆå›æº¯çš„ä½ç½®æ˜¯Aåç¼€å’ŒBå‰ç¼€äº¤é›†é‡Œæœ€é•¿çš„å…ƒç´ ï¼ˆè¿™æ ·ä¸ä¼šé—æ¼ï¼‰æœ€é•¿å…ƒç´ çš„é•¿åº¦å°±æ˜¯jå›æº¯çš„ä½ç½®</p><p>åŒ¹é…å¤±è´¥ ä½†æ˜¯Aå’ŒBä¸²å­˜åœ¨ä¸€æ®µç›¸åŒçš„å­ä¸² jå›æº¯çš„ä½ç½®åªä¸Bæœ‰å…³ï¼ˆAã€Bç›¸åŒå­ä¸²çš„å‰åç¼€ å…¶å®å°±æ˜¯Bå­ä¸²çš„å‰åç¼€ï¼‰ å› æ­¤å¯ä»¥å…ˆæ±‚å‡ºBæ”¾å…¥nextæ•°ç»„</p><p>next[i]è¡¨ç¤ºB[1]~B[i]æœ€é•¿å…¬å…±å‰åç¼€çš„é•¿åº¦</p><p>åŒ¹é…æ­¥éª¤</p><p>i, jåˆå§‹åŒ–ä¸º0</p><p>1.å¦‚æœA[i + 1] &#x3D;&#x3D; B[j + 1] i++,j++</p><p>2.å¦‚æœä¸ç›¸ç­‰ ä¸æ–­å›æº¯jåˆ°next[j] ç›´åˆ°A[i + 1] &#x3D;&#x3D; B[j + 1]   æˆ–è€…jå›æº¯åˆ°next[0] &#x3D; -1äº† æ­¤æ—¶ç›´æ¥è®©i++ï¼ˆï¼‰æ„æ€æ˜¯Bç§»åˆ°Aåé¢</p><p>3.j &#x3D; m åŒ¹é…æˆåŠŸè¾“å‡ºä½ç½® </p><p>æ„å»ºnextæ•°ç»„  </p><p>æ±‚B[1]~B[i]æœ€é•¿å…¬å…±åç¼€é•¿åº¦</p><p>å¦‚æœåŒ¹é… next[i] &#x3D; j + 1  (j è¡¨ç¤ºBä¸²å‰ç¼€çš„æŒ‡é’ˆ ä¹Ÿå°±æ˜¯å½“å‰å­—ç¬¦åŒ¹é…ä¹‹å‰çš„æœ€é•¿å…¬å…±å‰åç¼€é•¿åº¦ åŒ¹é…æˆåŠŸå°±+1)</p><p>åŒ¹é…ä¸æˆåŠŸ å›æº¯jæŒ‡é’ˆj &#x3D; next[j]ç›´åˆ°æˆåŠŸ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">getnext</span><span class="hljs-params">(string p, <span class="hljs-type">int</span> next[])</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> p_len = p.<span class="hljs-built_in">size</span>();<br>    <span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br>    <span class="hljs-type">int</span> j = <span class="hljs-number">-1</span>;<br>    next[<span class="hljs-number">0</span>] = <span class="hljs-number">-1</span>;<br>    <br>    <span class="hljs-keyword">while</span>(i &lt; p_len)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (j == <span class="hljs-number">-1</span> || p[i] == p[j])<br>        &#123;<br>            i++;<br>            j++;<br>            next[i] = j<br>&#125;<br>        <span class="hljs-keyword">else</span><br>           j = next[j]<br>    &#125;<br>&#125;<br><span class="hljs-type">void</span> <span class="hljs-built_in">KMP</span>(string s, string p, <span class="hljs-type">int</span> next[])<br>&#123;<br>    <span class="hljs-built_in">getnext</span>(p,next);<br>    <br>    <span class="hljs-type">int</span> s_len = s.<span class="hljs-built_in">size</span>();<br>    <span class="hljs-type">int</span> p_len = p.<span class="hljs-built_in">size</span>();<br>    <span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br>    <span class="hljs-type">int</span> j = <span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">while</span> (i &lt; s_len &amp;&amp; j &lt; p_len)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (j == <span class="hljs-number">-1</span> || s[i] == p[j])<br>        &#123;<br>            i++;<br>            j++;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>            j = next[j]<br>    &#125;<br>    <span class="hljs-keyword">if</span> (j == p_len)<span class="hljs-keyword">return</span> i - j;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>algorithm</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è¯¾é¢˜ç»„å­¦ä¹ </title>
    <link href="/2023/10/11/%E8%AF%BE%E9%A2%98%E7%BB%84%E5%AD%A6%E4%B9%A0/"/>
    <url>/2023/10/11/%E8%AF%BE%E9%A2%98%E7%BB%84%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ä½è¿ç®—</title>
    <link href="/2023/10/09/%E4%BD%8D%E8%BF%90%E7%AE%97/"/>
    <url>/2023/10/09/%E4%BD%8D%E8%BF%90%E7%AE%97/</url>
    
    <content type="html"><![CDATA[<h1 id="åˆ†äº«ï½œä»é›†åˆè®ºåˆ°ä½è¿ç®—ï¼Œå¸¸è§ä½è¿ç®—æŠ€å·§åˆ†ç±»æ€»ç»“ï¼-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#åˆ†äº«ï½œä»é›†åˆè®ºåˆ°ä½è¿ç®—ï¼Œå¸¸è§ä½è¿ç®—æŠ€å·§åˆ†ç±»æ€»ç»“ï¼-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="åˆ†äº«ï½œä»é›†åˆè®ºåˆ°ä½è¿ç®—ï¼Œå¸¸è§ä½è¿ç®—æŠ€å·§åˆ†ç±»æ€»ç»“ï¼ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/circle/discuss/CaOJ45/">åˆ†äº«ï½œä»é›†åˆè®ºåˆ°ä½è¿ç®—ï¼Œå¸¸è§ä½è¿ç®—æŠ€å·§åˆ†ç±»æ€»ç»“ï¼ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><h2 id="å‹ç¼©è¡¨ç¤º"><a href="#å‹ç¼©è¡¨ç¤º" class="headerlink" title="å‹ç¼©è¡¨ç¤º"></a>å‹ç¼©è¡¨ç¤º</h2><p>é›†åˆç”¨äºŒè¿›åˆ¶è¡¨ç¤ºï¼Œä»é«˜åˆ°ä½ç¬¬iä½ä¸º1è¡¨ç¤ºiåœ¨é›†åˆä¸­ã€‚å¦‚{0,2,3}å¯ä»¥è¡¨ç¤ºä¸º1101ï¼Œå‹ç¼©æˆä¸€ä¸ªæ•°å­— 13</p><h2 id="é›†åˆä¸é›†åˆ"><a href="#é›†åˆä¸é›†åˆ" class="headerlink" title="é›†åˆä¸é›†åˆ"></a>é›†åˆä¸é›†åˆ</h2><p>é›†åˆçš„äº¤å¹¶è¡¥å·®</p><h2 id="é›†åˆä¸å…ƒç´ "><a href="#é›†åˆä¸å…ƒç´ " class="headerlink" title="é›†åˆä¸å…ƒç´ "></a>é›†åˆä¸å…ƒç´ </h2><p>â€œ&lt;&lt;â€ä»£è¡¨å·¦ç§»ï¼Œç›¸å½“äºä¹˜2 ^ i</p><p>â€œ&gt;&gt;â€ä»£è¡¨å³ç§»ï¼Œ ç›¸å½“äºé™¤2 ^ i</p><p>è¡¥é›†~s</p><p>å…¨é›† (1&lt;&lt;n) - 1</p><p>å±äº  (s &gt;&gt; i) &amp; 1 &#x3D; 1</p><p>ä¸å±äº (s &gt;&gt; i) &amp; 1 &#x3D; 0</p><p>æ·»åŠ å…ƒç´  s | (1 &lt;&lt; i)</p><p>åˆ é™¤å…ƒç´  s &amp; ~ (1 &lt;&lt; i)  (æ¯”å¦‚i &#x3D; 2 å˜æˆ0100 å–åå˜æˆ 1011 ç„¶åå’Œså¹¶èµ·æ¥  è¿™æ ·æ‰å¯ä»¥ä¿è¯ åªåˆ é™¤ç›®æ ‡ä½è€Œä¸å½±å“å…¶ä»–ä½)</p><p>åˆ é™¤æœ€å°å…ƒç´  s &amp; (s - 1) ((s - 1)å¯ä»¥ä½¿å¾—æœ€ä½ä½çš„1å˜ä¸º0 å¹¶ä¸”å…¶å³è¾¹çš„æ‰€æœ‰0å˜ä¸º1  ç„¶å&amp;s ä½¿å¾— æœ€ä½ä½çš„1ä»¥åŠåé¢çš„æ‰€æœ‰0å…¨éƒ¨å˜æˆ0)</p><p>lowbit  &#x3D; s &amp; (-s)  </p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs awk">     s = <span class="hljs-number">101100</span><br>    ~s = <span class="hljs-number">010011</span><br>(~s)+<span class="hljs-number">1</span> = <span class="hljs-number">010100</span> <span class="hljs-regexp">//</span> æ ¹æ®è¡¥ç çš„å®šä¹‰ï¼Œè¿™å°±æ˜¯ -s   æœ€ä½ <span class="hljs-number">1</span> å·¦ä¾§å–åï¼Œå³ä¾§ä¸å˜<br>s &amp; -s = <span class="hljs-number">000100</span> <span class="hljs-regexp">//</span> lowbit<br></code></pre></td></tr></table></figure><h3 id="éƒ¨åˆ†åº“å‡½æ•°"><a href="#éƒ¨åˆ†åº“å‡½æ•°" class="headerlink" title="éƒ¨åˆ†åº“å‡½æ•°"></a>éƒ¨åˆ†åº“å‡½æ•°</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs py">s.bit_count() <span class="hljs-comment"># é›†åˆå¤§å°</span><br>s.bit_length() <span class="hljs-comment"># äºŒè¿›åˆ¶é•¿åº¦</span><br>(s&amp;-s).bit_length()-<span class="hljs-number">1</span> <span class="hljs-comment"># é›†åˆä¸­çš„æœ€å°å…ƒç´ </span><br></code></pre></td></tr></table></figure><h2 id="éå†é›†åˆ"><a href="#éå†é›†åˆ" class="headerlink" title="éå†é›†åˆ"></a>éå†é›†åˆ</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>    <span class="hljs-comment"># å¦‚æœiåœ¨sä¸­</span><br>    <span class="hljs-keyword">if</span> (s &gt;&gt; i) &amp; <span class="hljs-number">1</span>:<br>        <span class="hljs-keyword">pass</span><br></code></pre></td></tr></table></figure><h2 id="æšä¸¾é›†åˆ"><a href="#æšä¸¾é›†åˆ" class="headerlink" title="æšä¸¾é›†åˆ"></a>æšä¸¾é›†åˆ</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-comment"># ä»ç©ºé›†æšä¸¾åˆ°å…¨é›†U</span><br><span class="hljs-keyword">for</span> s <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span> &lt;&lt; n):<br>    <span class="hljs-keyword">pass</span><br><br><span class="hljs-comment"># è®¾é›†åˆä¸ºs ä»å¤§åˆ°å°æšä¸¾sçš„æ‰€æœ‰éç©ºå­é›†sub</span><br>sub = s<br><span class="hljs-keyword">while</span> sub:<br>    <span class="hljs-comment"># pass</span><br>    <br>    sub = (sub - <span class="hljs-number">1</span>) &amp; s <span class="hljs-comment"># ï¼ˆå¦‚ä½•è¯æ˜ï¼Ÿï¼‰</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">è·³è¿‡éå­é›†çš„é›†åˆï¼</span><br><span class="hljs-string">æ„æ€æ˜¯ï¼ŒæŠŠ10100 çš„æœ€ä½ä½1å˜0ï¼Œå®ƒçš„åé¢æœ‰ä¸¤ä½ 00ï¼Œ éƒ½æ˜¯0ã€‚è¿™æ—¶å€™æŒ‰ç…§æ™®é€šäºŒè¿›åˆ¶ï¼Œä¼šæŠŠè¿™ä¸¤ä¸ª 00 éƒ½å˜æˆ 11ï¼Œå¦‚æœæŒ‰ç…§å‹ç¼©ç‰ˆï¼Œå°±åªæŠŠåŸæ¥é›†åˆé‡Œæœ‰çš„ 1 å˜æˆ 1 ï¼ˆå› ä¸ºæ±‚çš„æ˜¯å­é›†ï¼‰ï¼Œå…¶ä½™çš„è¿˜æ˜¯ 0ï¼ŒåŸæœ‰çš„é›†åˆæ˜¯ 10101ï¼Œæœ€åä¸¤ä½æ˜¯ 01ï¼Œæ‰€ä»¥åªä¿ç•™ 01ã€‚ç»¼åˆèµ·æ¥å°±æ˜¯ 10100 å…ˆå˜ 10000ï¼Œç„¶åä¿ç•™ 01ï¼Œå˜æˆ 10001ã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">è¿™æ ·åšçš„æ•ˆæœæ˜¯ä» 10100 ç›´æ¥è·³åˆ° 10001ï¼ŒæŠŠä¸­é—´çš„ 10011 å’Œ10010 å¿½ç•¥æ‰äº†ï¼ˆæ™®é€šå‡æ³•é¡ºåºæ˜¯ 10100 - 10011 - 10010 - 10001ï¼‰ï¼Œå› ä¸º10011 å’Œ 10010ä¸æ˜¯æœ‰æ•ˆçš„å­é›†ã€‚</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-comment"># æ‰€æœ‰å­é›†</span><br><span class="hljs-keyword">while</span> sub:<br>    sub = (sub - <span class="hljs-number">1</span>) &amp; s<br>    <span class="hljs-keyword">if</span> sub == s:<br>        <span class="hljs-keyword">break</span><br></code></pre></td></tr></table></figure><h1 id="ä¾‹é¢˜"><a href="#ä¾‹é¢˜" class="headerlink" title="ä¾‹é¢˜"></a>ä¾‹é¢˜</h1><h1 id="136-åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#136-åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="136. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/single-number/">136. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><p>ä¸€ä¸ªæ•°å­—å‡ºç°ä¸€æ¬¡ å…¶ä»–æ•°å­—å‡ºç°ä¸¤æ¬¡   ç”¨å¼‚æˆ–æ“ä½œ å› ä¸ºa^0 &#x3D; a a ^ a &#x3D; 0 æ‰€ä»¥ä¸¤ä¸ªä¸€æ ·çš„æ•°å¼‚æˆ–å°±ä¸º0 </p><p>å¹¶ä¸”a ^ b ^ c æ»¡è¶³äº¤æ¢å¾‹  </p><p>å³æ‰€æœ‰çš„æ•°éƒ½æ˜¯ç›¸åŒçš„å‡‘æˆä¸€å¯¹ å˜ä¸º0   ç„¶åå‰©ä¸‹çš„ç›®æ ‡æ•°å­—^0 &#x3D; ç›®æ ‡  è¾“å‡ºå³å¯</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">singleNumber</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        ret = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> nums:<br>            ret ^= x<br>        <span class="hljs-keyword">return</span> ret<br></code></pre></td></tr></table></figure><h1 id="137-åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—-II-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#137-åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—-II-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="137. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/single-number-ii/description/">137. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><p>ä¸€ä¸ªæ•°å­—å‡ºç°ä¸‰æ¬¡  ç›®æ ‡æ•°å­—å‡ºç°ä¸‰æ¬¡</p><p>æ‰€ä»¥æ¯ä¸ªæ¯”ç‰¹ä½çš„1çš„æ•°é‡å¿…å®šæ˜¯3çš„å€æ•°  ä¸æ˜¯3çš„å€æ•°çš„ å°±æ˜¯ansçš„æ¯”ç‰¹ä½ </p><p>æ³¨æ„pythonè¿™ç§å¯¹æœ‰ç¬¦å·æ•´å‹å’Œæ— ç¬¦å·æ•´å‹ä¸åŒºåˆ†çš„è¯­è¨€ éœ€è¦ç‰¹åˆ¤æœ€é«˜ä½</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">singleNumber</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        ret = [<span class="hljs-number">0</span>] * <span class="hljs-number">33</span><br>        <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> nums:<br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">32</span>):<br>                ret[i] += ((x&gt;&gt;i) &amp; <span class="hljs-number">1</span>)<br>        ans = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">32</span>):<br>            <span class="hljs-keyword">if</span> ret[i] % <span class="hljs-number">3</span> != <span class="hljs-number">0</span>:<br>                <span class="hljs-keyword">if</span> i == <span class="hljs-number">31</span>:<br>                    ans -= (<span class="hljs-number">1</span> &lt;&lt; i)<br>                <span class="hljs-keyword">else</span>:<br>                    ans |= (<span class="hljs-number">1</span> &lt;&lt; i)<br>        <span class="hljs-keyword">return</span> ans<br></code></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">singleNumber</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        <span class="hljs-type">int</span> ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> ret[<span class="hljs-number">32</span>] = &#123;<span class="hljs-number">0</span>&#125;;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> x : nums)<br>        &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">32</span>; i++)<br>            &#123;<br>                ret[i] += ((x &gt;&gt; i) &amp; <span class="hljs-number">1</span>);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">32</span>; i++)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (ret[i] % <span class="hljs-number">3</span> != <span class="hljs-number">0</span>)<br>                ans += (<span class="hljs-number">1</span> &lt;&lt; i);<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h1 id="260-åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—-III-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#260-åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—-III-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="260. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— III - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/single-number-iii/description/">260. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— III - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><p>æ¯ä¸ªå…ƒç´ åªå‡ºç°ä¸¤æ¬¡  æœ‰ä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•° è¦æ‰¾å‡ºè¿™ä¸¤ä¸ªæ•° </p><p>ç”±äºè¿™ä¸¤ä¸ªæ•°ä¸åŒ  å¿…ç„¶æœ‰ä¸€ä¸ª(ä»¥ä¸Š)çš„æ¯”ç‰¹ä½ä¸åŒ  é‚£ä¹ˆå°±æ±‚è¿™ä¸ªæ¯”ç‰¹ä½ </p><p>ç„¶åæŠŠæ‰€æœ‰åœ¨è¿™ä¸ªæ¯”ç‰¹ä½ä¸Š æ˜¯1 çš„ å¼‚æˆ–åˆ°ä¸€èµ· ï¼ˆåŒ…å«æ‰€æœ‰ è¿™ä¸ªæ¯”ç‰¹ä½ä¸Šæ˜¯1 çš„ä¸¤ä¸ªä¸¤ä¸ªçš„æ•°  å’Œ è¿™ä¸ªæ¯”ç‰¹ä½ä¸Šæ˜¯1 çš„ç›®æ ‡æ•°ï¼‰  æŠŠæ‰€æœ‰è¿™ä¸ªæ¯”ç‰¹ä½ä¸Šæ˜¯0 çš„å¼‚æˆ–åˆ°ä¸€èµ·â€¦</p><p>æ³¨æ„å–  lowbit   lowbit &#x3D;  a &amp; (-a)</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">singleNumber</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        xorsum = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> nums:<br>            xorsum ^= x<br>        ans1 = ans2 = <span class="hljs-number">0</span><br>        lb = xorsum &amp; (-xorsum)<br>        <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> nums:<br>            <span class="hljs-keyword">if</span> lb &amp; x:<br>                ans1 ^= x<br>            <span class="hljs-keyword">else</span>:<br>                ans2 ^= x<br><br>        <span class="hljs-keyword">return</span> [ans1, ans2]<br></code></pre></td></tr></table></figure><h1 id="78-å­é›†-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#78-å­é›†-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="78. å­é›† - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/subsets/description/">78. å­é›† - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><p>å­é›†çš„å½¢å¼ä¸äºŒè¿›åˆ¶æ•°éå¸¸ç›¸ä¼¼ å¯ä»¥è€ƒè™‘ç”¨äºŒè¿›åˆ¶æ¥å†™</p><p>1 &lt; (1 &lt;&lt; n)å°±æ˜¯å°äº2çš„næ¬¡æ–¹</p><p>i&gt;&gt;j å°±æ˜¯æŠŠiè¿™ä¸ªäºŒè¿›åˆ¶æ•°å¾€å³ç§»åŠ¨jä½</p><p>æ¯”å¦‚0001  ç§»åŠ¨0ä½æ˜¯1  ç§»åŠ¨1ä½æ˜¯0 ç§»åŠ¨ä¸¤ä½æ˜¯0 ä¸‰ä½æ˜¯0</p><p>å°±æ˜¯ç”¨è¿™ç§æ–¹å¼ ä»£è¡¨æ¯ä¸ªä½ç½®ä¸Šçš„æ•°é€‰æˆ–ä¸é€‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">subsets</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]:<br>        n = <span class="hljs-built_in">len</span>(nums)<br>        rets = []<br>        i = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">while</span> i &lt; (<span class="hljs-number">1</span>&lt;&lt;n):<br>            ret = []<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>                <span class="hljs-keyword">if</span> (i &gt;&gt; j) &amp; <span class="hljs-number">1</span> == <span class="hljs-number">1</span>:<br>                    ret.append(nums[j])<br>            rets.append(ret)<br>            i += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> rets<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>algorithm</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>pytorchç¯å¢ƒ</title>
    <link href="/2023/10/07/pytorch%E7%8E%AF%E5%A2%83/"/>
    <url>/2023/10/07/pytorch%E7%8E%AF%E5%A2%83/</url>
    
    <content type="html"><![CDATA[<h1 id="é…ä¸ªç¯å¢ƒé…äº†ä¸€å¤©-äººéº»äº†"><a href="#é…ä¸ªç¯å¢ƒé…äº†ä¸€å¤©-äººéº»äº†" class="headerlink" title="é…ä¸ªç¯å¢ƒé…äº†ä¸€å¤© äººéº»äº†"></a>é…ä¸ªç¯å¢ƒé…äº†ä¸€å¤© äººéº»äº†</h1><p>ä¸çŸ¥é“ä¸ºä»€ä¹ˆåªæœ‰è¿™ä¸ªç‰ˆæœ¬å¯ä»¥ç”¨ ä¸‹æ¬¡é‡å»ºcondaè™šæ‹Ÿç¯å¢ƒçš„æ—¶å€™è¦ç”¨è¿™ä¸ªä¸‹è½½ </p><p>å¹¶ä¸”åœ¨ä¸‹è½½ä¹‹å‰è®°å¾—</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cmake">conda <span class="hljs-keyword">install</span> cpuonly<br>conda uninstall cpuonly<br></code></pre></td></tr></table></figure><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">conda</span> install pytorch==<span class="hljs-number">1</span>.<span class="hljs-number">12</span>.<span class="hljs-number">0</span> torchvision==<span class="hljs-number">0</span>.<span class="hljs-number">13</span>.<span class="hljs-number">0</span> torchaudio==<span class="hljs-number">0</span>.<span class="hljs-number">12</span>.<span class="hljs-number">0</span> cudatoolkit=<span class="hljs-number">11</span>.<span class="hljs-number">3</span> -c pytorch<br></code></pre></td></tr></table></figure><h1 id="è‰¹-åœ¨condaè™šæ‹Ÿç¯å¢ƒè¦ç”¨conda-install"><a href="#è‰¹-åœ¨condaè™šæ‹Ÿç¯å¢ƒè¦ç”¨conda-install" class="headerlink" title="è‰¹ åœ¨condaè™šæ‹Ÿç¯å¢ƒè¦ç”¨conda install"></a>è‰¹ åœ¨condaè™šæ‹Ÿç¯å¢ƒè¦ç”¨conda install</h1><p>ä¸ºä»€ä¹ˆæˆ‘ç–¯ç‹‚ç”¨pip installå•Šå•Šå•Š</p><h1 id="pipå¼€ä»£ç†å¯èƒ½ä¼šå‡ºç°è·¯å¾„é”™è¯¯"><a href="#pipå¼€ä»£ç†å¯èƒ½ä¼šå‡ºç°è·¯å¾„é”™è¯¯" class="headerlink" title="pipå¼€ä»£ç†å¯èƒ½ä¼šå‡ºç°è·¯å¾„é”™è¯¯"></a>pipå¼€ä»£ç†å¯èƒ½ä¼šå‡ºç°è·¯å¾„é”™è¯¯</h1><p>åˆ°åº•è¿˜æœ‰å¤šå°‘ç¦»è°±çš„é—®é¢˜å•Š</p><h1 id="ä¸‹ä¸ä¸‹æ¥çš„åŒ…-å±…ç„¶å¯ä»¥ç›´æ¥å¤åˆ¶ç²˜è´´æ–‡ä»¶å¤¹å—ï¼Ÿï¼ˆğŸ˜€"><a href="#ä¸‹ä¸ä¸‹æ¥çš„åŒ…-å±…ç„¶å¯ä»¥ç›´æ¥å¤åˆ¶ç²˜è´´æ–‡ä»¶å¤¹å—ï¼Ÿï¼ˆğŸ˜€" class="headerlink" title="ä¸‹ä¸ä¸‹æ¥çš„åŒ… å±…ç„¶å¯ä»¥ç›´æ¥å¤åˆ¶ç²˜è´´æ–‡ä»¶å¤¹å—ï¼Ÿï¼ˆğŸ˜€"></a>ä¸‹ä¸ä¸‹æ¥çš„åŒ… å±…ç„¶å¯ä»¥ç›´æ¥å¤åˆ¶ç²˜è´´æ–‡ä»¶å¤¹å—ï¼Ÿï¼ˆğŸ˜€</h1>]]></content>
    
    
    
    <tags>
      
      <tag>pytorch</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŸºç¯æ ‘</title>
    <link href="/2023/10/03/%E5%9F%BA%E7%8E%AF%E6%A0%91/"/>
    <url>/2023/10/03/%E5%9F%BA%E7%8E%AF%E6%A0%91/</url>
    
    <content type="html"><![CDATA[<h1 id="æ¨¡æ¿"><a href="#æ¨¡æ¿" class="headerlink" title="æ¨¡æ¿"></a>æ¨¡æ¿</h1><p>ä¸€èˆ¬æ¥è¯´å°±æ˜¯å…ˆå­˜åå›¾ ç®—å…¥åº¦ </p><p>ç„¶åæ‹“æ‰‘æ’åº å‰©ä¸‹çš„å°±æ˜¯åŸºç¯</p><p>ç¬¬ä¸‰æ­¥ åˆ†åˆ«å¯¹æ¯ä¸ªåŸºç¯è¿›è¡Œæ“ä½œ æ‰¾åŸºç¯çš„æ–¹å¼ä¸ºæ¨¡æ¿ï¼ˆå¦‚ä¸‹é¢˜ï¼‰</p><h1 id="2127-å‚åŠ ä¼šè®®çš„æœ€å¤šå‘˜å·¥æ•°-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#2127-å‚åŠ ä¼šè®®çš„æœ€å¤šå‘˜å·¥æ•°-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="2127. å‚åŠ ä¼šè®®çš„æœ€å¤šå‘˜å·¥æ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/maximum-employees-to-be-invited-to-a-meeting/description/">2127. å‚åŠ ä¼šè®®çš„æœ€å¤šå‘˜å·¥æ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">maximumInvitations</span>(<span class="hljs-params">self, favorite: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        n = <span class="hljs-built_in">len</span>(favorite)<br>        deg = [<span class="hljs-number">0</span>] * n<br>        rg = [[] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n)]<br>        <span class="hljs-keyword">for</span> x, y <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(favorite):<br>            rg[y].append(x)<br>            deg[y] += <span class="hljs-number">1</span><br><br>        q = deque(i <span class="hljs-keyword">for</span> i, d <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(deg) <span class="hljs-keyword">if</span> d == <span class="hljs-number">0</span>)<br>        <span class="hljs-keyword">while</span> q:<br>            x = q.popleft()<br>            y = favorite[x]<br>            deg[y] -= <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> deg[y] == <span class="hljs-number">0</span>:<br>                q.append(y)<br><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">rdfs</span>(<span class="hljs-params">x: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>            m_depth = <span class="hljs-number">1</span><br>            <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> rg[x]:<br>                <span class="hljs-keyword">if</span> deg[y] == <span class="hljs-number">0</span>:<br>                    m_depth = <span class="hljs-built_in">max</span>(m_depth, rdfs(y) + <span class="hljs-number">1</span>)<br>            <span class="hljs-keyword">return</span> m_depth<br><br>        <br>        max_ring_size = sum_chine_size = <span class="hljs-number">0</span><br>        <span class="hljs-comment"># æ‰¾åŸºç¯çš„å¥—è·¯</span><br>        <span class="hljs-keyword">for</span> i, d <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(deg):<br>            <span class="hljs-keyword">if</span> d &lt;= <span class="hljs-number">0</span>:<br>                <span class="hljs-keyword">continue</span><br>            res = <span class="hljs-number">0</span><br>            x = i<br>            <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>                res += <span class="hljs-number">1</span><br>                deg[x] = -<span class="hljs-number">1</span><br>                x = favorite[x]<br>                <span class="hljs-keyword">if</span> x == i:<br>                    <span class="hljs-keyword">break</span><br>            <span class="hljs-keyword">if</span> res == <span class="hljs-number">2</span>:<br>                sum_chine_size += rdfs(i) + rdfs(favorite[i])<br>            <span class="hljs-keyword">else</span>:<br>                max_ring_size = <span class="hljs-built_in">max</span>(max_ring_size, res)<br>        <br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">max</span>(max_ring_size, sum_chine_size)<br></code></pre></td></tr></table></figure><h1 id="2876-æœ‰å‘å›¾è®¿é—®è®¡æ•°-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#2876-æœ‰å‘å›¾è®¿é—®è®¡æ•°-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="2876. æœ‰å‘å›¾è®¿é—®è®¡æ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/count-visited-nodes-in-a-directed-graph/description/">2876. æœ‰å‘å›¾è®¿é—®è®¡æ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">countVisitedNodes</span>(<span class="hljs-params">self, g: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        n = <span class="hljs-built_in">len</span>(g)<br>        rg = [[] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n)]<br>        deg = [<span class="hljs-number">0</span>] * n<br>        <span class="hljs-keyword">for</span> x, y <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(g):<br>            rg[y].append(x)<br>            deg[y] += <span class="hljs-number">1</span><br>        <br>        q = deque(i <span class="hljs-keyword">for</span> i, d <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(deg) <span class="hljs-keyword">if</span> d == <span class="hljs-number">0</span>)<br>        <span class="hljs-keyword">while</span> q:<br>            x = q.popleft()<br>            y = g[x]<br>            deg[y] -= <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> deg[y] == <span class="hljs-number">0</span>:<br>                q.append(y)<br>        <br>        ans = [<span class="hljs-number">0</span>] * n<br><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">rdfs</span>(<span class="hljs-params">x, depth</span>):<br>            ans[x] = depth<br>            <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> rg[x]:<br>                <span class="hljs-keyword">if</span> deg[y] == <span class="hljs-number">0</span>:<br>                    rdfs(y, depth + <span class="hljs-number">1</span>)<br><br>        <span class="hljs-comment"># æ‰¾åŸºç¯çš„æ“ä½œ</span><br>        <span class="hljs-keyword">for</span> i, d <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(deg):<br>            <span class="hljs-keyword">if</span> d &lt;= <span class="hljs-number">0</span>:<br>                <span class="hljs-keyword">continue</span><br>            ring = []<br>            x = i<br>            <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>                ring.append(x)<br>                deg[x] = -<span class="hljs-number">1</span><br>                x = g[x]<br>                <span class="hljs-keyword">if</span> x == i:<br>                    <span class="hljs-keyword">break</span><br>            <br>            <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> ring:<br>                rdfs(x, <span class="hljs-built_in">len</span>(ring))<br>        <br>        <span class="hljs-keyword">return</span> ans<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>algorithm</tag>
      
      <tag>Ans</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº</title>
    <link href="/2023/10/02/%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%97%B6%E6%9C%BA/"/>
    <url>/2023/10/02/%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%97%B6%E6%9C%BA/</url>
    
    <content type="html"><![CDATA[<h1 id="è‚¡ç¥¨é—®é¢˜ç³»åˆ—é€šè§£ï¼ˆè½¬è½½ç¿»è¯‘ï¼‰-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#è‚¡ç¥¨é—®é¢˜ç³»åˆ—é€šè§£ï¼ˆè½¬è½½ç¿»è¯‘ï¼‰-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="è‚¡ç¥¨é—®é¢˜ç³»åˆ—é€šè§£ï¼ˆè½¬è½½ç¿»è¯‘ï¼‰ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/circle/discuss/qiAgHn/">è‚¡ç¥¨é—®é¢˜ç³»åˆ—é€šè§£ï¼ˆè½¬è½½ç¿»è¯‘ï¼‰ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><p>é¦–å…ˆï¼Œé€šç”¨çŠ¶æ€è¡¨ç¤ºæ˜¯dp[i] [k] [0]å’Œdp[i] [k] [1]è¡¨ç¤ºç¬¬iå¤©æ—¶ äº¤æ˜“kæ¬¡ æ‰‹ä¸Šæœ‰0&#x2F;1åªè‚¡ç¥¨çš„æ—¶å€™çš„æœ€å¤§åˆ©æ¶¦ </p><p>çŠ¶æ€è®¡ç®—ï¼Œdp[i] [k] [0] &#x3D; max(dp[i - 1] [k] [0], dp[i - 1] [k] [1] + price[i]])</p><p>ç¬¬iå¤©æ‰‹ä¸Šæœ‰0åªè‚¡ç¥¨çš„æœ€å¤§æ”¶ç›Šä¸º ç¬¬i - 1å¤©æ‰‹ä¸Šæœ‰0åªè‚¡ç¥¨ å’Œ ç¬¬i - 1å¤©æ‰‹ä¸Šæœ‰1åªè‚¡ç¥¨å¹¶ä¸”å–æ‰çš„æœ€å¤§æ”¶ç›Š </p><p>dp[i] [k] [1] &#x3D; max(dp[i - 1] [k] [1], dp[i - 1] [k - 1] [0] - price[i]])</p><p>ç¬¬iå¤©æ‰‹ä¸Šæœ‰1åªè‚¡ç¥¨çš„æœ€å¤§æ”¶ç›Šä¸º ç¬¬i - 1å¤©æ‰‹ä¸Šæœ‰1åªè‚¡ç¥¨ å’Œ ç¬¬i - 1å¤©æ‰‹ä¸Šæœ‰0åªè‚¡ç¥¨å¹¶ä¸”ä¹°å…¥çš„æœ€å¤§æ”¶ç›Š æ³¨æ„ è¦å‡æ‰ä¸€æ¬¡äº¤æ˜“æ¬¡æ•°</p><p>å½“k &gt;&#x3D; n &#x2F;&#x2F; 2æ—¶ å°±ç›¸å½“äºkæ— é™ å› ä¸ºä¹°å…¥å–å‡ºç®—ä¸€æ¬¡äº¤æ˜“ é‚£ä¹ˆæœ€å¤šå‰é¢ä¸€åŠå…¨ä¹°å…¥ åé¢ä¸€åŠå…¨å–å‡º</p><p>æ‰‹ç»­è´¹ç›´æ¥å‡æ‰</p><p>å†·å†»æœŸå°±è·³è¿‡ä¸€å¤©  åŠ å…¥i - 2å¤©è¿™ä¸ªå˜é‡ ä¹°å…¥çš„æ—¶å€™è¦ä»ç¬¬i - 2å¤©è½¬ç§»è¿‡æ¥</p>]]></content>
    
    
    
    <tags>
      
      <tag>Ans</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é›†åˆé¢˜è§£</title>
    <link href="/2023/09/30/%E9%9B%86%E5%90%88%E9%A2%98%E8%A7%A3/"/>
    <url>/2023/09/30/%E9%9B%86%E5%90%88%E9%A2%98%E8%A7%A3/</url>
    
    <content type="html"><![CDATA[<h1 id="P1551-äº²æˆš-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn"><a href="#P1551-äº²æˆš-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn" class="headerlink" title="P1551 äº²æˆš - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)"></a><a href="https://www.luogu.com.cn/problem/P1551">P1551 äº²æˆš - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)</a></h1><p>å¹¶æŸ¥é›†æ¨¡æ¿</p><p>çœ‹ä¸¤ä¸ªæ•°æ˜¯ä¸æ˜¯åœ¨ä¸€ä¸ªé›†åˆ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python">n, m, p  = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split())<br><br>fa = [i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">100010</span>)]<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">find</span>(<span class="hljs-params">x</span>) -&gt; <span class="hljs-built_in">int</span>:<br>    <span class="hljs-keyword">if</span> fa[x] == x:<br>        <span class="hljs-keyword">return</span> x<br>    fa[x] = find(fa[x])<br>    <span class="hljs-keyword">return</span> fa[x]<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">union</span>(<span class="hljs-params">x, y</span>):<br>    fa[find(x)] = find(y)<br><br><br><span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(m):<br>    a, b = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split())<br>    union(a, b)<br><span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(p):<br>    a, b = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split())<br>    <span class="hljs-keyword">if</span> find(a) == find(b):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Yes&quot;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;No&quot;</span>)<br></code></pre></td></tr></table></figure><h1 id="Loading-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn"><a href="#Loading-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn" class="headerlink" title="Loading - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)"></a><a href="https://www.luogu.com.cn/problem/P1536">Loading - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)</a></h1><p>ä¸æ˜¯çœ‹ä¸¤ä¸ªæ•°æ˜¯ä¸æ˜¯åœ¨ä¸€ä¸ªé›†åˆ è€Œæ˜¯è®¡ç®—ä¸€å…±æœ‰å¤šå°‘ä¸ªé›†åˆ</p><p>è®¡ç®—è¿˜éœ€è¦ä¿®å‡ æ¡è·¯æ‰èƒ½æŠŠæ‰€æœ‰æ‘å­è¿æ¥èµ·æ¥ å…¶å®å°±æ˜¯æ±‚ç°åœ¨çš„é›†åˆæ•° è¿èµ·æ¥çš„æ‘å­å½“åŒä¸€ä¸ªæ‘å­ å½“fa[i] &#x3D;&#x3D; i çš„æ—¶å€™ cnt + 1  å› ä¸ºæ¯ä¸ªé›†åˆæœ‰ä¸”ä»…æœ‰ä¸€ä¸ª fa[i] &#x3D;&#x3D; i å› æ­¤å¯ä»¥ç”¨æ¥è®¡æ•° æœ€å æ‘å­æ•°å‡ä¸€å°±æ˜¯é“è·¯æ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">find</span>(<span class="hljs-params">x</span>):<br>    <span class="hljs-keyword">if</span> x == fa[x]:<br>        <span class="hljs-keyword">return</span> x<br>    fa[x] = find(fa[x])<br>    <span class="hljs-keyword">return</span> fa[x]<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">union</span>(<span class="hljs-params">x, y</span>):<br>    fa[find(x)] = find(y)<br><br><br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    l = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split()))<br>    n = l[<span class="hljs-number">0</span>]<br>    <span class="hljs-keyword">if</span> n == <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">break</span><br>    m = l[<span class="hljs-number">1</span>]<br>    fa = [i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">100010</span>)]<br><br>    cnt = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(m):<br>        a, b = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split())<br>        union(a, b)<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>):<br>        <span class="hljs-keyword">if</span> fa[i] == i:<br>            cnt += <span class="hljs-number">1</span><br><br>    <span class="hljs-built_in">print</span>(cnt - <span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><h1 id="P3370-ã€æ¨¡æ¿ã€‘å­—ç¬¦ä¸²å“ˆå¸Œ-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn"><a href="#P3370-ã€æ¨¡æ¿ã€‘å­—ç¬¦ä¸²å“ˆå¸Œ-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn" class="headerlink" title="P3370 ã€æ¨¡æ¿ã€‘å­—ç¬¦ä¸²å“ˆå¸Œ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)"></a><a href="https://www.luogu.com.cn/problem/P3370">P3370 ã€æ¨¡æ¿ã€‘å­—ç¬¦ä¸²å“ˆå¸Œ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)</a></h1><p>ä¸ºæ¯ä¸ªå­—ç¬¦ä¸²æ±‚ä¸€ä¸ªhashå€¼ ç›´æ¥æ”¾å…¥åˆ—è¡¨ä¸­ æ’åºåˆ—è¡¨ ç„¶åçœ‹ç›¸é‚»çš„ä¸¤ä¸ªæ•°çš„å€¼æ˜¯å¦ä¸€æ ·</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python">base = <span class="hljs-number">131</span><br>prime = <span class="hljs-number">233317</span><br>mod = <span class="hljs-number">212370440130137957</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">hashe</span>(<span class="hljs-params">s</span>):<br>    ans = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">for</span> char <span class="hljs-keyword">in</span> s:<br>        ans = (ans * base + <span class="hljs-built_in">ord</span>(char)) % mod + prime<br>    <span class="hljs-keyword">return</span> ans<br><br>n = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>())<br>a = []<br><br><span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>    s = <span class="hljs-built_in">input</span>()<br>    a.append(hashe(s))<br><br>a.sort()<br>ans = <span class="hljs-number">1</span><br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n - <span class="hljs-number">1</span>):<br>    <span class="hljs-keyword">if</span> a[i] != a[i + <span class="hljs-number">1</span>]:<br>        ans += <span class="hljs-number">1</span><br><br><span class="hljs-built_in">print</span>(ans)<br><br></code></pre></td></tr></table></figure><h1 id="P3405-USACO16DEC-Cities-and-States-S-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn"><a href="#P3405-USACO16DEC-Cities-and-States-S-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn" class="headerlink" title="[P3405 USACO16DEC] Cities and States S - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)"></a>[P3405 <a href="https://www.luogu.com.cn/problem/P3405">USACO16DEC] Cities and States S - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)</a></h1><p>æ±‚åŸå¸‚å¯¹æ•° ç®—å‡ºæ¯ä¸ªåŸå¸‚çš„hashå€¼ï¼ˆåªéœ€è¦çœ‹å‰ä¸¤ä½ï¼‰ å¦‚æœABä¸æ˜¯åŒä¸€åº§åŸå¸‚  é‚£ä¹ˆA Bå°±æ˜¯ä¸€ä¸ªåŸå¸‚å¯¹ å…ˆæ”¾å…¥mpä¸­å­˜èµ·æ¥  è€ŒB Aå¯ä»¥ç›´æ¥åŠ åˆ°ç­”æ¡ˆé‡Œï¼ˆé¢˜ç›®è¦æ±‚æœ‰ä¸¤ä¸ªåŸå¸‚äº’ä¸ºå¯¹çš„æ—¶å€™æ‰ç®—ä¸€ä¸ª æ¯”å¦‚MIAMT FL  å’Œ FLINT å’Œ MI ç®—ä¸€å¯¹ï¼‰æ‰€ä»¥æ¯æ¬¡é‡åˆ°A Béƒ½å…ˆå­˜ç€  çŸ¥é“é‡åˆ°B  Aå†ä¸€æ¬¡å–å‡ºæ¥</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python">n = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>())<br>ans = <span class="hljs-number">0</span><br>mp = [[<span class="hljs-number">0</span>] * <span class="hljs-number">676</span> <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">676</span>)]<br><span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>    a, b = <span class="hljs-built_in">input</span>().split()<br>    A = (<span class="hljs-built_in">ord</span>(a[<span class="hljs-number">0</span>]) - <span class="hljs-built_in">ord</span>(<span class="hljs-string">&#x27;A&#x27;</span>)) * <span class="hljs-number">26</span> + <span class="hljs-built_in">ord</span>(a[<span class="hljs-number">1</span>]) - <span class="hljs-built_in">ord</span>(<span class="hljs-string">&#x27;A&#x27;</span>)<br>    B = (<span class="hljs-built_in">ord</span>(b[<span class="hljs-number">0</span>]) - <span class="hljs-built_in">ord</span>(<span class="hljs-string">&#x27;A&#x27;</span>)) * <span class="hljs-number">26</span> + <span class="hljs-built_in">ord</span>(b[<span class="hljs-number">1</span>]) - <span class="hljs-built_in">ord</span>(<span class="hljs-string">&#x27;A&#x27;</span>)<br><br>    <span class="hljs-keyword">if</span> A != B:<br>        mp[A][B] += <span class="hljs-number">1</span>  <br>        ans += mp[B][A]<br><br><br><span class="hljs-built_in">print</span>(ans)<br></code></pre></td></tr></table></figure><h1 id="P1102-A-B-æ•°å¯¹-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn"><a href="#P1102-A-B-æ•°å¯¹-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn" class="headerlink" title="P1102 A-B æ•°å¯¹ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)"></a><a href="https://www.luogu.com.cn/problem/P1102">P1102 A-B æ•°å¯¹ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)</a></h1><p>è®¡æ•° ç„¶åçœ‹mpä¸­æœ‰æ²¡æœ‰A - k</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python">n, k = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>,<span class="hljs-built_in">input</span>().split())<br>nums = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split()))<br>mp = &#123;&#125;<br><span class="hljs-keyword">for</span> i, x <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(nums):<br>    <span class="hljs-keyword">if</span> x <span class="hljs-keyword">in</span> mp:<br>        mp[x] += <span class="hljs-number">1</span><br>    <span class="hljs-keyword">else</span>:<br>        mp[x] = <span class="hljs-number">1</span><br><br>ans = <span class="hljs-number">0</span><br><span class="hljs-keyword">for</span> key, value <span class="hljs-keyword">in</span> mp.items():<br>    <span class="hljs-keyword">if</span> key - k <span class="hljs-keyword">in</span> mp:<br>       ans += mp[key - k] * value<br><br><span class="hljs-built_in">print</span>(ans)<br></code></pre></td></tr></table></figure><h1 id="P1525-NOIP2010-æé«˜ç»„-å…³æŠ¼ç½ªçŠ¯-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn"><a href="#P1525-NOIP2010-æé«˜ç»„-å…³æŠ¼ç½ªçŠ¯-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn" class="headerlink" title="[P1525 NOIP2010 æé«˜ç»„] å…³æŠ¼ç½ªçŠ¯ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)"></a>[P1525 <a href="https://www.luogu.com.cn/problem/P1525">NOIP2010 æé«˜ç»„] å…³æŠ¼ç½ªçŠ¯ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)</a></h1><p>å¸¦æƒå¹¶æŸ¥é›†   å¹¶ä¸”ä¸€å…±åªæœ‰ä¸¤ä¸ªé›†åˆ  åˆ¤æ–­æ¯ä¸ªé›†åˆé‡Œé¢è¦æ”¾å“ªäº›</p><p>é¦–å…ˆå®šä¹‰faæ•°ç»„å’ŒEnemyï¼ˆç©ºæ•°ç»„ï¼‰ å¯¹æ‰€æœ‰å›šçŠ¯çš„æ€’æ°”å€¼ä»å¤§åˆ°å°æ’åº æŠŠæœ€å¤§çš„åˆ†åˆ«æ”¾åˆ°ä¸åŒçš„é›†åˆ ç›´åˆ°å‡ºç°å†²çªï¼ˆæ¯”å¦‚æœ‰ä¸ªäººA å’ŒB   å‰é¢æœ‰ä¸€ä¸ªåœ¨1ç›‘ç‹±å·²ç»æ”¾å¥½ è€Œä¸”Bè¢«æ”¾åˆ°2ç›‘ç‹±ï¼ˆå› ä¸º1å’ŒBçš„ä»‡æ¨æ›´å¤§ï¼‰è¿™ä¸ªäººæ²¡åŠæ³• åªèƒ½è¢«æ”¾åˆ°1 å’ŒBä»‡æ¨è¾ƒå°çš„é‚£ä¸ªç›‘ç‹±ï¼‰ç”±äºæ’åºäº† è¿™ä¸ªå€¼å°±æ˜¯æœ€å¤§å€¼  å¸¦æƒå€¼çš„å¹¶æŸ¥é›† åªè¦ç”¨ç»“æ„ä½“åŠ ä¸Šwå°±è¡Œ</p><p>è®°ä½åªæœ‰ä¸¤ä¸ªé›†åˆé‡Œé¢æ”¾çš„æ“ä½œ  å¦‚æœEnemy[A] ä¸º0 é‚£å°±æŠŠEnemy[A]èµ‹å€¼ä¸ºB  ä¸ä¸º0åˆ™åˆå¹¶Enemy[A] å’ŒB</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> sys<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">node</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, fo,to,w</span>):<br>        self.fo = fo<br>        self.to = to<br>        self.w = w<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">find</span>(<span class="hljs-params">k</span>):<br>    <span class="hljs-keyword">if</span> fa[k] == k:<br>        <span class="hljs-keyword">return</span> k<br>    fa[k] = find(fa[k])<br>    <span class="hljs-keyword">return</span> fa[k]<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">union</span>(<span class="hljs-params">x, y</span>):<br>    fa[find(x)] = find(y)<br><br><br>n, m = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split())<br>fa = [i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n + <span class="hljs-number">1</span>)]<br>Enemy = [<span class="hljs-number">0</span>] * <span class="hljs-number">100010</span><br>p = [node(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>) <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">100010</span>)]<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,m + <span class="hljs-number">1</span>):<br>    u, v, w = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split())<br>    p[i].fo = u<br>    p[i].to = v<br>    p[i].w = w<br><br>p.sort(key=<span class="hljs-keyword">lambda</span> x: -x.w)<br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(m):<br>    <span class="hljs-comment"># å¦‚æœå·²ç»åœ¨åŒä¸€ç›‘ç‹±</span><br>    t1, t2 = find(p[i].fo), find(p[i].to)<br>    <span class="hljs-keyword">if</span> t1 == t2:<br>        <span class="hljs-built_in">print</span>(p[i].w)<br>        sys.exit()<br><br>    <span class="hljs-keyword">if</span> Enemy[p[i].fo] == <span class="hljs-number">0</span>:<br>        Enemy[p[i].fo] = p[i].to<br>    <span class="hljs-keyword">else</span>:<br>        union(Enemy[p[i].fo], p[i].to)<br><br>    <span class="hljs-keyword">if</span> Enemy[p[i].to] == <span class="hljs-number">0</span>:<br>        Enemy[p[i].to] = p[i].fo<br>    <span class="hljs-keyword">else</span>:<br>        union(Enemy[p[i].to], p[i].fo)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-number">0</span>)<br><br></code></pre></td></tr></table></figure><h1 id="P1621-é›†åˆ-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn"><a href="#P1621-é›†åˆ-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn" class="headerlink" title="P1621 é›†åˆ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)"></a><a href="https://www.luogu.com.cn/problem/P1621">P1621 é›†åˆ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)</a></h1><p>æœ€ç»ˆçš„é›†åˆæ•°å…¶å®å°±æ˜¯ç®—ç´ æ•°çš„ä¸ªæ•°  å› ä¸ºéç´ æ•°éƒ½ä¼šè¢«åˆå¹¶  æ¯æ¬¡åˆå¹¶æ€»é›†åˆéƒ½å‡å»ä¸€</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">find</span>(<span class="hljs-params">x</span>):<br>    <span class="hljs-keyword">if</span> x == fa[x]:<br>        <span class="hljs-keyword">return</span> x<br>    fa[x] = find(fa[x])<br>    <span class="hljs-keyword">return</span> fa[x]<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">union</span>(<span class="hljs-params">x, y</span>):<br>    fa[find(x)] = find(y)<br><br><br>a, b, p = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split())<br>ans = b - a + <span class="hljs-number">1</span><br>fa = [i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">100010</span>)]<br>prime = [<span class="hljs-number">0</span>] * (b + <span class="hljs-number">1</span>)<br>prime[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>, b + <span class="hljs-number">1</span>):<br>    <span class="hljs-keyword">if</span> prime[i] == <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">if</span> i &gt;= p:<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(i * <span class="hljs-number">2</span>, b + <span class="hljs-number">1</span>, i):<br>                prime[j] = <span class="hljs-literal">True</span><br>                <span class="hljs-keyword">if</span> j - i &gt;= a <span class="hljs-keyword">and</span> find(j) != find(j - i):<br>                    union(j, j - i)<br>                    ans -= <span class="hljs-number">1</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(i * <span class="hljs-number">2</span>, b + <span class="hljs-number">1</span>, i):<br>                prime[j] = <span class="hljs-literal">True</span><br><br><br><span class="hljs-built_in">print</span>(ans)<br></code></pre></td></tr></table></figure><h1 id="P1892-BOI2003-å›¢ä¼™-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn"><a href="#P1892-BOI2003-å›¢ä¼™-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn" class="headerlink" title="[P1892 BOI2003] å›¢ä¼™ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)"></a>[P1892 <a href="https://www.luogu.com.cn/problem/P1892">BOI2003] å›¢ä¼™ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)</a></h1><p>è®°ä½åªæœ‰ä¸¤ä¸ªé›†åˆé‡Œé¢æ”¾çš„æ“ä½œ  å¦‚æœEnemy[A] ä¸º0 é‚£å°±æŠŠEnemy[A]èµ‹å€¼ä¸ºB  ä¸ä¸º0åˆ™åˆå¹¶Enemy[A] å’ŒB</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">find</span>(<span class="hljs-params">x</span>):<br>    <span class="hljs-keyword">if</span> x == fa[x]:<br>        <span class="hljs-keyword">return</span> x<br>    fa[x] = find(fa[x])<br>    <span class="hljs-keyword">return</span> fa[x]<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">union</span>(<span class="hljs-params">x, y</span>):<br>    fa[find(x)] = find(y)<br><br>n = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>())<br>m = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>())<br>fa = [i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">100010</span>)]<br>Enemy = [<span class="hljs-number">0</span>] * <span class="hljs-number">100010</span><br><span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(m):<br>    op, a, b = <span class="hljs-built_in">input</span>().split()<br>    a = <span class="hljs-built_in">int</span>(a)<br>    b = <span class="hljs-built_in">int</span>(b)<br><br>    <span class="hljs-keyword">if</span> op == <span class="hljs-string">&#x27;E&#x27;</span>:<br>        <span class="hljs-keyword">if</span> Enemy[a] == <span class="hljs-number">0</span>:<br>            Enemy[a] = find(b)<br>        <span class="hljs-keyword">else</span>:<br>            union(Enemy[a], b)<br>        <span class="hljs-keyword">if</span> Enemy[b] == <span class="hljs-number">0</span>:<br>            Enemy[b] = find(a)<br>        <span class="hljs-keyword">else</span>:<br>            union(a, Enemy[b])<br>    <span class="hljs-keyword">if</span> op == <span class="hljs-string">&#x27;F&#x27;</span>:<br>        union(a,b)<br><br>count = [<span class="hljs-number">0</span>] * <span class="hljs-number">1001</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>):<br>    count[find(i)] = <span class="hljs-number">1</span><br><br>cnt= <span class="hljs-number">0</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>):<br>    cnt += count[i]<br><br><span class="hljs-built_in">print</span>(cnt)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Ans</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>èµ›é¢˜é¢˜è§£</title>
    <link href="/2023/09/24/%E8%B5%9B%E9%A2%98%E9%A2%98%E8%A7%A3/"/>
    <url>/2023/09/24/%E8%B5%9B%E9%A2%98%E9%A2%98%E8%A7%A3/</url>
    
    <content type="html"><![CDATA[<h1 id="Problem-C-Codeforces"><a href="#Problem-C-Codeforces" class="headerlink" title="Problem - C - Codeforces"></a><a href="https://codeforces.com/contest/1873/problem/C">Problem - C - Codeforces</a></h1><p>å…ˆç»™æ¯ä¸€åœˆèµ‹ä¸€ä¸ªæƒé‡dis</p><p>ç®—è¯¥ç‚¹å…·ä½“åœ¨é‚£ä¸€ä¸ªåœˆæƒå€¼å¤šå°‘ å°±ç”¨dis[min(min(i, j), min(n-i, n-j))]</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">using</span> ll = <span class="hljs-type">long</span> <span class="hljs-type">long</span>;<br><span class="hljs-keyword">using</span> PII = pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt;;<br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> pb push_back</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> all(x) (x).begin(), (x).end()</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> fi first</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> se second</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> endl <span class="hljs-string">&#x27;\n&#x27;</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> debug(x)                          \</span><br><span class="hljs-meta">    &#123;                                     \</span><br><span class="hljs-meta">        cerr &lt;&lt; #x &lt;&lt; <span class="hljs-string">&quot; = &quot;</span> &lt;&lt; x &lt;&lt; endl; \</span><br><span class="hljs-meta">    &#125;</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> debugfull(x)                                                      \</span><br><span class="hljs-meta">    &#123;                                                                     \</span><br><span class="hljs-meta">        cerr &lt;&lt; #x &lt;&lt; <span class="hljs-string">&quot; = &quot;</span> &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot; (line &quot;</span> &lt;&lt; __LINE__ &lt;&lt; <span class="hljs-string">&quot;)&quot;</span> &lt;&lt; endl; \</span><br><span class="hljs-meta">    &#125;</span><br><br><span class="hljs-comment">/*-------------------------------------------*/</span><br><span class="hljs-type">int</span> dis[<span class="hljs-number">5</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>&#125;;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">solve</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    vector&lt;string&gt; nums;<br>    <span class="hljs-type">int</span> n = <span class="hljs-number">10</span>;<br>    <span class="hljs-keyword">while</span> (n--)<br>    &#123;<br>        string s;<br>        cin &gt;&gt; s;<br>        nums.<span class="hljs-built_in">emplace_back</span>(s);<br>    &#125;<br>    ll res = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++)<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">10</span>; j++)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (nums[i][j] == <span class="hljs-string">&#x27;.&#x27;</span>)<br>                <span class="hljs-keyword">continue</span>;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                res += dis[<span class="hljs-built_in">min</span>(<span class="hljs-built_in">min</span>(i, j), <span class="hljs-built_in">min</span>(<span class="hljs-number">9</span> - i, <span class="hljs-number">9</span> - j))];<br>            &#125;<br>        &#125;<br>    &#125;<br>    cout &lt;&lt; res &lt;&lt; endl;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// clock_t st = clock(), ed;</span><br>    ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-number">0</span>);<br>    cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    <span class="hljs-comment">// cout &lt;&lt; setprecision(15) &lt;&lt; fixed;</span><br>    <span class="hljs-type">int</span> T;<br>    cin &gt;&gt; T;<br>    <span class="hljs-keyword">while</span> (T--)<br>    &#123;<br>        <span class="hljs-built_in">solve</span>();<br>    &#125;<br><br>    <span class="hljs-comment">// ed = clock();</span><br>    <span class="hljs-comment">// double endtime = (double)(ed - st) / CLOCKS_PER_SEC;</span><br>    <span class="hljs-comment">// cout &lt;&lt; &quot;Total time: &quot; &lt;&lt; endtime &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><h1 id="Problem-E-Codeforces"><a href="#Problem-E-Codeforces" class="headerlink" title="Problem - E - Codeforces"></a><a href="https://codeforces.com/contest/1873/problem/E">Problem - E - Codeforces</a></h1><p>èµ›æ—¶è°ƒäº†åŠå¤©æ²¡è°ƒå‡ºæ¥ï¼Œå¯„ï¼Œå®³çš„Fä¹Ÿæ²¡è°ƒå‡ºæ¥&#x2F;kk </p><p>äºŒåˆ†çš„æ¿å­æ²¡é—®é¢˜å•Šï¼Œä¸»è¦æ˜¯rçš„èŒƒå›´é”™äº†ï¼Œræ˜¯è¦è¶…è¿‡xå¾ˆå¤šçš„ï¼Œè€Œä¸”è¿˜è¦åŒæ—¶æ³¨æ„ å¼€ll å¦‚æœå¤ªå¤§çš„è¯midçš„èŒƒå›´ä¹Ÿè¦æ³¨æ„</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">using</span> ll = <span class="hljs-type">long</span> <span class="hljs-type">long</span>;<br><span class="hljs-keyword">using</span> PII = pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt;;<br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> pb push_back</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> all(x) (x).begin(), (x).end()</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> fi first</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> se second</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> endl <span class="hljs-string">&#x27;\n&#x27;</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> debug(x)                          \</span><br><span class="hljs-meta">    &#123;                                     \</span><br><span class="hljs-meta">        cerr &lt;&lt; #x &lt;&lt; <span class="hljs-string">&quot; = &quot;</span> &lt;&lt; x &lt;&lt; endl; \</span><br><span class="hljs-meta">    &#125;</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> debugfull(x)                                                      \</span><br><span class="hljs-meta">    &#123;                                                                     \</span><br><span class="hljs-meta">        cerr &lt;&lt; #x &lt;&lt; <span class="hljs-string">&quot; = &quot;</span> &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot; (line &quot;</span> &lt;&lt; __LINE__ &lt;&lt; <span class="hljs-string">&quot;)&quot;</span> &lt;&lt; endl; \</span><br><span class="hljs-meta">    &#125;</span><br><br><span class="hljs-comment">/*-------------------------------------------*/</span><br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">2e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> nums[N];<br><span class="hljs-type">int</span> n, m;<br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">check</span><span class="hljs-params">(<span class="hljs-type">int</span> mid)</span></span><br><span class="hljs-function"></span>&#123;<br>    ll res = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (mid - nums[i] &gt;= <span class="hljs-number">0</span>)<br>            res += (mid - nums[i]);<br>        <span class="hljs-keyword">if</span> (res &gt; m)<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">solve</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><br>    cin &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-built_in">memset</span>(nums, <span class="hljs-number">0</span>, <span class="hljs-built_in">sizeof</span>(nums));<br>    ll l = <span class="hljs-number">1</span>, r = <span class="hljs-number">2e9</span> + <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>    &#123;<br>        cin &gt;&gt; nums[i];<br>    &#125;<br>    <span class="hljs-type">int</span> res = <span class="hljs-number">1</span>, mid;<br><br>    <span class="hljs-keyword">while</span> (l &lt;= r)<br>    &#123;<br>        mid = (l + r) &gt;&gt; <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">check</span>(mid))<br>        &#123;<br>            res = mid;<br>            l = mid + <span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br><br>            r = mid - <span class="hljs-number">1</span>;<br>        &#125;<br>    &#125;<br>    cout &lt;&lt; res &lt;&lt; endl;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// clock_t st = clock(), ed;</span><br>    ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-number">0</span>);<br>    cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    <span class="hljs-comment">// cout &lt;&lt; setprecision(15) &lt;&lt; fixed;</span><br>    <span class="hljs-type">int</span> T;<br>    cin &gt;&gt; T;<br>    <span class="hljs-keyword">while</span> (T--)<br>    &#123;<br>        <span class="hljs-built_in">solve</span>();<br>    &#125;<br><br>    <span class="hljs-comment">// ed = clock();</span><br>    <span class="hljs-comment">// double endtime = (double)(ed - st) / CLOCKS_PER_SEC;</span><br>    <span class="hljs-comment">// cout &lt;&lt; &quot;Total time: &quot; &lt;&lt; endtime &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><h1 id="Problem-G-Codeforces"><a href="#Problem-G-Codeforces" class="headerlink" title="Problem - G - Codeforces"></a><a href="https://codeforces.com/contest/1873/problem/G">Problem - G - Codeforces</a></h1><p>AB-&gt;BC BA-&gt;CB</p><p>é‚£ä¹ˆåªè¦æœ‰Bå°±å¯ä»¥æŠŠæ‰€æœ‰çš„Aéƒ½æ¶ˆé™¤æ‰ï¼ˆåªèƒ½æ¶ˆé™¤ä¸€è¾¹ï¼‰åˆ†å‡ ç§æƒ…å†µæ¥è®¨è®º é¦–å…ˆBåœ¨é¦–æˆ–å°¾çš„æ—¶å€™å¦‚æœä¸­é—´æ²¡æœ‰B å¯ä»¥å…¨éƒ¨æ¶ˆé™¤å®Œ </p><p>å¦‚æœæœ‰ä¸¤ä¸ªBè¿åœ¨ä¸€èµ·çš„è¯åªå¯èƒ½æ˜¯B..BBâ€¦B ä¸­é—´çš„..å¯èƒ½æ˜¯Aä¹Ÿå¯èƒ½æ˜¯B éƒ½å¯ä»¥æŠŠæ‰€æœ‰Aæ¶ˆé™¤ï¼ˆå·¦è¾¹çš„Bæ¶ˆæ‰å·¦è¾¹çš„A å³è¾¹çš„Bæ¶ˆé™¤å³è¾¹çš„B </p><p>å¦‚æœæ²¡æœ‰ä¸¤ä¸ªBè¿åœ¨ä¸€èµ·çš„è¯é‚£ä¹ˆä¸­é—´å¿…ç„¶ä¼šæœ‰ç©ºç¼º  AABABAAé‚£ä¹ˆåªèƒ½æ¶ˆæ‰ä¸‰ä¸ªä¸­çš„ä¸¤ä¸ª æ‰€ä»¥æœ€åè¦å‡å»Aæœ€å°‘çš„ä¸€æ®µ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">using</span> ll = <span class="hljs-type">long</span> <span class="hljs-type">long</span>;<br><span class="hljs-keyword">using</span> PII = pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt;;<br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> pb push_back</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> all(x) (x).begin(), (x).end()</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> fi first</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> se second</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> endl <span class="hljs-string">&#x27;\n&#x27;</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> debug(x)                          \</span><br><span class="hljs-meta">    &#123;                                     \</span><br><span class="hljs-meta">        cerr &lt;&lt; #x &lt;&lt; <span class="hljs-string">&quot; = &quot;</span> &lt;&lt; x &lt;&lt; endl; \</span><br><span class="hljs-meta">    &#125;</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> debugfull(x)                                                      \</span><br><span class="hljs-meta">    &#123;                                                                     \</span><br><span class="hljs-meta">        cerr &lt;&lt; #x &lt;&lt; <span class="hljs-string">&quot; = &quot;</span> &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot; (line &quot;</span> &lt;&lt; __LINE__ &lt;&lt; <span class="hljs-string">&quot;)&quot;</span> &lt;&lt; endl; \</span><br><span class="hljs-meta">    &#125;</span><br><br><span class="hljs-comment">/*-------------------------------------------*/</span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// clock_t st = clock(), ed;</span><br>    ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-number">0</span>);<br>    cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    <span class="hljs-comment">// cout &lt;&lt; setprecision(15) &lt;&lt; fixed;</span><br>    <span class="hljs-type">int</span> n;<br>    cin &gt;&gt; n;<br>    <span class="hljs-keyword">while</span> (n--)<br>    &#123;<br>        string s;<br>        cin &gt;&gt; s;<br>        <span class="hljs-type">bool</span> flag = <span class="hljs-literal">false</span>;<br>        ll sum = <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> n = s.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-type">int</span> cnt = <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> minn = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br>        <span class="hljs-keyword">if</span> (s[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;B&#x27;</span> || s[n - <span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;B&#x27;</span>)<br>            flag = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (s[i] == <span class="hljs-string">&#x27;A&#x27;</span>)<br>                sum++, cnt++;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (s[i] == <span class="hljs-string">&#x27;B&#x27;</span>)<br>            &#123;<br>                minn = <span class="hljs-built_in">min</span>(minn, cnt);<br>                cnt = <span class="hljs-number">0</span>;<br>                <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> &lt; n &amp;&amp; s[i + <span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;B&#x27;</span>)<br>                    flag = <span class="hljs-literal">true</span>;<br>            &#125;<br>        &#125;<br>        minn = <span class="hljs-built_in">min</span>(minn, cnt);<br>        <span class="hljs-keyword">if</span> (flag)<br>        &#123;<br>            cout &lt;&lt; sum &lt;&lt; endl;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">if</span> (minn != <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>)<br>                cout &lt;&lt; sum - minn &lt;&lt; endl;<br>            <span class="hljs-keyword">else</span><br>                cout &lt;&lt; <span class="hljs-number">0</span> &lt;&lt; endl;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// ed = clock();</span><br>    <span class="hljs-comment">// double endtime = (double)(ed - st) / CLOCKS_PER_SEC;</span><br>    <span class="hljs-comment">// cout &lt;&lt; &quot;Total time: &quot; &lt;&lt; endtime &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><h1 id="Problem-H-Codeforces"><a href="#Problem-H-Codeforces" class="headerlink" title="Problem - H - Codeforces"></a><a href="https://codeforces.com/contest/1873/problem/H">Problem - H - Codeforces</a></h1><p>å¯»æ‰¾åŸºç¯æ ‘ï¼ˆå¥—è·¯ï¼‰å› ä¸ºè¿™ä¸ªé¢˜ä¸ä»…è¦åˆ¤æ–­ç¯ è€Œä¸”éœ€è¦å‚¨å­˜</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">using</span> ll = <span class="hljs-type">long</span> <span class="hljs-type">long</span>;<br><span class="hljs-keyword">using</span> PII = pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt;;<br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> pb push_back</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> all(x) (x).begin(), (x).end()</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> fi first</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> se second</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> endl <span class="hljs-string">&#x27;\n&#x27;</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> debug(x)                          \</span><br><span class="hljs-meta">    &#123;                                     \</span><br><span class="hljs-meta">        cerr &lt;&lt; #x &lt;&lt; <span class="hljs-string">&quot; = &quot;</span> &lt;&lt; x &lt;&lt; endl; \</span><br><span class="hljs-meta">    &#125;</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> debugfull(x)                                                      \</span><br><span class="hljs-meta">    &#123;                                                                     \</span><br><span class="hljs-meta">        cerr &lt;&lt; #x &lt;&lt; <span class="hljs-string">&quot; = &quot;</span> &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot; (line &quot;</span> &lt;&lt; __LINE__ &lt;&lt; <span class="hljs-string">&quot;)&quot;</span> &lt;&lt; endl; \</span><br><span class="hljs-meta">    &#125;</span><br><br><span class="hljs-comment">/*-------------------------------------------*/</span><br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">solve</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> n, a, b; <span class="hljs-comment">// a is M b is V</span><br>    cin &gt;&gt; n &gt;&gt; a &gt;&gt; b;<br>    vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; <span class="hljs-built_in">graph</span>(n + <span class="hljs-number">1</span>);<br>    <span class="hljs-comment">// å­˜æ— å‘å›¾</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>    &#123;<br>        <span class="hljs-type">int</span> u, v;<br>        cin &gt;&gt; u &gt;&gt; v;<br>        graph[u].<span class="hljs-built_in">pb</span>(v);<br>        graph[v].<span class="hljs-built_in">pb</span>(u);<br>    &#125;<br>    <span class="hljs-keyword">if</span> (a == b)<br>    &#123;<br>        cout &lt;&lt; <span class="hljs-string">&quot;NO&quot;</span> &lt;&lt; endl;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">incircle</span><span class="hljs-params">(n + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>)</span>, <span class="hljs-title">vis</span><span class="hljs-params">(n + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>)</span>, <span class="hljs-title">pre</span><span class="hljs-params">(n + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>)</span></span>;<br>    <span class="hljs-type">bool</span> ok = <span class="hljs-literal">false</span>;<br>    <br>    function&lt;<span class="hljs-type">void</span>(<span class="hljs-type">int</span>, <span class="hljs-type">int</span>)&gt; dfs = [&amp;](<span class="hljs-type">int</span> u, <span class="hljs-type">int</span> fa)<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> v : graph[u])<br>        &#123;<br>            <span class="hljs-keyword">if</span> (ok)<br>                <span class="hljs-keyword">return</span>;<br>            <span class="hljs-keyword">if</span> (v == fa)<br>                <span class="hljs-keyword">continue</span>;<br>            <span class="hljs-keyword">if</span> (vis[v]) <span class="hljs-comment">// ç¬¬äºŒæ¬¡ç»è¿‡ä»£è¡¨æœ‰ç¯</span><br>            &#123;<br>                ok = <span class="hljs-literal">true</span>;<br>                incircle[v] = <span class="hljs-number">1</span>; <span class="hljs-comment">// æ ‡è®°åœ¨ç¯ä¸Š</span><br>                <span class="hljs-type">int</span> x = u;<br>                <span class="hljs-keyword">do</span><br>                &#123;<br>                    incircle[x] = <span class="hljs-number">1</span>;<br>                    x = pre[x];<br>                &#125; <span class="hljs-keyword">while</span> (x != v); <span class="hljs-comment">// æ ‡è®°ç¯ä¸Šçš„æ‰€æœ‰ç‚¹</span><br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                vis[v] = <span class="hljs-number">1</span>;<br>                pre[v] = u;<br>                <span class="hljs-built_in">dfs</span>(v, u);<br>            &#125;<br>        &#125;<br>    &#125;;<br>    vis[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br>    <span class="hljs-built_in">dfs</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>    <span class="hljs-comment">// å¦‚æœå·²ç»åœ¨ç¯ä¸Šäº†</span><br>    <span class="hljs-keyword">if</span> (incircle[b]) <br>    &#123;<br>        cout &lt;&lt; <span class="hljs-string">&quot;YES&quot;</span> &lt;&lt; endl;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-type">int</span> goal = <span class="hljs-number">-1</span>, gdis = <span class="hljs-number">-1</span>;<br>    queue&lt;PII&gt; q;<br>    <span class="hljs-comment">// æ¸…ç©ºvisæ•°ç»„</span><br>    vis.<span class="hljs-built_in">assign</span>(n + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>    q.<span class="hljs-built_in">push</span>(&#123;b, <span class="hljs-number">0</span>&#125;);<br>    vis[b] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span> (!q.<span class="hljs-built_in">empty</span>())<br>    &#123;<br>        <span class="hljs-type">int</span> u = q.<span class="hljs-built_in">front</span>().first;<br>        <span class="hljs-type">int</span> dis = q.<span class="hljs-built_in">front</span>().second;<br>        q.<span class="hljs-built_in">pop</span>();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> v : graph[u])<br>        &#123;<br>            <span class="hljs-keyword">if</span> (vis[v])<br>                <span class="hljs-keyword">continue</span>;<br>            <span class="hljs-keyword">if</span> (incircle[v])<br>            &#123;<br>                goal = v;<br>                gdis = dis + <span class="hljs-number">1</span>;<br>                <span class="hljs-keyword">goto</span> end;<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                q.<span class="hljs-built_in">push</span>(&#123;v, dis + <span class="hljs-number">1</span>&#125;);<br>                vis[v] = <span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>end:;<br>    <span class="hljs-keyword">if</span> (goal == a)<br>    &#123;<br>        cout &lt;&lt; <span class="hljs-string">&quot;NO&quot;</span> &lt;&lt; endl;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">while</span> (!q.<span class="hljs-built_in">empty</span>())<br>    &#123;<br>        q.<span class="hljs-built_in">pop</span>();<br>    &#125;<br>    <span class="hljs-type">int</span> tdis = <span class="hljs-number">-1</span>;<br>    vis.<span class="hljs-built_in">assign</span>(n + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>    q.<span class="hljs-built_in">push</span>(&#123;a, <span class="hljs-number">0</span>&#125;);<br>    vis[a] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span> (!q.<span class="hljs-built_in">empty</span>())<br>    &#123;<br>        <span class="hljs-type">int</span> u = q.<span class="hljs-built_in">front</span>().first;<br>        <span class="hljs-type">int</span> dis = q.<span class="hljs-built_in">front</span>().second;<br>        q.<span class="hljs-built_in">pop</span>();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> v : graph[u])<br>        &#123;<br>            <span class="hljs-keyword">if</span> (vis[v])<br>                <span class="hljs-keyword">continue</span>;<br>            <span class="hljs-keyword">if</span> (v == goal)<br>            &#123;<br>                tdis = dis + <span class="hljs-number">1</span>;<br>                <span class="hljs-keyword">if</span> (tdis &lt;= gdis)<br>                    cout &lt;&lt; <span class="hljs-string">&quot;NO&quot;</span> &lt;&lt; endl;<br>                <span class="hljs-keyword">else</span><br>                    cout &lt;&lt; <span class="hljs-string">&quot;YES&quot;</span> &lt;&lt; endl;<br>                <span class="hljs-keyword">return</span>;<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                q.<span class="hljs-built_in">push</span>(&#123;v, dis + <span class="hljs-number">1</span>&#125;);<br>                vis[v] = <span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// clock_t st = clock(), ed;</span><br>    ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-number">0</span>);<br>    cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    <span class="hljs-comment">// cout &lt;&lt; setprecision(15) &lt;&lt; fixed;</span><br>    <span class="hljs-type">int</span> T;<br>    cin &gt;&gt; T;<br>    <span class="hljs-keyword">while</span> (T--)<br>    &#123;<br>        <span class="hljs-built_in">solve</span>();<br>    &#125;<br><br>    <span class="hljs-comment">// ed = clock();</span><br>    <span class="hljs-comment">// double endtime = (double)(ed - st) / CLOCKS_PER_SEC;</span><br>    <span class="hljs-comment">// cout &lt;&lt; &quot;Total time: &quot; &lt;&lt; endtime &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><h1 id="5153-åˆ é™¤-AcWingé¢˜åº“"><a href="#5153-åˆ é™¤-AcWingé¢˜åº“" class="headerlink" title="5153. åˆ é™¤ - AcWingé¢˜åº“"></a><a href="https://www.acwing.com/problem/content/5156/">5153. åˆ é™¤ - AcWingé¢˜åº“</a></h1><p>ä¸€ä½æ•° ä¸¤ä½æ•° ä¸‰ä½æ•° åˆ†åˆ«è¡¨è¾¾ è€Œå››ä½æ•°åŠä»¥ä¸Šæ—¶ ä¸éœ€è¦ å› ä¸º1000 å¯ä»¥è¢«8 æ•´é™¤ è€Œæ‰€æœ‰çš„å››ä½æ•° å¦‚1000 2000 3000 ç­‰éƒ½å¯ä»¥è¢«8æ•´é™¤<br>è€Œæ‰€æœ‰çš„å››ä½æ•°éƒ½å¯ä»¥è¢«è¡¨ç¤ºä¸º 1000 * k + x ï¼ˆxä¸ºä¸€ä½æ•°æˆ–è€…ä¸¤ä½æ•° æˆ–è€…ä¸‰ä½æ•° ï¼‰ æ›´é«˜ä½çš„ä»¥æ­¤ç±»æ¨<br>æ‰€ä»¥åªéœ€è¦æšä¸¾1 2 3 ä½æ•°</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">using</span> ll = <span class="hljs-type">long</span> <span class="hljs-type">long</span>;<br><span class="hljs-keyword">using</span> PII = pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt;;<br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> pb push_back</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> all(x) (x).begin(), (x).end()</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> fi first</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> se second</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> endl <span class="hljs-string">&#x27;\n&#x27;</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> debug(x)                          \</span><br><span class="hljs-meta">    &#123;                                     \</span><br><span class="hljs-meta">        cerr &lt;&lt; #x &lt;&lt; <span class="hljs-string">&quot; = &quot;</span> &lt;&lt; x &lt;&lt; endl; \</span><br><span class="hljs-meta">    &#125;</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> debugfull(x)                                                      \</span><br><span class="hljs-meta">    &#123;                                                                     \</span><br><span class="hljs-meta">        cerr &lt;&lt; #x &lt;&lt; <span class="hljs-string">&quot; = &quot;</span> &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot; (line &quot;</span> &lt;&lt; __LINE__ &lt;&lt; <span class="hljs-string">&quot;)&quot;</span> &lt;&lt; endl; \</span><br><span class="hljs-meta">    &#125;</span><br><br><span class="hljs-comment">/*-------------------------------------------*/</span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// clock_t st = clock(), ed;</span><br>    ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-number">0</span>);<br>    cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    <span class="hljs-comment">// cout &lt;&lt; setprecision(15) &lt;&lt; fixed;</span><br>    string s;<br>    cin &gt;&gt; s;<br>    <span class="hljs-type">int</span> n = s.<span class="hljs-built_in">size</span>();<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (s[i] == <span class="hljs-string">&#x27;8&#x27;</span>)<br>        &#123;<br>            cout &lt;&lt; <span class="hljs-string">&quot;YES&quot;</span> &lt;&lt; endl;<br>            cout &lt;&lt; <span class="hljs-string">&quot;8&quot;</span> &lt;&lt; endl;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (s[i] == <span class="hljs-string">&#x27;0&#x27;</span>)<br>        &#123;<br>            cout &lt;&lt; <span class="hljs-string">&quot;YES&quot;</span> &lt;&lt; endl;<br>            cout &lt;&lt; <span class="hljs-string">&quot;0&quot;</span> &lt;&lt; endl;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = i + <span class="hljs-number">1</span>; j &lt; n; j++)<br>        &#123;<br>            <span class="hljs-type">int</span> a = ((s[i] - <span class="hljs-string">&#x27;0&#x27;</span>) * <span class="hljs-number">10</span> + s[j] - <span class="hljs-string">&#x27;0&#x27;</span>);<br>            <span class="hljs-keyword">if</span> (a % <span class="hljs-number">8</span> == <span class="hljs-number">0</span>)<br>            &#123;<br>                cout &lt;&lt; <span class="hljs-string">&quot;YES&quot;</span> &lt;&lt; endl;<br>                cout &lt;&lt; a &lt;&lt; endl;<br>                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = i + <span class="hljs-number">1</span>; j &lt; n; j++)<br>        &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k = j + <span class="hljs-number">1</span>; k &lt; n; k++)<br><br>            &#123;<br>                <span class="hljs-type">int</span> a = ((s[i] - <span class="hljs-string">&#x27;0&#x27;</span>) * <span class="hljs-number">100</span> + (s[j] - <span class="hljs-string">&#x27;0&#x27;</span>) * <span class="hljs-number">10</span> + s[k] - <span class="hljs-string">&#x27;0&#x27;</span>);<br>                <span class="hljs-keyword">if</span> (a % <span class="hljs-number">8</span> == <span class="hljs-number">0</span>)<br>                &#123;<br>                    cout &lt;&lt; <span class="hljs-string">&quot;YES&quot;</span> &lt;&lt; endl;<br>                    cout &lt;&lt; a &lt;&lt; endl;<br>                    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    cout &lt;&lt; <span class="hljs-string">&quot;NO&quot;</span> &lt;&lt; endl;<br><br>    <span class="hljs-comment">// ed = clock();</span><br>    <span class="hljs-comment">// double endtime = (double)(ed - st) / CLOCKS_PER_SEC;</span><br>    <span class="hljs-comment">// cout &lt;&lt; &quot;Total time: &quot; &lt;&lt; endtime &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><h1 id="Problem-D-Codeforces"><a href="#Problem-D-Codeforces" class="headerlink" title="Problem - D - Codeforces"></a><a href="https://codeforces.com/contest/1878/problem/D">Problem - D - Codeforces</a></h1><p>ç»™å‡ºåŒºé—´ ç„¶ååè½¬ å¯ä»¥ç”¨å·®åˆ† å½“è¿™ä¸ªä¸‹æ ‡è¢«æ—‹è½¬å¥‡æ•°æ¬¡çš„æ—¶å€™å°±éœ€è¦æ—‹è½¬ è¢«æ—‹è½¬å¶æ•°æ¬¡çš„æ—¶å€™ å°±ç›¸å½“äºæ²¡åŠ¨ ä¸ç”¨æ—‹è½¬ </p><p>æ¯æ¬¡æ—‹è½¬è¦æ‰¾åˆ°å”¯ä¸€ä¸€ä¸ªi ä½¿å¾—a[i] &lt;&#x3D; x &amp;&amp; b[i] &gt;&#x3D; x ç„¶åæ—‹è½¬a[i] b[i] çš„å…ƒç´  </p><p>å¯ä»¥ç”¨cntï¼ˆç±»ä¼¼å·®åˆ†æ•°ç»„ï¼‰è®°å½•xå‡ºç°çš„æ¬¡æ•°   å¹¶ä¸”ä¸éœ€è¦æ ¹æ®xå¯»æ‰¾ç¬¬äºŒè¡Œæ‰€è¯´çš„é‚£ä¸ªåŒºé—´ è€Œæ˜¯éå†åŒºé—´ æ‰¾åˆ°è¿™ä¸ªåŒºé—´çš„x</p><p>éå†åŒºé—´ ç„¶åå–å‡ºå­ä¸² ä»leftåˆ°midä¾æ¬¡ä¸rightåˆ°midäº¤æ¢ ï¼ˆæ ¹æ®sumçš„å¥‡å¶æ¥åˆ¤æ–­ï¼‰sumå°±æ˜¯å½“å‰ä½ç½®å’Œå¯¹ç§°ä½è¢«äº¤æ¢æ¬¡æ•°ä¹‹å’Œï¼ˆç´¯è®¡   å› ä¸ºæ˜¯å·®åˆ†ï¼‰ç„¶åè¾“å‡ºå­ä¸²</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#include &lt;bits/stdc++.h&gt;</span><br><br>using namespace std;<br><br>using ll = long long;<br>using PII = pair&lt;<span class="hljs-built_in">int</span>, <span class="hljs-built_in">int</span>&gt;;<br><br><span class="hljs-comment">#define pb push_back</span><br><span class="hljs-comment">#define all(x) (x).begin(), (x).end()</span><br><span class="hljs-comment">#define fi first</span><br><span class="hljs-comment">#define se second</span><br><span class="hljs-comment">#define endl &#x27;\n&#x27;</span><br><br><span class="hljs-comment">#define debug(x)                          \</span><br>    &#123;                                     \<br>        cerr &lt;&lt; <span class="hljs-comment">#x &lt;&lt; &quot; = &quot; &lt;&lt; x &lt;&lt; endl; \</span><br>    &#125;<br><span class="hljs-comment">#define debugfull(x)                                                      \</span><br>    &#123;                                                                     \<br>        cerr &lt;&lt; <span class="hljs-comment">#x &lt;&lt; &quot; = &quot; &lt;&lt; x &lt;&lt; &quot; (line &quot; &lt;&lt; __LINE__ &lt;&lt; &quot;)&quot; &lt;&lt; endl; \</span><br>    &#125;<br><br>/*-------------------------------------------*/<br><br>void solve()<br>&#123;<br>    <span class="hljs-built_in">int</span> n, k;<br>    string s;<br>    cin &gt;&gt; n &gt;&gt; k;<br>    cin &gt;&gt; s;<br>    vector&lt;<span class="hljs-built_in">int</span>&gt; a(k), b(k);<br>    vector&lt;<span class="hljs-built_in">int</span>&gt; cnt(n);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; k; i++)<br>        cin &gt;&gt; a[i], a[i]--;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; k; i++)<br>        cin &gt;&gt; b[i], b[i]--;<br>    <span class="hljs-built_in">int</span> q;<br>    cin &gt;&gt; q;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; q; i++)<br>    &#123;<br>        <span class="hljs-built_in">int</span> x;<br>        cin &gt;&gt; x;<br>        cnt[x - <span class="hljs-number">1</span>]++;<br>    &#125;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; k; i++)<br>    &#123;<br>        string s1 = s.substr(a[i], b[i] - a[i] + <span class="hljs-number">1</span>);<br>        <span class="hljs-built_in">int</span> <span class="hljs-built_in">sum</span> = <span class="hljs-number">0</span>;<br>        <span class="hljs-built_in">int</span> l = a[i];<br>        <span class="hljs-built_in">int</span> r = b[i];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> j = l; j &lt;= (l + r) / <span class="hljs-number">2</span>; j++)<br>        &#123;<br>            <span class="hljs-built_in">sum</span> += cnt[j] + cnt[r - j + l];<br>            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">sum</span> % <span class="hljs-number">2</span>)<br>                swap(s1[j - l], s1[r - j]);<br>        &#125;<br>        cout &lt;&lt; s1;<br>    &#125;<br>    cout &lt;&lt; endl;<br>&#125;<br><br><span class="hljs-built_in">int</span> main()<br>&#123;<br>    // clock_t st = clock(), ed;<br>    ios::sync_with_stdio(<span class="hljs-number">0</span>);<br>    cin.tie(<span class="hljs-number">0</span>);<br>    // cout &lt;&lt; setprecision(<span class="hljs-number">15</span>) &lt;&lt; fixed;<br>    <span class="hljs-built_in">int</span> T;<br>    cin &gt;&gt; T;<br>    <span class="hljs-keyword">while</span> (T--)<br>        solve();<br><br>    // ed = clock();<br>    // double endtime = (double)(ed - st) / CLOCKS_PER_SEC;<br>    // cout &lt;&lt; <span class="hljs-string">&quot;Total time: &quot;</span> &lt;&lt; endtime &lt;&lt; endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><h1 id="100019-å°†æ•°ç»„åˆ†å‰²æˆæœ€å¤šæ•°ç›®çš„å­æ•°ç»„-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#100019-å°†æ•°ç»„åˆ†å‰²æˆæœ€å¤šæ•°ç›®çš„å­æ•°ç»„-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="100019. å°†æ•°ç»„åˆ†å‰²æˆæœ€å¤šæ•°ç›®çš„å­æ•°ç»„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/split-array-into-maximum-number-of-subarrays/description/">100019. å°†æ•°ç»„åˆ†å‰²æˆæœ€å¤šæ•°ç›®çš„å­æ•°ç»„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><p>æŒ‰ä½ä¸çš„ç»“æœåªèƒ½è¶Šæ¥è¶Šå° å› æ­¤è¦æ±‚æœ€å°çš„æŒ‰ä½ä¸çš„å­æ•°ç»„çš„å’Œ å°±æ˜¯å…¨éƒ¨ä¸åœ¨ä¸€èµ·çš„å’Œ å°±æ˜¯æœ€å°çš„ ä½†æ˜¯åˆç‰¹æ®Šæƒ…å†µ å°±æ˜¯ å½“å…¨éƒ¨çš„ä¸ä¸º0æ—¶ å¯èƒ½ä¸­é—´æœ‰ä¸€éƒ¨åˆ†å·²ç»ä¸º0äº†  è¿™æ ·å°±å¯ä»¥æ‹†æˆå¾ˆå¤šä¸ªä¸ä¸º0çš„å­æ•°ç»„   å¦‚æœä¸ä¸º0  é‚£å¿…ç„¶æ•´ä¸ªæ•°ç»„çš„ä¸å°±æ˜¯æœ€å°å€¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">maxSubarrays</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        t = nums[<span class="hljs-number">0</span>]<br>        n = <span class="hljs-built_in">len</span>(nums)<br>        cnt = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n):<br>            <span class="hljs-keyword">if</span> t == <span class="hljs-number">0</span>:<br>                cnt += <span class="hljs-number">1</span><br>                t = nums[i]<br>            t&amp;=nums[i]<br>        <span class="hljs-keyword">if</span> t == <span class="hljs-number">0</span>:<br>            cnt += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> cnt <span class="hljs-keyword">if</span> cnt != <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><h1 id="2872-å¯ä»¥è¢«-K-æ•´é™¤è¿é€šå—çš„æœ€å¤§æ•°ç›®-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#2872-å¯ä»¥è¢«-K-æ•´é™¤è¿é€šå—çš„æœ€å¤§æ•°ç›®-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="2872. å¯ä»¥è¢« K æ•´é™¤è¿é€šå—çš„æœ€å¤§æ•°ç›® - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/maximum-number-of-k-divisible-components/solutions/2464559/javapython3cshen-du-you-xian-sou-suo-tan-3r78/">2872. å¯ä»¥è¢« K æ•´é™¤è¿é€šå—çš„æœ€å¤§æ•°ç›® - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><p>ç”±äºé¢˜ç›®è¯´äº† æ•´æ£µæ ‘æ‰€æœ‰ç»“ç‚¹çš„å’Œä¸€å®šä¸ºkçš„å€æ•° é‚£ä¹ˆä»ä¸­å–å‡ºä¸€æ£µèŠ‚ç‚¹å’Œä¸ºkçš„å€é€Ÿçš„å­æ ‘  å‰©ä¸‹çš„éƒ¨åˆ†çš„ç»“ç‚¹å’Œä¸€å®šä¹Ÿä¸ºkçš„å€æ•°  </p><p>å› æ­¤å¯ä»¥è‡ªåº•å‘ä¸Šé€’å½’  æ¯æ¬¡æ‰¾åˆ°ä¸€æ£µèŠ‚ç‚¹å’Œä¸ºkçš„å€æ•°çš„å­æ ‘ å°±ç›´æ¥åŠ å…¥ç­”æ¡ˆ </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">maxKDivisibleComponents</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span>, edges: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]], values: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], k: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        <span class="hljs-comment"># å»ºæ ‘</span><br>        self.link = [[] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n)]<br>        <span class="hljs-keyword">for</span> s, e <span class="hljs-keyword">in</span> edges:<br>            self.link[s].append(e)<br>            self.link[e].append(s)<br>        self.res = <span class="hljs-number">1</span><br>        <span class="hljs-comment"># é€’å½’</span><br>        self.dfs(<span class="hljs-number">0</span>, -<span class="hljs-number">1</span>, values, k)<br>        <span class="hljs-keyword">return</span> self.res<br><br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">dfs</span>(<span class="hljs-params">self, node, parent, values, k</span>):<br>            node_sum = values[node]<br>            <span class="hljs-keyword">for</span> child <span class="hljs-keyword">in</span> self.link[node]:<br>                <span class="hljs-comment"># å› ä¸ºå»ºçš„æ˜¯æ— å‘å›¾ è¦å»æ‰çˆ¶èŠ‚ç‚¹</span><br>                <span class="hljs-keyword">if</span> child == parent:<br>                    <span class="hljs-keyword">continue</span><br>                child_sum = dfs(child, node, values, k)<br>                <span class="hljs-keyword">if</span> child_sum % k == <span class="hljs-number">0</span>:<br>                    self.res += <span class="hljs-number">1</span><br>                <span class="hljs-keyword">else</span>:<br>                    node_sum += child_sum<br>            <span class="hljs-keyword">return</span> node_sum<br></code></pre></td></tr></table></figure><h1 id="100086-æœ‰åºä¸‰å…ƒç»„ä¸­çš„æœ€å¤§å€¼-II-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#100086-æœ‰åºä¸‰å…ƒç»„ä¸­çš„æœ€å¤§å€¼-II-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="100086. æœ‰åºä¸‰å…ƒç»„ä¸­çš„æœ€å¤§å€¼ II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/maximum-value-of-an-ordered-triplet-ii/description/">100086. æœ‰åºä¸‰å…ƒç»„ä¸­çš„æœ€å¤§å€¼ II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><p>éå†j ç®—å‡ºjçš„å‰ç¼€çš„æœ€å¤§å€¼å’Œjçš„åç¼€çš„æœ€å¤§å€¼ å› ä¸ºæ±‚å¾—æ˜¯(nums[i] - nums[j]) * nums[k] æ‰€ä»¥i kè¦å°½é‡å¤§</p><p>åç¼€å°±æ˜¯ä»n - 1å¾€å‰ æ±‚å‡ºæ¯ä¸€ä¸ªjå€¼æ‰€å¯¹åº”çš„æœ€å¤§åç¼€  å‰ç¼€åŒç†</p><p>æœ€åç›´æ¥è®¡ç®—</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">maximumTripletValue</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        n = <span class="hljs-built_in">len</span>(nums)<br>        surmax = [-<span class="hljs-number">1</span>] * (n + <span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n - <span class="hljs-number">1</span>, -<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>):<br>            surmax[i] = <span class="hljs-built_in">max</span>(surmax[i + <span class="hljs-number">1</span>], nums[i])<br>        premax = nums[<span class="hljs-number">0</span>]<br>        ans = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n - <span class="hljs-number">1</span>):<br>            ans = <span class="hljs-built_in">max</span>(ans, (surmax[i + <span class="hljs-number">1</span>] * (premax - nums[i])))<br>            premax = <span class="hljs-built_in">max</span>(premax, nums[i])<br>        <span class="hljs-keyword">return</span> ans <br></code></pre></td></tr></table></figure><h1 id="100076-æ— é™æ•°ç»„çš„æœ€çŸ­å­æ•°ç»„-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#100076-æ— é™æ•°ç»„çš„æœ€çŸ­å­æ•°ç»„-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="100076. æ— é™æ•°ç»„çš„æœ€çŸ­å­æ•°ç»„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/minimum-size-subarray-in-infinite-array/description/">100076. æ— é™æ•°ç»„çš„æœ€çŸ­å­æ•°ç»„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><p>æ»‘åŠ¨çª—å£</p><p>å­æ•°ç»„æ˜¯è¿ç»­çš„ è¦æ±‚æœ€çŸ­çš„å°±æ˜¯å…ˆçœ‹çœ‹ èƒ½å‡‘æˆå‡ ä¸ªå®Œæ•´çš„åŸåºåˆ—  ç„¶åå†ä¸¤ä¸ªåºåˆ—é—´ å‡‘å‡ºå‰©ä½™çš„</p><p>å‰©ä½™çš„å°±ç”¨æ»‘åŠ¨çª—å£æ¥ç®—</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">minSizeSubarray</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], target: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        n = <span class="hljs-built_in">len</span>(nums)<br>        total = <span class="hljs-built_in">sum</span>(nums)<br>        nums = nums + nums<br>        x = target // total<br>        target %= total<br>        s = l = <span class="hljs-number">0</span><br>        ret = <span class="hljs-number">10</span> ** <span class="hljs-number">9</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n * <span class="hljs-number">2</span>):<br>            s += nums[i]<br>            <span class="hljs-keyword">while</span> s &gt; target:<br>                s -= nums[l]<br>                l += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> s == target:<br>                ret = <span class="hljs-built_in">min</span>(ret, i - l + <span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">return</span> ret + x * n<br>        <br></code></pre></td></tr></table></figure><h1 id="8028-æ‰§è¡Œæ“ä½œä½¿ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#8028-æ‰§è¡Œæ“ä½œä½¿ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="8028. æ‰§è¡Œæ“ä½œä½¿ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/apply-operations-to-make-two-strings-equal/">8028. æ‰§è¡Œæ“ä½œä½¿ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><h2 id="O-n-2"><a href="#O-n-2" class="headerlink" title="O(n^2)"></a>O(n^2)</h2><p>é¦–å…ˆ 1çš„ä¸ªæ•°çš„å¥‡å¶ä¸åŒå°±ä¸èƒ½å˜æˆä¸€æ ·çš„ è¿”å›-1</p><p>ç”¨dfsè®¡ç®—åŠ ä¸Š@cacheå˜ä¸ºè®°å¿†åŒ–æœç´¢</p><p>æ¯æ¬¡å˜éƒ½æ˜¯ä¸¤ä¸ªä¸€èµ·å˜ æ“ä½œ1 ç¬¬ä¸€ä¸ªå˜çš„æ—¶å€™å°±è®°å½•è¿™æ¬¡å˜åŒ–çš„æ¶ˆè€—  ç„¶åå¦ä¸€ä¸ªå°±ç›¸å½“äºå¯ä»¥å…è´¹å˜åŒ–  è®°å½•å…è´¹å˜åŒ–çš„æ¬¡æ•°</p><p>æ“ä½œ2 ä¸èƒ½åƒæ“ä½œ1é‚£æ ·åœ¨ä»»æ„ä½ç½®å˜  è€Œæ˜¯ åªè¦ç”¨äº†æ“ä½œ2 å¿…å®šæ˜¯è¿ç»­çš„ä¸¤ä¸ªå˜</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">minOperations</span>(<span class="hljs-params">self, s1: <span class="hljs-built_in">str</span>, s2: <span class="hljs-built_in">str</span>, x: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        <span class="hljs-keyword">if</span> s1.count(<span class="hljs-string">&#x27;1&#x27;</span>) % <span class="hljs-number">2</span> != s2.count(<span class="hljs-string">&#x27;1&#x27;</span>) % <span class="hljs-number">2</span>:<br>            <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span><br><br>        n = <span class="hljs-built_in">len</span>(s1)<br>        <span class="hljs-comment"># ä»å‰å¾€åéå† </span><br><span class="hljs-meta">        @cache</span><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">dfs</span>(<span class="hljs-params">i: <span class="hljs-built_in">int</span>, j: <span class="hljs-built_in">int</span>, pre_rever: <span class="hljs-built_in">bool</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>            <span class="hljs-comment"># åˆ°å¤´äº†</span><br>            <span class="hljs-keyword">if</span> i == n:<br>                <span class="hljs-keyword">return</span> inf <span class="hljs-keyword">if</span> j <span class="hljs-keyword">or</span> pre_rever <span class="hljs-keyword">else</span> <span class="hljs-number">0</span><br>            <span class="hljs-comment"># ä¸éœ€è¦åè½¬</span><br>            <span class="hljs-comment"># å½“å‰ä¸ç›¸ç­‰ ä½†æ˜¯å‰é¢æœ‰åè½¬äº† å¯¼è‡´è¿™ä¸¤ä¸ªç›¸ç­‰</span><br>            <span class="hljs-keyword">if</span> s1[i] != s2[i] <span class="hljs-keyword">and</span> pre_rever:<br>                <span class="hljs-keyword">return</span> dfs(i + <span class="hljs-number">1</span>, j, <span class="hljs-literal">False</span>)<br>            <span class="hljs-comment"># å½“å‰ç›¸ç­‰ å¹¶ä¸”å‰é¢æ²¡åè½¬ è¿™ä¸¤ä¸ªä»ç„¶ç›¸ç­‰</span><br>            <span class="hljs-keyword">if</span> s1[i] == s2[i] <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> pre_rever:<br>                <span class="hljs-keyword">return</span> dfs(i + <span class="hljs-number">1</span>, j, <span class="hljs-literal">False</span>)<br>            <br>            <span class="hljs-comment"># éœ€è¦åè½¬ åˆ†åˆ«ç”¨æ“ä½œ1 å’Œ æ“ä½œ2 å–æœ€å°å€¼ è®°å¾—åŠ ä¸Šåè½¬çš„ä»£ä»· æ“ä½œ1ä¸ºx æ“ä½œ2ä¸º1</span><br>            res = <span class="hljs-built_in">min</span>(dfs(i + <span class="hljs-number">1</span>, j + <span class="hljs-number">1</span>, <span class="hljs-literal">False</span>) + x, dfs(i + <span class="hljs-number">1</span>, j, <span class="hljs-literal">True</span>) + <span class="hljs-number">1</span>)<br>            <br>            <span class="hljs-comment"># æ“ä½œ1çš„å…è´¹åè½¬ï¼ˆæ“ä½œ2çš„å…è´¹åè½¬åœ¨ä¸Šé¢ï¼‰</span><br>            <span class="hljs-keyword">if</span> j:<br>                res = <span class="hljs-built_in">min</span>(res, dfs(i + <span class="hljs-number">1</span>, j - <span class="hljs-number">1</span>, pre_rever))<br>            <br>            <span class="hljs-keyword">return</span> res<br><br>        <span class="hljs-keyword">return</span> dfs(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-literal">False</span>)<br></code></pre></td></tr></table></figure><h2 id="O-n"><a href="#O-n" class="headerlink" title="O(n)"></a>O(n)</h2><p>dpåšæ³•</p><p>æŠŠæ‰€æœ‰éœ€è¦å˜çš„ä½ç½®å…ˆå†™å‡ºæ¥ ç„¶åæ¯æ¬¡æ¶ˆé™¤  é€šè¿‡æ“ä½œ1 æ¯æ¬¡æ¶ˆé™¤ä¸€ä¸ª æ¶ˆè€—x&#x2F;2ï¼ˆæœ€åå¿…å®šæ˜¯å¯ä»¥æ¶ˆå®Œçš„å› ä¸ºä¸è¡Œçš„æƒ…å†µå·²ç»è¿”å›-1äº†ï¼‰æˆ–è€…ç”¨æ“ä½œ2 æ¯æ¬¡æ¶ˆé™¤ä¸¤ä¸ª æ¯”å¦‚1ï¼Œ4ä½ç½®éœ€è¦å˜åŒ– é‚£å°±éœ€è¦3æ¬¡æ“ä½œ12 23 34 è¿™æ ·  éœ€è¦æ¶ˆè€— p[i] - p[i - 1]</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">minOperations</span>(<span class="hljs-params">self, s1: <span class="hljs-built_in">str</span>, s2: <span class="hljs-built_in">str</span>, x: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        <span class="hljs-keyword">if</span> s1 == s2:<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>        p = [i <span class="hljs-keyword">for</span> i, (x, y) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(<span class="hljs-built_in">zip</span>(s1, s2)) <span class="hljs-keyword">if</span> x != y]<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(p) % <span class="hljs-number">2</span>:<br>            <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span><br>        m = <span class="hljs-built_in">len</span>(p)<br><br><span class="hljs-meta">        @cache</span><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">dfs</span>(<span class="hljs-params">i: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>            <span class="hljs-comment"># é€’å½’å‡ºå£  åˆ°-1 è¯´æ˜æ˜¯æ­£å¸¸é€€å‡º ï¼ˆæ“ä½œ1 çš„0 - 1  æ“ä½œ2 çš„1 - 2ï¼‰</span><br>            <span class="hljs-keyword">if</span> i == -<span class="hljs-number">1</span>:<br>                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>            <span class="hljs-comment"># åˆ°-2è¯´æ˜æœ‰é—®é¢˜ è¿”å›infä»£è¡¨è¿™ä¸ªç­”æ¡ˆä¸èƒ½ç”¨</span><br>            <span class="hljs-keyword">if</span> i == -<span class="hljs-number">2</span>:<br>                <span class="hljs-keyword">return</span> inf<br>            <span class="hljs-keyword">return</span> <span class="hljs-built_in">min</span>(dfs(i - <span class="hljs-number">1</span>) + x, dfs(i - <span class="hljs-number">2</span>) + (p[i] - p[i - <span class="hljs-number">1</span>]) * <span class="hljs-number">2</span>)<br>        <span class="hljs-keyword">return</span> dfs(m - <span class="hljs-number">1</span>) // <span class="hljs-number">2</span><br></code></pre></td></tr></table></figure><p>å†ç¿»è¯‘æˆé€’æ¨ dfs(i) -&gt; f[i]   æ³¨æ„ç¿»è¯‘çš„æ—¶å€™ i - 1å’Œi - 2  å¦‚æœæ˜¯f[i - 1] å’Œ f[i - 2] ä¼šå¯¼è‡´æœ€å i &#x3D;&#x3D; -1 å’Œi &#x3D;&#x3D; -2 æ— æ³•è¡¨ç¤º  æ‰€ä»¥ æ¯ä¸ªä¸‹æ ‡åŠ ä¸Š2</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">minOperations</span>(<span class="hljs-params">self, s1: <span class="hljs-built_in">str</span>, s2: <span class="hljs-built_in">str</span>, x: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        f = [<span class="hljs-number">0</span>] * (m + <span class="hljs-number">1</span>)<br>        f[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span><br>        f[<span class="hljs-number">1</span>] = x<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, m):<br>            new_f = <span class="hljs-built_in">min</span>(f[i] + x, f[i - <span class="hljs-number">1</span>] + (p[i] - p[i - <span class="hljs-number">1</span>]) * <span class="hljs-number">2</span>)<br>           f[<span class="hljs-number">0</span>] = f[<span class="hljs-number">1</span>]<br>            f[<span class="hljs-number">1</span>] = new_f<br>        <span class="hljs-keyword">return</span> f[m] // <span class="hljs-number">2</span><br></code></pre></td></tr></table></figure><p>â€‹     ç„¶åç©ºé—´ä¼˜åŒ–  </p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">minOperations</span>(<span class="hljs-params">self, s1: <span class="hljs-built_in">str</span>, s2: <span class="hljs-built_in">str</span>, x: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>    f0, f1 = <span class="hljs-number">0</span>, x<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, m):<br>            f0, f1 = f1, <span class="hljs-built_in">min</span>(f1 + x, f0 + (p[i] - p[i - <span class="hljs-number">1</span>]) * <span class="hljs-number">2</span>)<br>        <span class="hljs-keyword">return</span> f1 // <span class="hljs-number">2</span><br></code></pre></td></tr></table></figure><h1 id="2897-å¯¹æ•°ç»„æ‰§è¡Œæ“ä½œä½¿å¹³æ–¹å’Œæœ€å¤§-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#2897-å¯¹æ•°ç»„æ‰§è¡Œæ“ä½œä½¿å¹³æ–¹å’Œæœ€å¤§-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="2897. å¯¹æ•°ç»„æ‰§è¡Œæ“ä½œä½¿å¹³æ–¹å’Œæœ€å¤§ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/apply-operations-on-array-to-maximize-sum-of-squares/">2897. å¯¹æ•°ç»„æ‰§è¡Œæ“ä½œä½¿å¹³æ–¹å’Œæœ€å¤§ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><p>ä¸ è¶Šä¸è¶Šå° æˆ–è¶Šæˆ–è¶Šå¤§   è€Œx^y + y ^ 2 &lt; (x - d)^2 + (y + d)^2  æ‰€ä»¥ è¦å°½é‡åšæˆ–æ“ä½œ ç›´åˆ°æœ€å¤§</p><p>ç”¨ä½è¿ç®—æ€è€ƒ å…ˆè®°å½•æ‰€æœ‰æ•°æ¯ä¸ªæ¯”ç‰¹ä½ä¸Šæœ‰å¤šå°‘ä¸ª1  ç„¶åæ„é€ å°½é‡å¤§çš„æ•° </p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">maxSum</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], k: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        m = <span class="hljs-built_in">max</span>(nums).bit_length()<br>        cnt = [<span class="hljs-number">0</span>] * m<br>        <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> nums:<br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(m):<br>                cnt[i] += x &gt;&gt; i &amp; <span class="hljs-number">1</span><br>        ans = <span class="hljs-number">0</span><br>        <span class="hljs-comment"># æ„é€ å‡ºkä¸ªå°½å¯èƒ½å¤§çš„æ•°</span><br>        <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(k):<br>            x = <span class="hljs-number">0</span><br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(m):<br>                <span class="hljs-keyword">if</span> cnt[i]:<br>                    <span class="hljs-comment"># æ¶ˆè€—è¯¥æ¯”ç‰¹ä½ä¸Šçš„ä¸€ä¸ª1</span><br>                    cnt[i] -= <span class="hljs-number">1</span><br>                    <span class="hljs-comment"># x |= å°±æ˜¯ç›´æ¥æŠŠè¯¥ä½å˜æˆ1 è€Œ1&lt;&lt;iå°±æ˜¯å¯¹åº”ä½</span><br>                    x |= <span class="hljs-number">1</span> &lt;&lt; i <br>            ans += x * x<br>        <span class="hljs-keyword">return</span> ans % (<span class="hljs-number">10</span> ** <span class="hljs-number">9</span> + <span class="hljs-number">7</span>)<br></code></pre></td></tr></table></figure><h1 id="8026-æ„é€ ä¹˜ç§¯çŸ©é˜µ-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#8026-æ„é€ ä¹˜ç§¯çŸ©é˜µ-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="8026. æ„é€ ä¹˜ç§¯çŸ©é˜µ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/construct-product-matrix/description/">8026. æ„é€ ä¹˜ç§¯çŸ©é˜µ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><p>å‰åç¼€ä¼˜åŒ–</p><p>ç±»ä¼¼çš„è¿˜æœ‰<a href="https://leetcode.cn/problems/product-of-array-except-self/description/">238. é™¤è‡ªèº«ä»¥å¤–æ•°ç»„çš„ä¹˜ç§¯ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><p>ä¸èƒ½ç”¨ä¹˜ç§¯å…¨éƒ¨ä¹˜èµ·æ¥å†é™¤çš„æ–¹æ³• å› ä¸ºé¦–å…ˆå¯èƒ½æœ‰0çš„æƒ…å†µ ä¼šå¯¼è‡´é”™è¯¯ ç„¶åå°±æ˜¯å¤æ‚åº¦å¤ªé«˜äº†</p><p>è™½ç„¶è¯´æ²¡æœ‰å†™å¾ªç¯ ä½†æ˜¯ ä¹˜ç§¯æ˜¯é«˜ç²¾åº¦ä¹˜æ³• å¤æ‚åº¦éå¸¸é«˜æ‰€ä»¥ä¼šè¶…æ—¶</p><p>åŒç†  åœ¨æ¯æ¬¡è®¡ç®—å‰åç¼€çš„æ—¶å€™ä¹Ÿéœ€è¦å–æ¨¡é˜²æ­¢æ•°æ®è¿‡å¤§è¶…æ—¶</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">constructProductMatrix</span>(<span class="hljs-params">self, grid: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]:<br>        pre = suf = <span class="hljs-number">1</span><br>        m = <span class="hljs-built_in">len</span>(grid)<br>        n = <span class="hljs-built_in">len</span>(grid[<span class="hljs-number">0</span>])<br>        ans = [[<span class="hljs-number">0</span>] * n <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(m)]<br>        mod = <span class="hljs-number">12345</span><br><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(m):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>                ans[i][j] = pre % mod<br>                pre = pre * grid[i][j] % mod<br><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(m - <span class="hljs-number">1</span>, -<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n - <span class="hljs-number">1</span>, -<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>):<br>                ans[i][j] = ans[i][j] * suf % mod<br>                suf = suf * grid[i][j] % mod<br>        <span class="hljs-keyword">return</span> ans<br></code></pre></td></tr></table></figure><h1 id="100101-æ‰¾å‡ºæ»¡è¶³å·®å€¼æ¡ä»¶çš„ä¸‹æ ‡-II-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#100101-æ‰¾å‡ºæ»¡è¶³å·®å€¼æ¡ä»¶çš„ä¸‹æ ‡-II-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="100101. æ‰¾å‡ºæ»¡è¶³å·®å€¼æ¡ä»¶çš„ä¸‹æ ‡ II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/find-indices-with-index-and-value-difference-ii/">100101. æ‰¾å‡ºæ»¡è¶³å·®å€¼æ¡ä»¶çš„ä¸‹æ ‡ II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><p>è¿™ç§é¢˜ç›® ä¸‹æ ‡å·® ç„¶åå†æ‰¾æ»¡è¶³å¦ä¸€ä¸ªæ¡ä»¶çš„ å°±éœ€è¦ å‚¨å­˜å‰ç¼€ï¼ˆæˆ–åç¼€ï¼‰çš„æœ€å¤§å€¼å’Œæœ€å°å€¼</p><p>ç±»ä¼¼äºè‚¡ç¥¨çš„ç¬¬ä¸€é¢˜</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">findIndices</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], indexDifference: <span class="hljs-built_in">int</span>, valueDifference: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        n = <span class="hljs-built_in">len</span>(nums)<br>        max_idx = <span class="hljs-number">0</span><br>        min_idx = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(indexDifference, n):<br>            j = i - indexDifference<br>            <span class="hljs-keyword">if</span> nums[j] &gt; nums[max_idx]:<br>                max_idx = j<br>            <span class="hljs-keyword">elif</span> nums[j] &lt; nums[min_idx]:<br>                min_idx = j<br><br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">abs</span>(nums[i] - nums[max_idx]) &gt;= valueDifference:<br>                <span class="hljs-keyword">return</span> [i, max_idx]<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">abs</span>(nums[i] - nums[min_idx]) &gt;= valueDifference:<br>                <span class="hljs-keyword">return</span> [i, min_idx]<br>        <span class="hljs-keyword">return</span> [-<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>] <br></code></pre></td></tr></table></figure><h1 id="100077-æœ€é•¿ç›¸é‚»ä¸ç›¸ç­‰å­åºåˆ—-II-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#100077-æœ€é•¿ç›¸é‚»ä¸ç›¸ç­‰å­åºåˆ—-II-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="100077. æœ€é•¿ç›¸é‚»ä¸ç›¸ç­‰å­åºåˆ— II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/longest-unequal-adjacent-groups-subsequence-ii/description/">100077. æœ€é•¿ç›¸é‚»ä¸ç›¸ç­‰å­åºåˆ— II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><p><a href="https://leetcode.cn/problems/longest-unequal-adjacent-groups-subsequence-ii/solutions/2484023/python3zhu-ju-fen-xi-dong-tai-gui-hua-qi-gdss/">100077. æœ€é•¿ç›¸é‚»ä¸ç›¸ç­‰å­åºåˆ— II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><h1 id="100084-æœ€çŸ­ä¸”å­—å…¸åºæœ€å°çš„ç¾ä¸½å­å­—ç¬¦ä¸²-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#100084-æœ€çŸ­ä¸”å­—å…¸åºæœ€å°çš„ç¾ä¸½å­å­—ç¬¦ä¸²-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="100084. æœ€çŸ­ä¸”å­—å…¸åºæœ€å°çš„ç¾ä¸½å­å­—ç¬¦ä¸² - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/shortest-and-lexicographically-smallest-beautiful-string/description/">100084. æœ€çŸ­ä¸”å­—å…¸åºæœ€å°çš„ç¾ä¸½å­å­—ç¬¦ä¸² - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><p>æ»‘åŠ¨çª—å£ </p><p>ä¸€å¼€å§‹å†™çš„æ—¶å€™ å‡ºäº†å¥½å¤šé”™ww ä¸‹æ ‡ä»€ä¹ˆçš„ whileå¾ªç¯çš„æ¡ä»¶å¸¦ä¸å¸¦ç­‰å· è¿˜æœ‰æœ€åæ›´æ–°å¿˜è®°åˆ¤æ–­å­—å…¸åº</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">shortestBeautifulSubstring</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span>, k: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">str</span>:<br>        n = <span class="hljs-built_in">len</span>(s)<br>        ans = <span class="hljs-string">&quot;&quot;</span><br>        <br>        l = <span class="hljs-number">0</span><br>        cnt = <span class="hljs-number">0</span><br>        i = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            <span class="hljs-keyword">if</span> s[i] == <span class="hljs-string">&#x27;1&#x27;</span>:<br>                cnt += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">while</span> cnt &gt; k:<br>                <span class="hljs-keyword">if</span> s[l] == <span class="hljs-string">&#x27;1&#x27;</span>:<br>                    cnt -= <span class="hljs-number">1</span><br>                    l += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">while</span> l &lt; n <span class="hljs-keyword">and</span> s[l] == <span class="hljs-string">&#x27;0&#x27;</span>:<br>                l += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> cnt == k:<br>                <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(ans) == <span class="hljs-number">0</span>:<br>                    ans = s[l:i + <span class="hljs-number">1</span>]<br>                <span class="hljs-keyword">if</span> i - l + <span class="hljs-number">1</span> &lt; <span class="hljs-built_in">len</span>(ans):<br>                    ans = s[l: i + <span class="hljs-number">1</span>]<br>                <span class="hljs-keyword">elif</span> i - l + <span class="hljs-number">1</span> == <span class="hljs-built_in">len</span>(ans):<br>                    <span class="hljs-keyword">if</span> s[l: i + <span class="hljs-number">1</span>] &lt; ans:<br>                        ans = s[l:i + <span class="hljs-number">1</span>]<br><br>        <br>        <span class="hljs-keyword">return</span> ans<br>    <br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Ans</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>äººå·¥æ™ºèƒ½å¯¼è®º[è¯¾ç¨‹]</title>
    <link href="/2023/09/22/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E5%AF%BC%E8%AE%BA-%E8%AF%BE%E7%A8%8B/"/>
    <url>/2023/09/22/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E5%AF%BC%E8%AE%BA-%E8%AF%BE%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<h1 id="äººå·¥æ™ºèƒ½çš„åº”ç”¨"><a href="#äººå·¥æ™ºèƒ½çš„åº”ç”¨" class="headerlink" title="äººå·¥æ™ºèƒ½çš„åº”ç”¨"></a>äººå·¥æ™ºèƒ½çš„åº”ç”¨</h1><h2 id="å›¾åƒè¯†åˆ«ä¸åˆ†ç±»"><a href="#å›¾åƒè¯†åˆ«ä¸åˆ†ç±»" class="headerlink" title="å›¾åƒè¯†åˆ«ä¸åˆ†ç±»"></a>å›¾åƒè¯†åˆ«ä¸åˆ†ç±»</h2><h3 id="ä»€ä¹ˆæ˜¯å›¾åƒè¯†åˆ«"><a href="#ä»€ä¹ˆæ˜¯å›¾åƒè¯†åˆ«" class="headerlink" title="ä»€ä¹ˆæ˜¯å›¾åƒè¯†åˆ«"></a>ä»€ä¹ˆæ˜¯å›¾åƒè¯†åˆ«</h3><p>ä¸€èˆ¬è€Œè¨€ï¼Œä¼ ç»Ÿå›¾åƒè¯†åˆ«ç³»ç»Ÿä¸»è¦ç”±å›¾åƒåˆ†å‰²ã€å›¾åƒç‰¹å¾æå–ä»¥åŠå›¾åƒè¯†åˆ«åˆ†ç±»æ„æˆã€‚å›¾åƒåˆ†å‰²å°†å›¾åƒåˆ’åˆ†æˆä¸ºå¤šä¸ªæœ‰æ„ä¹‰çš„åŒºåŸŸï¼Œç„¶åå°†æ¯ä¸ªåŒºåŸŸçš„å›¾åƒè¿›è¡Œç‰¹å¾æå–ï¼Œæœ€åæ ¹æ®æå–çš„å›¾åƒç‰¹å¾å¯¹å›¾åƒè¿›è¡Œåˆ†ç±»ã€‚</p><h3 id="ImageNetæ•°æ®é›†"><a href="#ImageNetæ•°æ®é›†" class="headerlink" title="ImageNetæ•°æ®é›†"></a>ImageNetæ•°æ®é›†</h3><p>æ˜¯ä¸€ä¸ªäººå·¥æ ‡å®šçš„æ•°æ®é›†ï¼ŒåŒ…å«1400å¤šä¸‡å¼ å›¾ç‰‡ï¼Œ2ä¸‡å¤šä¸ªç±»åˆ«ã€‚å…³äºå›¾åƒåˆ†ç±»å®šä½æ£€æµ‹ç­‰ç ”ç©¶å¤§å¤šåŸºäºæ­¤æ•°æ®é›†å±•å¼€ï¼Œå‡ ä¹æˆä¸ºç›®å‰æ·±åº¦å­¦ä¹ å›¾åƒé¢†åŸŸç®—æ³•æ€§èƒ½æ£€éªŒçš„æ ‡å‡†æ•°æ®é›†ã€‚</p><h3 id="å·ç§¯ç¥ç»ç½‘ç»œå·¥ä½œè¿‡ç¨‹"><a href="#å·ç§¯ç¥ç»ç½‘ç»œå·¥ä½œè¿‡ç¨‹" class="headerlink" title="å·ç§¯ç¥ç»ç½‘ç»œå·¥ä½œè¿‡ç¨‹"></a>å·ç§¯ç¥ç»ç½‘ç»œå·¥ä½œè¿‡ç¨‹</h3><p>1ã€å¯¹è¾“å…¥çš„çœŸæ˜¯å›¾åƒè¿ç”¨ä¸åŒçš„å›¾åƒç®—å­ï¼ˆåŒ…æ‹¬è¾¹ç¼˜æ£€æµ‹ç­‰ï¼‰è¿›è¡Œæ‰«ææ¥æå–å›¾åƒå½“ä¸­çš„ä¸åŒç‰¹å¾ï¼›</p><p>2ã€é€šè¿‡é‡‡æ ·å¯¹ç‰¹å¾è¿›è¡Œå‹ç¼©ï¼ˆé˜²æ­¢ç‰¹å¾æ•°é‡è¿‡äºåºå¤§ï¼‰</p><p>3ã€è¿›è¡Œå¤šæ¬¡ç‰¹å¾æå–å’Œé‡‡æ ·</p><p>4ã€å…¨è¿æ¥å±‚ä¸ºæ¯ä¸ªèŠ‚ç‚¹çš„è¾“å‡ºæŒ‡å®šä¸€ä¸ªæ ‡ç­¾</p><h3 id="å›¾åƒè¯†åˆ«çš„ä¸»è¦ä½œç”¨"><a href="#å›¾åƒè¯†åˆ«çš„ä¸»è¦ä½œç”¨" class="headerlink" title="å›¾åƒè¯†åˆ«çš„ä¸»è¦ä½œç”¨"></a>å›¾åƒè¯†åˆ«çš„ä¸»è¦ä½œç”¨</h3><p>æ™ºèƒ½å®¶å±…ã€å®‰é˜²ã€é‡‘èã€åŒ»ç–—ã€äº¤é€š</p><h4 id="åŒ»å­¦å½±åƒåˆ†æ"><a href="#åŒ»å­¦å½±åƒåˆ†æ" class="headerlink" title="åŒ»å­¦å½±åƒåˆ†æ"></a>åŒ»å­¦å½±åƒåˆ†æ</h4><ul><li>é€šè¿‡æ·±åº¦å­¦ä¹ å’Œå¤§æ•°æ®ç­‰ï¼Œåœ¨åŒ»å­¦å½±åƒçš„åŸºç¡€ä¸Šï¼Œå®Œæˆå¯¹å½±åƒçš„åˆ†ç±»ç›®æ ‡æ£€æµ‹å›¾åƒåˆ†å‰²å’Œæ£€ç´¢ï¼Œå¸®åŠ©åŒ»ç”Ÿå®Œæˆè¯Šæ–­æ²»ç–—ã€‚</li><li>ä½¿ç”¨æ·±åº¦å­¦ä¹ å¤šå±‚æ„ŸçŸ¥å™¨ï¼Œé€šè¿‡ç»„åˆä½å±‚ç‰¹å¾å½¢æˆæ›´åŠ æŠ½è±¡çš„é«˜çº§ç‰¹å¾ï¼Œæå–å‡ºäººä½“ç»“æ„ã€‚å¯¹èº«ä½“ç»„ç»‡åšæ˜ç¡®åˆ†å‰²ç²¾åº¦æ¯”åŒ»ç”Ÿæ›´é«˜ï¼Œå¯ä»¥æ›´åŠ ç²¾å‡†åœ°å®šé‡è¯„ä»·æ²»ç–—å‰åçš„æ•ˆæœã€‚</li><li>å›¾åƒé…å‡†ï¼Œå›¾åƒèåˆï¼Œå›¾åƒé‡å»º</li></ul><h4 id="è¯­éŸ³è¯†åˆ«"><a href="#è¯­éŸ³è¯†åˆ«" class="headerlink" title="è¯­éŸ³è¯†åˆ«"></a>è¯­éŸ³è¯†åˆ«</h4><ul><li>è¯­éŸ³æ‹¨å·ã€å¯¼èˆªã€å®¤å†…è®¾å¤‡æ§åˆ¶</li><li>ä¸å…¶ä»–è‡ªç„¶è¯­è¨€å¤„ç†æŠ€æœ¯ç»“åˆå¯ä»¥æ„å»ºæ›´å¤æ‚çš„åº”ç”¨ï¼Œå¦‚åŒå£°ä¼ è¯‘ã€‚</li><li>è¯­éŸ³è¾“å…¥</li><li>è¯­éŸ³åŠ©ç†</li></ul><h4 id="äººè„¸è¯†åˆ«å’Œæƒ…æ„Ÿè®¡ç®—"><a href="#äººè„¸è¯†åˆ«å’Œæƒ…æ„Ÿè®¡ç®—" class="headerlink" title="äººè„¸è¯†åˆ«å’Œæƒ…æ„Ÿè®¡ç®—"></a>äººè„¸è¯†åˆ«å’Œæƒ…æ„Ÿè®¡ç®—</h4><h4 id="äººå·¥æ™ºèƒ½ä¸è‡ªåŠ¨é©¾é©¶"><a href="#äººå·¥æ™ºèƒ½ä¸è‡ªåŠ¨é©¾é©¶" class="headerlink" title="äººå·¥æ™ºèƒ½ä¸è‡ªåŠ¨é©¾é©¶"></a>äººå·¥æ™ºèƒ½ä¸è‡ªåŠ¨é©¾é©¶</h4><ul><li>åŒ…æ‹¬æ¨¡å—ï¼Œ å†³ç­–æ¨¡å‹ï¼šéšœç¢ç‰©è¯†åˆ«ã€äº¤é€šæ ‡å¿—è¯†åˆ«ã€è½¦é“è¯†åˆ«</li></ul><h1 id="äººæ— æ³•çŸ¥é“æœºå™¨æ€è€ƒçš„å…·ä½“è¿‡ç¨‹"><a href="#äººæ— æ³•çŸ¥é“æœºå™¨æ€è€ƒçš„å…·ä½“è¿‡ç¨‹" class="headerlink" title="äººæ— æ³•çŸ¥é“æœºå™¨æ€è€ƒçš„å…·ä½“è¿‡ç¨‹"></a>äººæ— æ³•çŸ¥é“æœºå™¨æ€è€ƒçš„å…·ä½“è¿‡ç¨‹</h1><h1 id="æŒ‘æˆ˜"><a href="#æŒ‘æˆ˜" class="headerlink" title="æŒ‘æˆ˜"></a>æŒ‘æˆ˜</h1><h2 id="æŠ€æœ¯"><a href="#æŠ€æœ¯" class="headerlink" title="æŠ€æœ¯"></a>æŠ€æœ¯</h2><ul><li>èƒ½å¦ä¿è¯äººå·¥æ™ºèƒ½çš„åº”ç”¨å¼€å‘è¢«ç”¨äºæ­£ç¡®ç›®æ ‡ã€‚</li><li>æ™ºèƒ½ç³»ç»Ÿå¼€å‘æ—¶å¯èƒ½å­˜åœ¨ç¼ºé™·ã€‚äººæ— æ³•çŸ¥é“æœºå™¨æ€è€ƒçš„å…·ä½“è¿‡ç¨‹ æœºå™¨å­¦ä¹ æ•°æ®æ¥æºå’Œè´¨é‡é—®é¢˜å¯èƒ½æ•™åäººå·¥æ™ºèƒ½</li><li>äººå·¥æ™ºèƒ½ç ”å‘è€…å¤šå…ƒåŒ–ï¼Œä»¥æ­¤æ»¡è¶³ä¸åŒäººç¾¤çš„éœ€æ±‚</li><li>å¯¹äººå·¥æ™ºèƒ½æœåŠ¡ç¾¤ä½“è¿›è¡ŒæŒ‡å¼•å’Œç›‘ç£</li><li>è®©æœºå™¨äººå’Œäººç±»ä¸€æ ·éµå®ˆä¼¦ç†é“å¾·</li></ul><h2 id="äººæ–‡"><a href="#äººæ–‡" class="headerlink" title="äººæ–‡"></a>äººæ–‡</h2><ul><li>å¯¹äººçš„è®¤çŸ¥çš„å†²å‡»</li><li>å¯¹äººç±»æ€ç»´çš„æŒ‘æˆ˜</li><li>äººå·¥æ™ºèƒ½é«˜åº¦æ¨¡æ‹Ÿäººçš„æ€ç»´æ–¹å¼ï¼Œè®©äººç±»å¤±å»å­¦ä¹ çƒ­æƒ…</li><li>å¯¹äººç±»ç¤¾ä¼šç»“æ„å’Œå¿ƒç†çš„å†²å‡» æœºå™¨äººæ˜¯å¦ä¼šå–ä»£äººç±»</li><li>å¯¹éšç§ä¿æŠ¤çš„å†²å‡»ï¼Œå¤§æ•°æ®çš„å‘å±•ä½¿äººä»¬çš„éšç§æš´éœ²</li><li>å¯¹ç»æµå¸‚åœºçš„å†²å‡»</li></ul><h2 id="ç¤¾ä¼š"><a href="#ç¤¾ä¼š" class="headerlink" title="ç¤¾ä¼š"></a>ç¤¾ä¼š</h2><ul><li>å°±ä¸šé—®é¢˜ï¼Œäººç±»æ˜¯å¦ä¼šè¢«æœºå™¨å–ä»£</li><li>å®‰å…¨é—®é¢˜ï¼Œæ–°æŠ€æœ¯å¤±æ§æˆ–è½å…¥ä¸æ³•åˆ†å­æ‰‹ä¸­</li><li>è´£ä»»äºä¹‰åŠ¡é—®é¢˜ï¼Œäººå·¥æ™ºèƒ½äº‹æ•…ç”±è°è´Ÿè´£</li></ul><h1 id="AIè‰ºæœ¯çš„å®šä¹‰"><a href="#AIè‰ºæœ¯çš„å®šä¹‰" class="headerlink" title="AIè‰ºæœ¯çš„å®šä¹‰"></a>AIè‰ºæœ¯çš„å®šä¹‰</h1><p>æ•è·ä¸€å®šå†…å®¹ï¼Œé€šè¿‡æœºå™¨å­¦ä¹ æˆ–æ·±åº¦å­¦ä¹ å°†å…¶ä¸æŸç±»é£æ ¼è¿›è¡Œèåˆ</p><p>AIæ²¡æœ‰å…ˆéªŒæ•°æ®ç¼ºä¹ç‹¬åˆ›èƒ½åŠ›ï¼Œæœ¬è´¨ä¸Šæ˜¯å¯¹æµ·é‡ä½œå“ç§¯ç´¯å½¢æˆçš„æ•°æ®ï¼Œæ²¡æœ‰çµæ„Ÿè¿¸å‘æ²¡æœ‰ä¸»å®¢ä½“å®¡ç¾</p><h1 id="äººç±»è‰ºæœ¯å®¡ç¾çš„ç‰¹ç‚¹"><a href="#äººç±»è‰ºæœ¯å®¡ç¾çš„ç‰¹ç‚¹" class="headerlink" title="äººç±»è‰ºæœ¯å®¡ç¾çš„ç‰¹ç‚¹"></a>äººç±»è‰ºæœ¯å®¡ç¾çš„ç‰¹ç‚¹</h1><p>å…·æœ‰ä¸ªä½“å·®å¼‚æ€§ï¼›</p><p>å—åˆ°ç¤¾ä¼šç¯å¢ƒã€æ–‡åŒ–å’Œä¼ ç»Ÿçš„æ·±åˆ»å½±å“ï¼Œæ˜¯éšç€è®¤çŸ¥å’Œæ€æƒ³ä¸æ–­å‘å±•å˜åŒ–çš„ï¼›</p><p>æ˜¯äººç±»çš„å†…åœ¨æƒ³æ³•çš„ä¸»è§‚è¡¨è¾¾ï¼Œå…·æœ‰ä¸ªäººå–œå¥½ï¼Œå—åˆ°æƒ…æ„Ÿå½±å“</p><p>å…·æœ‰åˆ›æ–°æ€§ï¼Œå…·æœ‰è‡ªç„¶æ€§ã€‚</p><h1 id="äººç±»å®¡ç¾å’ŒAIå®¡ç¾çš„å¼‚åŒ"><a href="#äººç±»å®¡ç¾å’ŒAIå®¡ç¾çš„å¼‚åŒ" class="headerlink" title="äººç±»å®¡ç¾å’ŒAIå®¡ç¾çš„å¼‚åŒ"></a>äººç±»å®¡ç¾å’ŒAIå®¡ç¾çš„å¼‚åŒ</h1><h2 id="ä¸åŒç‚¹"><a href="#ä¸åŒç‚¹" class="headerlink" title="ä¸åŒç‚¹"></a>ä¸åŒç‚¹</h2><ul><li>è®¤çŸ¥å’Œæƒ…æ„Ÿ</li></ul><p>äººç±»å®¡ç¾æ˜¯é«˜åº¦ä¸»è§‚çš„ï¼ŒåŸºäºæ¯ä¸ªä¸ªä½“çš„æƒ…æ„Ÿï¼Œç»éªŒå’Œæ–‡åŒ–èƒŒæ™¯çš„å½±å“ã€‚</p><p>è€ŒAIå®¡ç¾æ˜¯åŸºäºç®—æ³•å’Œæ•°æ®çš„åˆ†æï¼Œæ²¡æœ‰æƒ…æ„Ÿå’Œä¸»è§‚çš„åå¥½</p><ul><li>å­¦ä¹ æ–¹å¼</li></ul><p>äººç±»å®¡ç¾æ˜¯é€šè¿‡å­¦ä¹ å’Œç»éªŒåŸºç±»å½¢æˆçš„ï¼Œé€šè¿‡è§‚å¯Ÿå’Œæ„ŸçŸ¥å„ç§è‰ºæœ¯ä½œå“æ¥åŸ¹å…»å®¡ç¾æ„ŸçŸ¥</p><p>AIå®¡ç¾é€šè¿‡æœºå™¨å­¦ä¹ ç­‰ç®—æ³•å®ç°ï¼Œé€šè¿‡è®­ç»ƒæ•°æ®å­¦ä¹ ï¼Œç”Ÿæˆç‰¹å®šçš„å®¡ç¾è¯„ä¼°</p><h2 id="ç›¸åŒç‚¹"><a href="#ç›¸åŒç‚¹" class="headerlink" title="ç›¸åŒç‚¹"></a>ç›¸åŒç‚¹</h2><ul><li>å­¦ä¹ æ–¹å¼</li></ul><p>éƒ½éœ€è¦é€šè¿‡æ•°æ®è¿›è¡Œæ„ŸçŸ¥å’Œå­¦ä¹ ï¼Œåœ¨å­¦ä¹ ä¸­ä¸æ–­ä¸°å¯Œå’Œæ›´æ–°å®¡ç¾</p><ul><li>æ€è€ƒ</li></ul><p>éƒ½å¯ä»¥å¯¹æ•°æ®è¿›è¡Œåˆ†æï¼Œæœ€ç»ˆå¾—å‡ºå®¡ç¾è¯„ä»·ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>class</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰ç«¯å­¦ä¹ </title>
    <link href="/2023/09/15/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/"/>
    <url>/2023/09/15/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h1><h2 id="åŸºæœ¬è¯­æ³•"><a href="#åŸºæœ¬è¯­æ³•" class="headerlink" title="åŸºæœ¬è¯­æ³•"></a>åŸºæœ¬è¯­æ³•</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>This is title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- This is explanation--&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Now we study how to write<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">hr</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>This is Heading1<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>This is Heading2<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h6</span>&gt;</span>MAX Heading is 6<span class="hljs-tag">&lt;/<span class="hljs-name">h6</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>This is strong<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>single tag:next paragraph<br>  <span class="hljs-tag">&lt;<span class="hljs-name">hr</span>&gt;</span>single tag:divider<br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>This is paragraph<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>This is paragraph This is paragraph This is paragraph <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>ATTENTION:single tag:next paragraph<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span> This<br>    is paragraph This is<br>    paragraph This is paragraph This is paragraph This is paragraph This is paragraph This is paragraph This is<br>    paragraph This is paragraph This is paragraph This is paragraph <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>same as strong<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">u</span>&gt;</span>This is underline<span class="hljs-tag">&lt;/<span class="hljs-name">u</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">i</span>&gt;</span>This is italic<span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">s</span>&gt;</span>This is delete<span class="hljs-tag">&lt;/<span class="hljs-name">s</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>You must have find that even if you wrap in vscode, it won&#x27;t wrap in Webpage<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">hr</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">hr</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">hr</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Now we study how to insert some medium<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Now we study how to insert a photo<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">hr</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- åªå†™å®½æˆ–é«˜ä¼šç­‰æ¯”ä¾‹å˜æ¢ ä¸¤ä¸ªéƒ½å†™å¯èƒ½å˜å½¢ --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./MD5.png&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;åŠ è½½å¤±è´¥ï¼ˆæ›¿æ¢æ–‡æœ¬ç¤ºä¾‹ï¼‰&quot;</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;This is title&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;200&quot;</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- ä¸‹çº§ç›®å½• --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;in/MD5.png&quot;</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- ä¸Šçº§ç›®å½• å°±ç”¨../--&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">hr</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Now we study how to play music<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">hr</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">audio</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;åˆ»åœ¨æˆ‘å¿ƒåº•çš„åå­—.mp3&quot;</span> <span class="hljs-attr">controls</span> <span class="hljs-attr">autoplay</span> <span class="hljs-attr">loop</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">audio</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">hr</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Now we study how to play video<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">hr</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">video</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;a.mp4&quot;</span> <span class="hljs-attr">controls</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">video</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">hr</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">hr</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">hr</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Now we study how to insert hyperlink<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://www.baidu.com/?tn=15007414_8_dg&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;</span>è·³è½¬åˆ°ç™¾åº¦<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;study1.html&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;</span>study1<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#&quot;</span>&gt;</span>ç©ºè¿æ¥<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>study</tag>
      
      <tag>js</tag>
      
      <tag>html</tag>
      
      <tag>css</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ•°æ®ç»“æ„ä¹ é¢˜</title>
    <link href="/2023/09/12/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B9%A0%E9%A2%98/"/>
    <url>/2023/09/12/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B9%A0%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h1 id="First-week-PTA-ç¨‹åºè®¾è®¡ç±»å®éªŒè¾…åŠ©æ•™å­¦å¹³å°-pintia-cn"><a href="#First-week-PTA-ç¨‹åºè®¾è®¡ç±»å®éªŒè¾…åŠ©æ•™å­¦å¹³å°-pintia-cn" class="headerlink" title="[First week](PTA | ç¨‹åºè®¾è®¡ç±»å®éªŒè¾…åŠ©æ•™å­¦å¹³å° (pintia.cn))"></a>[First week](<a href="https://pintia.cn/problem-sets/1700336300474802176/exam/problems/1700336300504162305?type=6&page=0">PTA | ç¨‹åºè®¾è®¡ç±»å®éªŒè¾…åŠ©æ•™å­¦å¹³å° (pintia.cn)</a>)</h1><h2 id="å‡ä¸€è¿ç®—"><a href="#å‡ä¸€è¿ç®—" class="headerlink" title="å‡ä¸€è¿ç®—"></a>å‡ä¸€è¿ç®—</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-comment">//è¶…çº§æŠ½è±¡çš„Cè¯­è¨€é¢˜ ä¸ä»…è¦åŠ¨æ€ç”³è¯·å†…å­˜ è¿˜è¦é«˜ç²¾åº¦è¿ç®—</span><br><br><span class="hljs-type">int</span>* <span class="hljs-title function_">MinusOne</span><span class="hljs-params">(<span class="hljs-type">int</span>* digits, <span class="hljs-type">int</span> digitsSize, <span class="hljs-type">int</span>* returnSize)</span><br>&#123;<br>    <span class="hljs-type">int</span> num[<span class="hljs-number">2000</span>];<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; digitsSize; i++)<br>    &#123;<br>        num[i] = *(digits + i);<br>    &#125;<br>    <span class="hljs-type">int</span>* res = (<span class="hljs-type">int</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">1001</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">int</span>));<span class="hljs-comment">// å› ä¸ºå¤–é¢æœ‰free æ‰€ä»¥è¦malloc</span><br><br>    <span class="hljs-keyword">if</span> (num[<span class="hljs-number">0</span>] == <span class="hljs-number">1</span> &amp;&amp; digitsSize == <span class="hljs-number">1</span>)<br>    &#123;<br>        *res = <span class="hljs-number">0</span>;<br>        *returnSize = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = digitsSize - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (num[i] &gt;= <span class="hljs-number">1</span>)<br>        &#123;<br>            num[i] -= <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            num[i] = <span class="hljs-number">9</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-type">int</span> flag = <span class="hljs-number">0</span>;<br>    *returnSize = digitsSize;<br>    <span class="hljs-keyword">if</span> (num[<span class="hljs-number">0</span>] == <span class="hljs-number">0</span>)<br>    &#123;<br>        *returnSize -= <span class="hljs-number">1</span>; <span class="hljs-comment">// è®°å¾—æ›´æ–°returnSize</span><br>        flag = <span class="hljs-number">1</span>;<br>    &#125;<br><br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = flag, j = <span class="hljs-number">0</span>; i &lt;= *returnSize; i++, j++)<br>    &#123;<br>        *(res + j) = num[i];<br>    &#125;<br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="æœ€å¤§å­åˆ—å’Œ"><a href="#æœ€å¤§å­åˆ—å’Œ" class="headerlink" title="æœ€å¤§å­åˆ—å’Œ"></a>æœ€å¤§å­åˆ—å’Œ</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// åœ¨çº¿ç®—æ³• O(n) </span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1000010</span>;<br><span class="hljs-type">int</span> nums[N];<br><span class="hljs-type">int</span> qzh[N];<br><span class="hljs-type">int</span> n;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin &gt;&gt; n;<br><span class="hljs-type">int</span> now = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> maxi = -(<span class="hljs-number">1e9</span>+<span class="hljs-number">7</span>);<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>&#123;<br>cin &gt;&gt; nums[i];<br>&#125;<br>    <span class="hljs-comment">// å½“nowä¸ºå½“å‰å­åˆ—å’Œ å¦‚æœå½“å‰å­åˆ—å’Œå¤§äºmaxiå°±æ›´æ–°   æ³¨æ„ä¸€ç‚¹ å½“now&lt;0çš„æ—¶å€™now=0 å³å¯ä»¥ä¹‹é—´ä¸é€‰</span><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>&#123;<br>now += nums[i];<br><span class="hljs-keyword">if</span> (now &gt; maxi)<br>maxi = now;<br><span class="hljs-keyword">if</span> (now &lt; <span class="hljs-number">0</span>)<br>now = <span class="hljs-number">0</span>;<br>&#125;<br>cout &lt;&lt; maxi;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æœ€é•¿è¿ç»­é€’å¢å­åºåˆ—"><a href="#æœ€é•¿è¿ç»­é€’å¢å­åºåˆ—" class="headerlink" title="æœ€é•¿è¿ç»­é€’å¢å­åºåˆ—"></a>æœ€é•¿è¿ç»­é€’å¢å­åºåˆ—</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># è·Ÿä¸Šä¸€ä¸ªä¸€æ ·ã€‚ã€‚</span><br>n = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>())<br>nums = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split()))<br><br>maxi, maxn = <span class="hljs-number">0</span>, <span class="hljs-number">0</span><br>cnt = <span class="hljs-number">1</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n):<br>    <span class="hljs-keyword">if</span> nums[i] &gt; nums[i - <span class="hljs-number">1</span>]:<br>        cnt += <span class="hljs-number">1</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">if</span> maxn &lt; cnt:<br>            maxi = i<br>            maxn = cnt<br>        cnt = <span class="hljs-number">1</span><br><br><span class="hljs-keyword">if</span> maxn &lt; cnt:<br>    maxi = n<br>    maxn = cnt<br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(maxi - maxn, maxi):<br>    <span class="hljs-keyword">if</span> i != maxi - <span class="hljs-number">1</span>:<br>        <span class="hljs-built_in">print</span>(nums[i], end=<span class="hljs-string">&#x27; &#x27;</span>)<br>    <span class="hljs-keyword">else</span>:<br>         <span class="hljs-built_in">print</span>(nums[i],end=<span class="hljs-string">&#x27;&#x27;</span>)<br></code></pre></td></tr></table></figure><h1 id="Second-week"><a href="#Second-week" class="headerlink" title="Second week"></a><a href="https://pintia.cn/problem-sets/1703316708057788416/exam/problems/type/6">Second week</a></h1><h2 id="2-1"><a href="#2-1" class="headerlink" title="2-1"></a>2-1</h2><p>æ³¨æ„é¡ºåºè¡¨çš„æ¦‚å¿µ éœ€è¦æ˜¯è¿ç»­çš„ æ¯æ¬¡æ’å…¥åˆ é™¤éœ€è¦ä½ç§»  ä¸èƒ½æ’å…¥åœ¨tail+1ä¹‹åçš„ä½ç½® </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs C">List <span class="hljs-title function_">MakeEmpty</span><span class="hljs-params">()</span><br>&#123;<br>    List newList = (List)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">struct</span> LNode));<br>    newList-&gt;Last = <span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; MAXSIZE; i++)<br>    &#123;<br>        newList-&gt;Data[i] = <span class="hljs-number">-1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> newList;<br>&#125;<br>Position <span class="hljs-title function_">Find</span><span class="hljs-params">(List L, ElementType X)</span><br>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt;= L-&gt;Last; i++)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (L-&gt;Data[i] == X)<br>            <span class="hljs-keyword">return</span> i;<br>    &#125;<br>    <span class="hljs-keyword">return</span> ERROR;<br>&#125;<br><span class="hljs-type">bool</span> <span class="hljs-title function_">Insert</span><span class="hljs-params">(List L, ElementType X, Position P)</span><br>&#123;<br>    <span class="hljs-keyword">if</span> (L-&gt;Last == MAXSIZE - <span class="hljs-number">1</span>)<br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;FULL&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">if</span> (P &gt; L-&gt;Last + <span class="hljs-number">1</span> || P &lt; <span class="hljs-number">0</span>)<br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;ILLEGAL POSITION&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = L-&gt;Last; j &gt;= P; j--)<br>    &#123;<br>        L-&gt;Data[j + <span class="hljs-number">1</span>] = L-&gt;Data[j];<br>    &#125;<br>    L-&gt;Data[P] = X;<br>    L-&gt;Last++;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-type">bool</span> <span class="hljs-title function_">Delete</span><span class="hljs-params">(List L, Position P)</span><br>&#123;<br>    <span class="hljs-keyword">if</span> (P &gt; L-&gt;Last || P &lt; <span class="hljs-number">0</span>)<br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;POSITION %d EMPTY&quot;</span>, P);<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = P + <span class="hljs-number">1</span>; i &lt; L-&gt;Last; i++)<br>    &#123;<br>        L-&gt;Data[i - <span class="hljs-number">1</span>] = L-&gt;Data[i];<br>    &#125;<br>    L-&gt;Last--;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="2-3"><a href="#2-3" class="headerlink" title="2-3"></a>2-3</h2><p>æ±‚ä¸­ä½æ•°çš„æ–¹æ³•  å…·ä½“è¯æ˜çœ‹åŠ›æ‰£</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function">def <span class="hljs-title">GetKthElement</span><span class="hljs-params">(k)</span>:</span><br><span class="hljs-function">    global n</span><br><span class="hljs-function">    idx1, idx2 =</span> <span class="hljs-number">0</span>, <span class="hljs-number">0</span><br>    <span class="hljs-keyword">while</span> True:<br>        <span class="hljs-keyword">if</span> idx1 == n:<br>            <span class="hljs-keyword">return</span> nums2[idx2]<br>        <span class="hljs-keyword">if</span> idx2 == n:<br>            <span class="hljs-keyword">return</span> nums1[idx1]<br>        <span class="hljs-keyword">if</span> k == <span class="hljs-number">1</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-built_in">min</span>(nums1[idx1], nums2[idx2])<br>        nidx1, nidx2 = idx1 + k <span class="hljs-comment">// 2 - 1, idx2 + k // 2 - 1</span><br>        p1, p2 = nums1[nidx1], nums2[nidx2]<br>        <span class="hljs-keyword">if</span> p1 &lt;= p2:<br>            k -= nidx1 - idx1 + <span class="hljs-number">1</span><br>            idx1 = nidx1 + <span class="hljs-number">1</span><br>        <span class="hljs-keyword">else</span>:<br>            k -= nidx2 - idx2 + <span class="hljs-number">1</span><br>            idx2 = nidx2 + <span class="hljs-number">1</span><br><br>n = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>())<br>nums1 = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-type">int</span>, <span class="hljs-built_in">input</span>().<span class="hljs-built_in">split</span>()))<br>nums2 = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-type">int</span>, <span class="hljs-built_in">input</span>().<span class="hljs-built_in">split</span>()))<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">GetKthElement</span>(n))<br><br></code></pre></td></tr></table></figure><h1 id=""><a href="#" class="headerlink" title=""></a></h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cmath&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> maxn=<span class="hljs-number">1e5</span>;<br><br><span class="hljs-type">int</span> n,head;<br>set&lt;<span class="hljs-type">int</span>&gt; vis;<br><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Node</span>&#123;<br>    <span class="hljs-type">int</span> address;<br><span class="hljs-type">int</span> value, next;<br>&#125;nodes[maxn+<span class="hljs-number">5</span>];<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br><span class="hljs-comment">//    freopen(&quot;1.txt&quot;,&quot;r&quot;,stdin);</span><br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>,&amp;head,&amp;n);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>,add,val,nex;i&lt;=n;i++)&#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>,&amp;add,&amp;val,&amp;nex);<br>        nodes[add]=&#123;add,val,nex&#125;;<br>    &#125;<br>    vector&lt;Node&gt; ans, another;<br>    <span class="hljs-type">int</span> now=head;<br>    Node node;<br>    <span class="hljs-keyword">while</span> (now!=<span class="hljs-number">-1</span>)&#123;<br>        node=nodes[now];<br>        <span class="hljs-keyword">if</span> (vis.<span class="hljs-built_in">find</span>(<span class="hljs-built_in">abs</span>(node.value))==vis.<span class="hljs-built_in">end</span>())<br>            vis.<span class="hljs-built_in">insert</span>(<span class="hljs-built_in">abs</span>(node.value)),ans.<span class="hljs-built_in">push_back</span>(node);<br>        <span class="hljs-keyword">else</span><br>            another.<span class="hljs-built_in">push_back</span>(node);<br>        now=node.next;<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;ans.<span class="hljs-built_in">size</span>();i++)&#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%05d %d &quot;</span>,ans[i].address,ans[i].value);<br>        <span class="hljs-keyword">if</span> (i!=ans.<span class="hljs-built_in">size</span>()<span class="hljs-number">-1</span>)<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%05d\n&quot;</span>,ans[i+<span class="hljs-number">1</span>].address);<br>        <span class="hljs-keyword">else</span> <br>            <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;-1&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;another.<span class="hljs-built_in">size</span>();i++)&#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%05d %d &quot;</span>,another[i].address,another[i].value);<br>        <span class="hljs-keyword">if</span> (i!=another.<span class="hljs-built_in">size</span>()<span class="hljs-number">-1</span>)<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%05d\n&quot;</span>,another[i + <span class="hljs-number">1</span>].address);<br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;-1&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="2-7"><a href="#2-7" class="headerlink" title="2-7"></a>2-7</h2><p>é“¾è¡¨å»é‡ é™æ€é“¾è¡¨å†™æ³•</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cmath&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> maxn=<span class="hljs-number">1e5</span>;<br><br><span class="hljs-type">int</span> n,head;<br>set&lt;<span class="hljs-type">int</span>&gt; vis;<br><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Node</span>&#123;<br>    <span class="hljs-type">int</span> address;<br><span class="hljs-type">int</span> value, next;<br>&#125;nodes[maxn+<span class="hljs-number">5</span>];<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br><span class="hljs-comment">//    freopen(&quot;1.txt&quot;,&quot;r&quot;,stdin);</span><br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>,&amp;head,&amp;n);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>,add,val,nex;i&lt;=n;i++)&#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>,&amp;add,&amp;val,&amp;nex);<br>        nodes[add]=&#123;add,val,nex&#125;;<br>    &#125;<br>    vector&lt;Node&gt; ans, another;<br>    <span class="hljs-type">int</span> now=head;<br>    Node node;<br>    <span class="hljs-keyword">while</span> (now!=<span class="hljs-number">-1</span>)&#123;<br>        node=nodes[now];<br>        <span class="hljs-keyword">if</span> (vis.<span class="hljs-built_in">find</span>(<span class="hljs-built_in">abs</span>(node.value))==vis.<span class="hljs-built_in">end</span>())<br>            vis.<span class="hljs-built_in">insert</span>(<span class="hljs-built_in">abs</span>(node.value)),ans.<span class="hljs-built_in">push_back</span>(node);<br>        <span class="hljs-keyword">else</span><br>            another.<span class="hljs-built_in">push_back</span>(node);<br>        now=node.next;<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;ans.<span class="hljs-built_in">size</span>();i++)&#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%05d %d &quot;</span>,ans[i].address,ans[i].value);<br>        <span class="hljs-keyword">if</span> (i!=ans.<span class="hljs-built_in">size</span>()<span class="hljs-number">-1</span>)<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%05d\n&quot;</span>,ans[i+<span class="hljs-number">1</span>].address);<br>        <span class="hljs-keyword">else</span> <br>            <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;-1&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;another.<span class="hljs-built_in">size</span>();i++)&#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%05d %d &quot;</span>,another[i].address,another[i].value);<br>        <span class="hljs-keyword">if</span> (i!=another.<span class="hljs-built_in">size</span>()<span class="hljs-number">-1</span>)<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%05d\n&quot;</span>,another[i + <span class="hljs-number">1</span>].address);<br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;-1&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="2-10"><a href="#2-10" class="headerlink" title="2-10"></a>2-10</h2><p>å¤šé¡¹å¼é™¤æ³• ç”¨mapæ¥å‚¨å­˜æ¬¡æ•°å’Œç³»æ•° é€šè¿‡æ¬¡æ•°æ‰¾ç³»æ•° </p><p>å…¶å®æ¯æ¬¡åªéœ€è¦æœ€é«˜æ¬¡æ•°çš„å»é™¤ è¢«é™¤æ•°ä¸æ–­åœ°è¢«é™¤ ä½™æ•°ä»ç„¶æ”¾åœ¨è¢«é™¤æ•°ä¸­ ä¸æ–­å¾ªç¯ï¼ˆæ¯æ¬¡å¾ªç¯å¾—åˆ°ä¸€ä½å•†ï¼‰ ç›´åˆ°æœ€é«˜æ¬¡å°äºé™¤æ•°çš„æœ€é«˜æ¬¡ ç»“æŸ  æœ€åå°±å¯ä»¥å¾—åˆ°å•†å’Œä½™æ•° </p><p>å››èˆäº”å…¥çš„æ–¹æ³•ä¹Ÿå¾ˆé‡è¦ ï¼ˆx*10 +&#x2F;- 0.5ï¼‰&#x2F;10 </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;map&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">100010</span>;<br><span class="hljs-comment">// æ³¨æ„ å‰é¢æ˜¯æŒ‡æ•° åé¢æ˜¯ç³»æ•°</span><br>map&lt;<span class="hljs-type">int</span>, <span class="hljs-type">double</span>&gt;division;<span class="hljs-comment">// é™¤æ•°</span><br>map&lt;<span class="hljs-type">int</span>, <span class="hljs-type">double</span>&gt;divided;<span class="hljs-comment">// è¢«é™¤æ•°</span><br>map&lt;<span class="hljs-type">int</span>, <span class="hljs-type">double</span>&gt;ans;<span class="hljs-comment">// å•†</span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> n;<br>cin &gt;&gt; n;<br><span class="hljs-type">int</span> e;<br><span class="hljs-type">double</span> c;<br><span class="hljs-type">int</span> maxe1 = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> maxe2 = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> mine2 = <span class="hljs-number">1000000</span>;<br><span class="hljs-type">int</span> maxe3 = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">while</span> (n--)<br>&#123;<br>cin &gt;&gt; e &gt;&gt; c;<br>divided[e] += c;<br>maxe1 = <span class="hljs-built_in">max</span>(maxe1, e);<br>&#125;<br>cin &gt;&gt; n;<br><br><span class="hljs-keyword">while</span> (n--)<br>&#123;<br>cin &gt;&gt; e &gt;&gt; c;<br>division[e] += c;<br>maxe2 = <span class="hljs-built_in">max</span>(maxe2, e);<br>mine2 = <span class="hljs-built_in">min</span>(mine2, e);<br>&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = maxe1; i &gt;= maxe2; i--)<br>&#123;<br><span class="hljs-type">int</span> sub = i - maxe2;<br><span class="hljs-type">double</span> div = <span class="hljs-number">1.0</span> * divided[i] / division[maxe2];<br>ans[sub] = div;<br>maxe3 = <span class="hljs-built_in">max</span>(maxe3, sub);<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = maxe2; j &gt;= <span class="hljs-number">0</span>; j--)<br>&#123;<br><span class="hljs-keyword">if</span>(div)<br>divided[j + sub] -= division[j] * div;<br>&#125;<br>&#125;<br><br><span class="hljs-type">int</span> cnt = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = maxe3; i &gt;= <span class="hljs-number">0</span>; i--)<br>&#123;<br>ans[i] = <span class="hljs-built_in">double</span>(<span class="hljs-built_in">int</span>(ans[i] * <span class="hljs-number">10</span> + (ans[i] &gt; <span class="hljs-number">0</span> ? <span class="hljs-number">0.5</span> : <span class="hljs-number">-0.5</span>)) / <span class="hljs-number">10.0</span>);<br><span class="hljs-keyword">if</span> (ans[i] != <span class="hljs-number">0</span>)cnt++;<br>&#125;<br><span class="hljs-keyword">if</span> (!cnt)<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;0 0 0.0&quot;</span>);<br><span class="hljs-keyword">else</span> cout &lt;&lt; cnt;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = maxe3; i &gt;= <span class="hljs-number">0</span>; i--)<br>&#123;<br><span class="hljs-keyword">if</span> (ans[i])<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; %d %.1lf&quot;</span>, i, ans[i]);<br>&#125;<br>cout &lt;&lt; endl;<br><br>cnt = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = maxe1; i &gt;= <span class="hljs-number">0</span>; i--)<br>&#123;<br>divided[i] = <span class="hljs-built_in">double</span>(<span class="hljs-built_in">int</span>(divided[i] * <span class="hljs-number">10</span> + (divided[i] &gt; <span class="hljs-number">0</span> ? <span class="hljs-number">0.5</span> : <span class="hljs-number">-0.5</span>)) / <span class="hljs-number">10.0</span>);<br><span class="hljs-keyword">if</span> (divided[i] != <span class="hljs-number">0</span>)cnt++;<br>&#125;<br><span class="hljs-keyword">if</span> (!cnt)<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;0 0 0.0&quot;</span>);<br><span class="hljs-keyword">else</span> cout &lt;&lt; cnt;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = maxe1; i &gt;= <span class="hljs-number">0</span>; i--)<br>&#123;<br><span class="hljs-keyword">if</span> (divided[i])<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; %d %.1lf&quot;</span>, i, divided[i]);<br>&#125;<br>cout &lt;&lt; endl;<br>&#125;<br><br></code></pre></td></tr></table></figure><h1 id="Third-Week"><a href="#Third-Week" class="headerlink" title="Third Week"></a><a href="https://pintia.cn/problem-sets/1706269130417893376/exam/problems">Third Week</a></h1><p>3-1</p><p>æ³¨æ„å†™é¢˜çš„æ—¶å€™ ç±»å‹ä¸€èˆ¬æ˜¯ElementType </p><p>ç„¶åç”³è¯·ç©ºé—´çš„æ—¶å€™ åƒæ ˆç­‰ å°±æ˜¯ å…ˆç”³è¯·ä¸€ä¸ªStackç±»å‹çš„  å†å»ç”³è¯·Stacké‡Œé¢çš„æ•°ç»„</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs C">Stack <span class="hljs-title function_">CreateStack</span><span class="hljs-params">(<span class="hljs-type">int</span> MaxSize)</span><br>&#123;<br>    Stack st = (Stack)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(Stack));<br>    st-&gt;Data = (ElementType*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(ElementType) * (MaxSize - <span class="hljs-number">1</span>));<span class="hljs-comment">//æ³¨æ„æ˜¯ElementTypeä¸æ˜¯int</span><br>    st-&gt;MaxSize = MaxSize;<br>    <br>    st-&gt;Top1 = <span class="hljs-number">-1</span>;<br>    st-&gt;Top2 = st-&gt;MaxSize;<br>    <span class="hljs-keyword">return</span> st;<br>&#125;<br><span class="hljs-type">bool</span> <span class="hljs-title function_">Push</span><span class="hljs-params">(Stack S, ElementType X, <span class="hljs-type">int</span> Tag)</span><br>&#123;<br>    <span class="hljs-keyword">if</span> (Tag == <span class="hljs-number">1</span>)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (S-&gt;Top1 + <span class="hljs-number">1</span> == S-&gt;Top2)<br>        &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Stack Full\n&quot;</span>);<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            S-&gt;Data[++S-&gt;Top1] = X;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        <span class="hljs-keyword">if</span> (S-&gt;Top1 == S-&gt;Top2 - <span class="hljs-number">1</span>)<br>        &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Stack Full\n&quot;</span>);<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>            S-&gt;Data[--S-&gt;Top2] = X;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br>ElementType <span class="hljs-title function_">Pop</span><span class="hljs-params">(Stack S, <span class="hljs-type">int</span> Tag)</span><br>&#123;<br>    <span class="hljs-keyword">if</span> ((Tag == <span class="hljs-number">1</span> &amp;&amp; S-&gt;Top1 == <span class="hljs-number">-1</span>) || (Tag == <span class="hljs-number">2</span> &amp;&amp; S-&gt;Top2 == S-&gt;MaxSize))<br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Stack %d Empty\n&quot;</span>, Tag);<br>        <span class="hljs-keyword">return</span> ERROR;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (Tag == <span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">return</span> S-&gt;Data[S-&gt;Top1--];<br>    <span class="hljs-keyword">else</span><br>        <span class="hljs-keyword">return</span> S-&gt;Data[S-&gt;Top2++];<br>&#125;<br></code></pre></td></tr></table></figure><p>3-2</p><p>è´Ÿæ•°çš„æ—¶å€™ ç‰¹åˆ¤ä¸€ä¸‹è´Ÿå·  ç”±äºå‡å·åé¢æ˜¯ç©ºæ ¼è€Œè´Ÿå·åé¢æ˜¯æ•°å­— ç”¨è¿™ä¸ªæ¥åˆ¤æ–­</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs python">ElementType EvalPostfix(char* expr)<br>&#123;<br>    double stack[<span class="hljs-number">100010</span>];<br>    <span class="hljs-built_in">int</span> top = -<span class="hljs-number">1</span>;<br>    <span class="hljs-built_in">int</span> flag = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">int</span> <span class="hljs-built_in">len</span> = strlen(expr);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-built_in">len</span>;)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (expr[i] == <span class="hljs-string">&#x27;-&#x27;</span> &amp;&amp; expr[i + <span class="hljs-number">1</span>] != <span class="hljs-string">&#x27; &#x27;</span> &amp;&amp; i + <span class="hljs-number">1</span> &lt; <span class="hljs-built_in">len</span>)<br>        &#123;<br>            flag = <span class="hljs-number">1</span>;<br>            i++;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (expr[i] == <span class="hljs-string">&#x27;+&#x27;</span> || expr[i] == <span class="hljs-string">&#x27;-&#x27;</span> || expr[i] == <span class="hljs-string">&#x27;*&#x27;</span> || expr[i] == <span class="hljs-string">&#x27;/&#x27;</span>)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (top == -<span class="hljs-number">1</span>)<br>                <span class="hljs-keyword">return</span> Infinity;<br>            double b = stack[top--];<br>            double a = stack[top--];<br><br>            double ans;<br>            switch (expr[i])<br>            &#123;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;+&#x27;</span>:<br>                ans = a + b;<br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;-&#x27;</span>:<br>                ans = a - b;<br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;*&#x27;</span>:<br>                ans = a * b;<br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;/&#x27;</span>:<br>                <span class="hljs-keyword">if</span> (b == <span class="hljs-number">0</span>)<br>                    <span class="hljs-keyword">return</span> Infinity;<br>                ans = a / b;<br>                <span class="hljs-keyword">break</span>;<br>            default:<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>            stack[++top] = ans;<br>            i++;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (expr[i] &gt;= <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; expr[i] &lt;= <span class="hljs-string">&#x27;9&#x27;</span>)<br>        &#123;<br>            double a = atof(expr + i);<br>            <span class="hljs-keyword">while</span> (expr[i] != <span class="hljs-string">&#x27; &#x27;</span> &amp;&amp; i &lt; <span class="hljs-built_in">len</span>)<br>            &#123;<br>                i++;<br>            &#125;<br>            <br>            stack[++top] = flag ? -a : a;<br>            flag = <span class="hljs-number">0</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> i++;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (top == <span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> stack[top];<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> Infinity;<br>&#125;<br></code></pre></td></tr></table></figure><p>3-9</p><p>åŒç«¯é˜Ÿåˆ— æœ‰å¤´æ’å¤´åˆ å°¾æ’å°¾åˆ </p><p>æ³¨æ„ç”±äºè¿™ä¸ªå¤šå¼€è¾Ÿäº†ä¸€ä¸ªç©ºé—´å½“D-&gt;front &#x3D;&#x3D; D-&gt;rear çš„æ—¶å€™æ˜¯ç©º</p><p>D-&gt;front - 1 &#x3D;&#x3D; D-&gt;rear çš„æ—¶å€™æ˜¯æ»¡</p><p>indexå‡½æ•°</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs C"><br><span class="hljs-type">int</span> <span class="hljs-title function_">index</span><span class="hljs-params">(<span class="hljs-type">int</span> i, Deque D)</span><br>&#123;<br>    <span class="hljs-keyword">return</span> (i + D-&gt;MaxSize) % (D-&gt;MaxSize);<br>&#125;<br><span class="hljs-type">bool</span> <span class="hljs-title function_">Push</span><span class="hljs-params">(ElementType X, Deque D)</span><br>&#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">abs</span>((index(D-&gt;Front - <span class="hljs-number">1</span>, D) - D-&gt;Rear) ) == <span class="hljs-number">0</span>)<br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    D-&gt;Front = index(D-&gt;Front - <span class="hljs-number">1</span>, D);<br>    D-&gt;Data[D-&gt;Front] = X;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br>ElementType <span class="hljs-title function_">Pop</span><span class="hljs-params">(Deque D)</span><br>&#123;<br>    <span class="hljs-keyword">if</span> (D-&gt;Front == D-&gt;Rear)<span class="hljs-keyword">return</span> ERROR;<br>    ElementType x = D-&gt;Data[D-&gt;Front];<br>    D-&gt;Front = index(D-&gt;Front + <span class="hljs-number">1</span>, D);<br>    <span class="hljs-keyword">return</span> x;<br>&#125;<br><span class="hljs-type">bool</span> <span class="hljs-title function_">Inject</span><span class="hljs-params">(ElementType X, Deque D)</span><br>&#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">abs</span>((index(D-&gt;Front - <span class="hljs-number">1</span>, D) - D-&gt;Rear)) == <span class="hljs-number">0</span>)<br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    D-&gt;Data[D-&gt;Rear] = X;<br>    D-&gt;Rear = index(D-&gt;Rear + <span class="hljs-number">1</span>, D);<br>    <br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br>ElementType <span class="hljs-title function_">Eject</span><span class="hljs-params">(Deque D)</span><br>&#123;<br>    <span class="hljs-keyword">if</span> (D-&gt;Front == D-&gt;Rear)<span class="hljs-keyword">return</span> ERROR;<br>    <br>    D-&gt;Rear = index(D-&gt;Rear - <span class="hljs-number">1</span>, D);<br>    ElementType x = D-&gt;Data[index(D-&gt;Rear, D)];<br>    <span class="hljs-keyword">return</span> x;<br>&#125;<br></code></pre></td></tr></table></figure><p>3-8</p><p>ä¸¤ä¸ªå †æ ˆ å¤§çš„ç”¨æ¥æ”¾å‡ºé˜Ÿå°çš„ç”¨æ¥æ”¾å…¥é˜Ÿ  å½“å‡ºé˜Ÿçš„æ—¶å€™å…ˆæŠŠå…¥é˜Ÿçš„å…¨éƒ¨å€’ç€æ”¾åˆ°å‡ºé˜Ÿä¸­ å†å‡ºé˜Ÿ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">typedef</span> <span class="hljs-type">int</span> ElementType;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>ElementType stko[<span class="hljs-number">1000</span>], stki[<span class="hljs-number">1000</span>];<br><span class="hljs-type">int</span> capacityo, capacityi;<br>cin &gt;&gt; capacityo &gt;&gt; capacityi;<br><span class="hljs-keyword">if</span> (capacityo &gt; capacityi)<span class="hljs-built_in">swap</span>(capacityo, capacityi);<br><span class="hljs-type">int</span> topo = <span class="hljs-number">-1</span>, topi = <span class="hljs-number">-1</span>;<br><span class="hljs-type">char</span> op;<br>cin &gt;&gt; op;<br><span class="hljs-keyword">while</span> (op != <span class="hljs-string">&#x27;T&#x27;</span>)<br>&#123;<br><span class="hljs-keyword">if</span> (op == <span class="hljs-string">&#x27;A&#x27;</span>)<br>&#123;<br><span class="hljs-type">int</span> x;<br>cin &gt;&gt; x;<br><span class="hljs-keyword">if</span> (topo == capacityo - <span class="hljs-number">1</span>)<br>&#123;<br><span class="hljs-keyword">if</span> (topi == <span class="hljs-number">-1</span>)<br>&#123;<br><span class="hljs-keyword">while</span> (topo != <span class="hljs-number">-1</span>) <br>&#123;<br>stki[++topi] = stko[topo--];<br>&#125;<br>stko[++topo] = x;<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br>cout &lt;&lt; <span class="hljs-string">&quot;ERROR:Full&quot;</span> &lt;&lt; endl;<br>&#125;<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br>stko[++topo] = x;<br>&#125;<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br><span class="hljs-keyword">if</span> (topi != <span class="hljs-number">-1</span>)<br>&#123;<br>cout &lt;&lt; stki[topi--] &lt;&lt; endl;<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br><span class="hljs-keyword">if</span> (topo == <span class="hljs-number">-1</span>)<br>&#123;<br>cout &lt;&lt; <span class="hljs-string">&quot;ERROR:Empty&quot;</span> &lt;&lt; endl;<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br><span class="hljs-keyword">while</span> (topo != <span class="hljs-number">-1</span>)<br>&#123;<br>stki[++topi] = stko[topo--];<br>&#125;<br>cout &lt;&lt; stki[topi--] &lt;&lt; endl;<br>&#125;<br>&#125;<br>&#125;<br>cin &gt;&gt; op;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>3-3</p><p>ä¸­ç¼€è¡¨è¾¾å¼è½¬åç¼€è¡¨è¾¾å¼ </p><p>æœ‰å‡ ä¸ªæ³¨æ„çš„ç‚¹ (æ ˆä¸ºç©ºå°±ç›´æ¥æ”¾)</p><p>é¦–å…ˆæ˜¯ä¼˜å…ˆçº§é—®é¢˜ å½“é¡ºç€é‡åˆ°+æˆ–-çš„æ—¶å€™ä¼˜å…ˆçº§å°äº* å’Œ &#x2F; æ‰€ä»¥è¦æŠŠæ ˆé¡¶çš„æ‰€æœ‰*  å’Œ&#x2F;å…ˆè¾“å‡ºå‡ºæ¥ ç„¶åå†æŠŠ+ - æ”¾è¿›å»</p><p>é‡åˆ°*  æˆ–&#x2F; çš„æ—¶å€™å°±ç›´æ¥æ”¾è¿›å»  ï¼ˆç›´æ¥æ”¾</p><p>é‡åˆ°ï¼‰çš„æ—¶å€™è¦ä¸€ç›´è¾“å‡ºç¬¦å· ç›´åˆ°é‡åˆ°ï¼ˆ</p><p>æ•°å­—ç›´æ¥å½“åœºè¾“å‡º</p><p>æ•°å­—çš„å¤„ç† ç”±äºåŠ å‡å‰é¢å¿…é¡»æœ‰æ•°å­—  é‚£ä¹ˆå‰é¢æ²¡æœ‰æ•°å­—çš„åŠ å‡ å°±æ˜¯<strong>æ­£è´Ÿå·</strong> i&#x3D;&#x3D;0 æˆ–è€…å‰ä¸€ä¸ªæ˜¯ï¼ˆ éƒ½æ»¡è¶³è¿™ä¸ªæƒ…å†µ ç„¶åæ•°å­—å’Œå°æ•°ç‚¹éƒ½åŠ ä¸Š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br>map&lt;<span class="hljs-type">char</span>, <span class="hljs-type">int</span>&gt;yxj;<br><span class="hljs-type">int</span> flag = <span class="hljs-number">0</span>;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">if</span> (flag == <span class="hljs-number">0</span>)<br>&#123;<br>flag += <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-keyword">else</span> &#123;<br>cout &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>&#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>yxj.<span class="hljs-built_in">insert</span>(&#123; <span class="hljs-string">&#x27;+&#x27;</span>, <span class="hljs-number">1</span>&#125;);<br>yxj.<span class="hljs-built_in">insert</span>(&#123; <span class="hljs-string">&#x27;-&#x27;</span>, <span class="hljs-number">1</span>&#125;);<br>yxj.<span class="hljs-built_in">insert</span>(&#123; <span class="hljs-string">&#x27;*&#x27;</span>, <span class="hljs-number">2</span>&#125;);<br>yxj.<span class="hljs-built_in">insert</span>(&#123; <span class="hljs-string">&#x27;/&#x27;</span>, <span class="hljs-number">2</span>&#125;);<br>yxj.<span class="hljs-built_in">insert</span>(&#123; <span class="hljs-string">&#x27;(&#x27;</span>, <span class="hljs-number">0</span>&#125;);<br><br>string s;<br>cin &gt;&gt; s;<br><span class="hljs-type">int</span> n = s.<span class="hljs-built_in">size</span>();<br>stack&lt;<span class="hljs-type">char</span>&gt;cal;<br><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n;)<br>&#123;<br><span class="hljs-keyword">if</span> (((s[i] == <span class="hljs-string">&#x27;+&#x27;</span> || s[i] == <span class="hljs-string">&#x27;-&#x27;</span>) &amp;&amp; (i == <span class="hljs-number">0</span> || s[i - <span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;(&#x27;</span>)) || ((s[i] &gt;= <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; s[i] &lt;= <span class="hljs-string">&#x27;9&#x27;</span>) || s[i] == <span class="hljs-string">&#x27;.&#x27;</span>))<br>&#123;<br><span class="hljs-built_in">print</span>();<br><span class="hljs-keyword">if</span> (s[i] != <span class="hljs-string">&#x27;+&#x27;</span>)<br>cout &lt;&lt; s[i];<br>i++;<br><span class="hljs-keyword">while</span> (((s[i] &gt;= <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; s[i] &lt;= <span class="hljs-string">&#x27;9&#x27;</span>) || s[i] == <span class="hljs-string">&#x27;.&#x27;</span>))<br>&#123;<br>cout &lt;&lt; s[i];<br>i++;<br>&#125;<br>&#125;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (s[i] == <span class="hljs-string">&#x27;(&#x27;</span>)<br>&#123;<br>cal.<span class="hljs-built_in">push</span>(<span class="hljs-string">&#x27;(&#x27;</span>);<br>i++;<br>&#125;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (s[i] == <span class="hljs-string">&#x27;)&#x27;</span>)<br>&#123;<br><span class="hljs-keyword">while</span> (cal.<span class="hljs-built_in">top</span>() != <span class="hljs-string">&#x27;(&#x27;</span>)<br>&#123;<br><span class="hljs-type">char</span> a = cal.<span class="hljs-built_in">top</span>();<br><span class="hljs-built_in">print</span>();<br>cout &lt;&lt; a;<br><br>cal.<span class="hljs-built_in">pop</span>();<br>&#125;<br>cal.<span class="hljs-built_in">pop</span>();<br>i++;<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br><span class="hljs-keyword">if</span> (!cal.<span class="hljs-built_in">empty</span>())<br>&#123;<br><span class="hljs-type">char</span> a = cal.<span class="hljs-built_in">top</span>();<br><span class="hljs-type">char</span> b = s[i];<br><span class="hljs-keyword">while</span> (yxj[a] &gt;= yxj[b] &amp;&amp; !cal.<span class="hljs-built_in">empty</span>())<br>&#123;<br><span class="hljs-built_in">print</span>();<br>cout &lt;&lt; a;<br><br>cal.<span class="hljs-built_in">pop</span>();<br><span class="hljs-keyword">if</span> (cal.<span class="hljs-built_in">empty</span>())<span class="hljs-keyword">break</span>;<br>a = cal.<span class="hljs-built_in">top</span>();<br>&#125;<br>cal.<span class="hljs-built_in">push</span>(b);<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br>cal.<span class="hljs-built_in">push</span>(s[i]);<br>&#125;<br>i++;<br>&#125;<br>&#125;<br><br><span class="hljs-keyword">while</span> (!cal.<span class="hljs-built_in">empty</span>())<br>&#123;<br><span class="hljs-keyword">if</span> (cal.<span class="hljs-built_in">top</span>() != <span class="hljs-string">&#x27;(&#x27;</span>)<br>&#123;<br><span class="hljs-built_in">print</span>();<br>cout &lt;&lt; cal.<span class="hljs-built_in">top</span>();<br>&#125;<br>cal.<span class="hljs-built_in">pop</span>();<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Ans</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Math</title>
    <link href="/2023/09/11/Math/"/>
    <url>/2023/09/11/Math/</url>
    
    <content type="html"><![CDATA[<h1 id="çº¿æ€§ç­›"><a href="#çº¿æ€§ç­›" class="headerlink" title="çº¿æ€§ç­›"></a>çº¿æ€§ç­›</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">å¦‚æœiæ˜¯primes[j]çš„å€æ•°ï¼Œè·³å‡ºå¾ªç¯æ˜¯å› ä¸ºåœ¨çº¿æ€§ç­›çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ‰¾åˆ°å°äºç­‰äºnçš„æ‰€æœ‰ç´ æ•°ï¼Œå¹¶ä¸”è¦ä¿è¯æ¯ä¸ªåˆæ•°åªè¢«æ ‡è®°ä¸€æ¬¡ã€‚å› æ­¤ï¼Œåœ¨å†…å±‚å¾ªç¯ä¸­ï¼Œå½“iæ˜¯primes[j]çš„å€æ•°æ—¶ï¼Œæˆ‘ä»¬ä¸éœ€è¦å†ç»§ç»­è€ƒè™‘primes[j] * iåŠå…¶ä¹‹åçš„å€æ•°äº†ï¼Œå› ä¸ºå®ƒä»¬å·²ç»åœ¨ä¹‹å‰çš„è¿­ä»£ä¸­è¢«æ ‡è®°è¿‡äº†ã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">ä¸¾ä¸ªä¾‹å­æ¥è¯´æ˜ï¼š</span><br><span class="hljs-string"></span><br><span class="hljs-string">å‡è®¾æˆ‘ä»¬æ­£åœ¨å¤„ç†i=10ï¼Œè€Œprimes[j]=2ï¼Œä¹Ÿå°±æ˜¯è¯´10æ˜¯2çš„å€æ•°ã€‚é‚£ä¹ˆåœ¨è¿™ä¸€è½®è¿­ä»£ä¸­ï¼Œæˆ‘ä»¬ä¼šæ ‡è®°10ã€20ã€30ã€40ã€...ç­‰ç­‰æ‰€æœ‰10çš„å€æ•°ä¸ºéç´ æ•°ã€‚ä½†å®é™…ä¸Šï¼Œè¿™äº›æ•°åœ¨ä¹‹å‰å·²ç»è¢«æ ‡è®°è¿‡äº†ï¼Œå› ä¸ºå®ƒä»¬åˆ†åˆ«æ˜¯2ã€4ã€6ã€8ã€...ç­‰ç­‰çš„å€æ•°ï¼Œè€Œè¿™äº›å€æ•°åœ¨å¤„ç†2çš„æ—¶å€™å·²ç»è¢«æ ‡è®°è¿‡äº†ã€‚æ‰€ä»¥ï¼Œä¸ºäº†é¿å…é‡å¤æ ‡è®°ï¼Œå½“iæ˜¯primes[j]çš„å€æ•°æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è·³å‡ºå†…å±‚å¾ªç¯ï¼Œä¸å†å¤„ç†è¿™ä¸ªæ•°åŠå…¶åç»­çš„å€æ•°ã€‚</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">linear_sieve</span>(<span class="hljs-params">n</span>):<br>    is_prime = [<span class="hljs-literal">True</span>] * (n + <span class="hljs-number">1</span>)  <span class="hljs-comment"># åˆå§‹åŒ–ä¸€ä¸ªå¸ƒå°”æ•°ç»„ï¼Œæ ‡è®°æ¯ä¸ªæ•°æ˜¯å¦ä¸ºç´ æ•°</span><br>    primes = []  <span class="hljs-comment"># å­˜å‚¨ç´ æ•°çš„åˆ—è¡¨</span><br><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>, n + <span class="hljs-number">1</span>):<br>        <span class="hljs-keyword">if</span> is_prime[i]:<br>            primes.append(i)  <span class="hljs-comment"># iæ˜¯ç´ æ•°</span><br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(primes)):<br>            <span class="hljs-comment"># å°†å·²çŸ¥ç´ æ•°primes[j]ä¸å½“å‰æ•°iç›¸ä¹˜ï¼Œæ ‡è®°å…¶å€æ•°ä¸ºéç´ æ•°</span><br>            <span class="hljs-keyword">if</span> primes[j] * i &gt; n:<br>                <span class="hljs-keyword">break</span><br>            is_prime[primes[j] * i] = <span class="hljs-literal">False</span><br>            <span class="hljs-keyword">if</span> i % primes[j] == <span class="hljs-number">0</span>:  <span class="hljs-comment"># å¦‚æœiæ˜¯primes[j]çš„å€æ•°ï¼Œè·³å‡ºå¾ªç¯</span><br>                <span class="hljs-keyword">break</span><br><br>    <span class="hljs-keyword">return</span> primes<br><br>n = <span class="hljs-number">30</span>  <span class="hljs-comment"># ä½ å¯ä»¥è®¾ç½®éœ€è¦æŸ¥æ‰¾ç´ æ•°çš„ä¸Šé™</span><br>primes = linear_sieve(n)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å°äºç­‰äº&quot;</span>, n, <span class="hljs-string">&quot;çš„ç´ æ•°ï¼š&quot;</span>, primes)<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>algorithm</tag>
      
      <tag>Math</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¤§äºŒä¸Š</title>
    <link href="/2023/09/11/%E5%A4%A7%E4%BA%8C%E4%B8%8A/"/>
    <url>/2023/09/11/%E5%A4%A7%E4%BA%8C%E4%B8%8A/</url>
    
    <content type="html"><![CDATA[<h1 id="å­¦æœŸ"><a href="#å­¦æœŸ" class="headerlink" title="å­¦æœŸ"></a>å­¦æœŸ</h1><h2 id="ç¬¬ä¸€å‘¨å…ˆå¤ä¹ ä¸€ä¸‹æ•°æ®ç»“æ„ï¼Œä¸ç„¶pythonå°æµ‹è¦å¯„æ‰äº†-ç—›è‹¦"><a href="#ç¬¬ä¸€å‘¨å…ˆå¤ä¹ ä¸€ä¸‹æ•°æ®ç»“æ„ï¼Œä¸ç„¶pythonå°æµ‹è¦å¯„æ‰äº†-ç—›è‹¦" class="headerlink" title="ç¬¬ä¸€å‘¨å…ˆå¤ä¹ ä¸€ä¸‹æ•°æ®ç»“æ„ï¼Œä¸ç„¶pythonå°æµ‹è¦å¯„æ‰äº† [ç—›è‹¦]"></a>ç¬¬ä¸€å‘¨å…ˆå¤ä¹ ä¸€ä¸‹æ•°æ®ç»“æ„ï¼Œä¸ç„¶pythonå°æµ‹è¦å¯„æ‰äº† [ç—›è‹¦]</h2><ul><li><p>é¦–å…ˆï¼Œå½“ç„¶æ˜¯ä¸Šè¯¾è¾£[å˜¿å˜¿]</p></li><li><p>èƒŒå•è¯ï¼Œä½ ä¹Ÿä¸æƒ³ä½ çœ‹ä¸æ‡‚cfé¢˜é¢çš„äº‹æƒ…è¢«å¤§å®¶çŸ¥é“å§~ï¼ˆ&#x2F;ww</p></li><li><p>å†™ç®—æ³•é¢˜ï¼Œ[æ•™ç»ƒï¼Œæˆ‘ä¹Ÿè¦æ‰“div4]</p></li><li><p>å­¦å­¦jsï¼Œjså¸…çš„å˜ï¼Œæˆ‘ä¹Ÿè¦åšå¥½ç©çš„ä¸œæºª</p></li><li><p>å­¦å­¦æœºå™¨å­¦ä¹ ï¼Œï¼ˆè°å·èµ°äº†æˆ‘çš„AIå¥³å‹ï¼Œ[å¤§å¼]</p></li><li><p>è·‘æ­¥ï¼Œä½ å°æ±~å†ä¸åŠ¨å°±ç­‰shiå§</p></li></ul><p>å¥½å¥½å¥½ï¼Œå°±å…ˆè¿™æ ·ï¼ˆ</p><h2 id="å¥½å¥½å¥½-æˆåŠŸè‹Ÿåˆ°äº†ç¬¬äºŒå‘¨"><a href="#å¥½å¥½å¥½-æˆåŠŸè‹Ÿåˆ°äº†ç¬¬äºŒå‘¨" class="headerlink" title="å¥½å¥½å¥½ æˆåŠŸè‹Ÿåˆ°äº†ç¬¬äºŒå‘¨"></a>å¥½å¥½å¥½ æˆåŠŸè‹Ÿåˆ°äº†ç¬¬äºŒå‘¨</h2><h3 id="ç¬¬ä¸€å‘¨"><a href="#ç¬¬ä¸€å‘¨" class="headerlink" title="ç¬¬ä¸€å‘¨"></a>ç¬¬ä¸€å‘¨</h3><ul><li>å¥½åƒæ²¡æ€ä¹ˆåˆ·è§†é¢‘æ¥ç€ï¼Œä½†æ˜¯æ•ˆç‡å¥½ä½ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆä¸€ä¸‹å­å°±å¥½å‡ ä¸ªå°æ—¶è¿‡å»äº†ã€‚awslï¼Œå…¶å®å‘¨æœ«æŒºæ‘†çš„ï¼ˆå‘œå‘œå‘œä¸ºä»€ä¹ˆï¼Œä¸æƒ³æ´»äº†</li><li>æ¯é—¨è¯¾éƒ½ä¸Šäº†ä¸€ç‚¹ç‚¹ å¾€åçœ‹äº†ä¸€ç‚¹ç‚¹</li><li>å­¦ä¼šäº†åŸºç¡€çš„htmlè¯­æ³• ä½†æ˜¯åé¢å¤§æ¦‚ä¼šå…ˆåœä¸€ä¸‹å­è¿™æ ·ï¼Œæœ¬æ¥ä»¥ä¸ºæ—¶é—´æŒºå¤šçš„ï¼Œç»“æœäº‹æƒ…å®‰æ’å¤šäº†ï¼Œè¿˜æ˜¯åšä¸å®Œã€‚</li><li>çœ‹äº†ä¸€ç‚¹ç‚¹æœºå™¨å­¦ä¹ ï¼Œå´æ©è¾¾è€å¸ˆè®²çš„çœŸå¥½ï¼ç¡®å®æ²¡æœ‰è™šå‡å¹¿å‘Šï¼Œæ¯”åˆ·å‰§çˆ½</li><li>èƒŒäº†å•è¯ï¼Œå¤§æ¦‚æœ‰æ¥è¿‘ä¸¤ç™¾ä¸ªå§ï¼Œå¥½åƒæœ‰å¤©æ™šä¸Šæ²¡èƒŒï¼ˆ</li><li>å»è·‘æ­¥äº†ï¼Œå¥½ç´¯ æ¯å¤©éƒ½åƒä»å™åˆ©äºšæ‰“ä»—å›æ¥</li><li>ç®—æ³•çœ‹äº†ä¸€ç‚¹ç‚¹ çœ‹äº†å— å¦‚çœ‹</li></ul><h3 id="ç¬¬äºŒå‘¨"><a href="#ç¬¬äºŒå‘¨" class="headerlink" title="ç¬¬äºŒå‘¨"></a>ç¬¬äºŒå‘¨</h3><ul><li>é¦–å…ˆæŠŠæ´›è°·çš„å¹¶æŸ¥é›†å’Œå›¾è®ºå…¨éƒ¨å†™å®Œ ä¸€å‘¨25t å•Šå•Šå•Šæˆ‘tmç›´æ¥æ‹¿ä¸‹</li><li>æ²¡äº‹çœ‹çœ‹æœºå™¨å­¦ä¹ </li><li>jså°±å…ˆä¸çœ‹äº†ç­‰å›½åº†åå†è¯´</li><li>æ•°æ®ç»“æ„ å¤§ç‰© ç¦»æ•£ æ•°å­—é€»è¾‘ å°½é‡å½“å¤©å°±å¤„ç†å®Œ æ¯å¤©çš„çŸ¥è¯†å¤ä¹ ä»¥åŠä½œä¸šï¼ˆç»™æˆ‘å†™å¿«ç‚¹å•Šå–‚ï¼‰åŸºç¡€è¯¾è¿˜æ˜¯å¾—å¤šèŠ±ç‚¹æ—¶é—´çš„</li><li>å¥½çƒ¦ ä¸¤ä¸ªsbå‘äº†æ¶ˆæ¯éƒ½ä¸å›ï¼Ÿç‰¹æ®Šé€‰è¯¾åªèƒ½çœ‹è¿æ°”äº†ï¼Œï¼Œæœäº† ä»¥åä¸çŸ¥é“æ€ä¹ˆåŠ </li><li>èƒŒå•è¯å’Œè·‘æ­¥</li><li>å‘¨æœ«ä¸è¦æ‘†çƒ‚ï¼ˆå“¼ï¼é²¨äº†ä½ å“¦</li></ul><p>ä¸»è¦æ˜¯å…ˆå­¦å­¦ç®—æ³• åŠ è®­ï¼ï¼&#x2F;oh ä½ è¿™ä¸ªratingæ€ä¹ˆç¡å¾—ç€çš„</p><h2 id="å¯„å•¦-å¼€å§‹æ‘†çƒ‚äº†-æˆ‘è¦å®Œè›‹äº†-å“­"><a href="#å¯„å•¦-å¼€å§‹æ‘†çƒ‚äº†-æˆ‘è¦å®Œè›‹äº†-å“­" class="headerlink" title="å¯„å•¦ å¼€å§‹æ‘†çƒ‚äº† æˆ‘è¦å®Œè›‹äº† [å“­]"></a>å¯„å•¦ å¼€å§‹æ‘†çƒ‚äº† æˆ‘è¦å®Œè›‹äº† [å“­]</h2><h3 id="ç¬¬äºŒå‘¨-1"><a href="#ç¬¬äºŒå‘¨-1" class="headerlink" title="ç¬¬äºŒå‘¨"></a>ç¬¬äºŒå‘¨</h3><ul><li>å‰ä¸‰å¤©å†™äº†PTA éš¾è¿‡ å†™äº†å¥½ä¹… æœ€åæ•´ç†äº†ï¼ˆè¿˜æ˜¯æœ‰2ä¸ªæ€ªæ€ªçš„</li><li>å‘¨ä¸‰å‘¨å››è¡¥äº†å¤§ç‰©å’Œç¦»æ•£å¤ä¹ äº†ä¹¦ç„¶åå†™äº†ä½œä¸š  ç„¶åå‘¨ä¸‰å¼€å§‹ å°±å¼€å§‹æ‘†çƒ‚&#x2F;kk è™½ç„¶ä¹Ÿåœ¨å†™ ä½†æ˜¯æ•ˆç‡å¥½ä½ã€‚ã€‚ã€‚</li><li>å‘¨äº”å…­æ›´æ˜¯è¿™æ · å•Šå•Šå•Šå•Šå•Šå•Š    å®Œè›‹äº† æ¯äº†</li><li>å¥½åƒæœ‰å‡ å¤©å•è¯ä¹Ÿæ²¡æœ‰èƒŒï¼Œæœ‰ä¸¤ä¸‰å¤©æ²¡å»è·‘æ­¥ ã€‚æ€ä¹ˆåŠæ€ä¹ˆåŠæ€ä¹ˆåŠæ€ä¹ˆåŠ</li><li>å¥½ç„¦è™‘ è¦æ­»æ‰äº† å“ˆå“ˆ</li><li>æœºå™¨å­¦ä¹ ä¹Ÿåªçœ‹äº†ä¸€ç‚¹ ç®—äº†  åæ­£ä¹Ÿæ²¡åœ¨å­¦åˆ«çš„ ç»§ç»­çœ‹æœºå™¨å­¦ä¹ å’Œjsç®—äº†</li><li>ç„¶åå†™äº†å¾ˆå¤šé¢˜ è¿˜å†™äº†div4 æ•´ç†äº† è™½ç„¶Hæ²¡çœ‹æ‡‚</li></ul><h3 id="ç¬¬ä¸‰å‘¨"><a href="#ç¬¬ä¸‰å‘¨" class="headerlink" title="ç¬¬ä¸‰å‘¨"></a>ç¬¬ä¸‰å‘¨</h3><ul><li>å¦‚æœæ²¡æœ‰ptaçš„è¯ å‘¨ä¸€çœ‹æ•°æ®ç»“æ„çš„ä¹¦ å¤ä¹ ADT</li><li>å†™é¢˜å°±å†™æ´›è°·çš„æå• å›¾è®ºå†™å®Œä¹‹åå¼€å§‹çœ‹ç®—æ³•ä¹¦</li><li>ä¸æƒ³å†™é¢˜äº†å°±çœ‹æœºå™¨å­¦ä¹ å’Œjs å†™ä¸ªçƒ‚ç®€å† æŠŠjsä¹Ÿå†™ä¸Šäº† å¯„</li><li>èƒŒå•è¯ æŠŠå…­çº§çš„ä¹¦æ‹¿è¿‡æ¥å†™</li><li>è·‘æ­¥</li><li>è¯¾ç¨‹å†…å®¹æ­£å¸¸ä¸Šè¯¾å’Œå¤ä¹ </li><li>å†™å‘¨è®¡åˆ’å¥½åƒæ²¡ä»€ä¹ˆç”¨  è¿˜æ˜¯ç²¾ç¡®åˆ°å°æ—¶çš„æ—¥è®¡åˆ’ è¿™å‘¨é€é€</li></ul><p>å•Šå•Šå•Šå•Šå•Šå•Šå•Š å†æ‘†çƒ‚å°±ç­‰æ­»å§å•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šwtmé²¨é²¨é²¨é²¨é²¨é²¨ä¸èƒ½å†çœ‹âˆš8è§†é¢‘äº†</p><h2 id="å‡æœŸç»“æŸ"><a href="#å‡æœŸç»“æŸ" class="headerlink" title="å‡æœŸç»“æŸ"></a>å‡æœŸç»“æŸ</h2><h3 id="ç¬¬äº”å‘¨"><a href="#ç¬¬äº”å‘¨" class="headerlink" title="ç¬¬äº”å‘¨"></a>ç¬¬äº”å‘¨</h3><ul><li>å¤§ç‰©çš„é¢˜è¦å†™å®Œ</li><li>æ•°å­—é€»è¾‘çš„ä½œä¸šå’Œå¤ä¹ ï¼ˆæ„Ÿè§‰å†™çš„å¥½æ…¢ï¼Œï¼Œè¿˜æœ‰è¯æ˜é¢˜</li><li>åŠ¨æ€è§„åˆ’çš„é¢˜å•</li><li>æ•°æ®ç»“æ„çœ‹ä¹¦å’Œå¤ä¹  è®²é¢˜</li><li>æ‹¿åˆ°å…­çº§çš„é¢˜ä¹‹å æ¯å‘¨å¤©å†™ä¸‰å¥—</li><li>èƒŒå•è¯</li><li>è·‘æ­¥</li></ul><p>éš¾è¿‡ ï¼Œï¼Œä½†æ˜¯è¦ç”¨æ­£å‘é­”æ³•ï¼å¥½ï¼</p><h2 id="ç¬¬äº”å‘¨å‘¢ï¼Ÿä¹Œä¹Œè°å·èµ°äº†æˆ‘çš„ç¬¬äº”å‘¨"><a href="#ç¬¬äº”å‘¨å‘¢ï¼Ÿä¹Œä¹Œè°å·èµ°äº†æˆ‘çš„ç¬¬äº”å‘¨" class="headerlink" title="ç¬¬äº”å‘¨å‘¢ï¼Ÿä¹Œä¹Œè°å·èµ°äº†æˆ‘çš„ç¬¬äº”å‘¨"></a>ç¬¬äº”å‘¨å‘¢ï¼Ÿä¹Œä¹Œè°å·èµ°äº†æˆ‘çš„ç¬¬äº”å‘¨</h2><p>ç¬¬äº”å‘¨å¤ªéš¾è¿‡äº† äºæ˜¯æ²¡æœ‰äº†</p><h2 id="ç¬¬å…­å‘¨"><a href="#ç¬¬å…­å‘¨" class="headerlink" title="ç¬¬å…­å‘¨"></a>ç¬¬å…­å‘¨</h2><p>æ„Ÿè§‰äº‹æƒ…å¤šä¸€ç‚¹çš„è¯æ•ˆç‡è¿˜æ˜¯ä¼šæé«˜çš„è¿™æ ·å­  è¿™å‘¨å‰é¢åœ¨å‡†å¤‡å¤§ç‰©å°æµ‹  çœ‹ä¹¦çš„æ—¶å€™è¿˜æ˜¯å®¹æ˜“æ‘†çƒ‚ã€‚ã€‚å†™é¢˜å€’è¿˜å¥½  åé¢åœ¨è¡¥å¤§ç‰©çš„ç¬”è®°ä»€ä¹ˆçš„ è¿˜æœ‰è¯¾å†…çš„ä¸€äº›å†…å®¹</p><h3 id="ç¬¬ä¸ƒå‘¨"><a href="#ç¬¬ä¸ƒå‘¨" class="headerlink" title="ç¬¬ä¸ƒå‘¨"></a>ç¬¬ä¸ƒå‘¨</h3><ul><li><p>åé¢å…ˆæŒ‰è®¡åˆ’å†™å¤§ç‰©  å†™å®Œä¹‹å å¼€å§‹å†™å¤§ç‰©çš„å¾€å¹´å·  åªæœ‰ä¸¤å‘¨äº†ã€‚ã€‚ã€‚</p></li><li><p>ç¦»æ•£çš„è¯  è¦åšç¦»æ•£çš„æ•´ç†   ä¸€å¤©åšä¸€ç‚¹  å¤§æ¦‚èƒ½åœ¨è€ƒè¯•å‰åšå®Œï¼Œï¼Œè¯è¯´ç¦»æ•£ä¹Ÿæœ‰å¾€å¹´å·å•Š</p></li><li><p>ç„¶å  æ•°æ®ç»“æ„  å¼€å§‹å‡†å¤‡å†™é¢˜  å…ˆå†™ä¹ é¢˜å†Œä¸Šçš„</p></li><li><p>æ•°å­—é€»è¾‘ è®°å¾—å¤ä¹ ppt  ç„¶åä¹Ÿè¦å¼€å§‹å†™å¾€å¹´å·   </p></li><li><p>ä¸‹å‘¨ ä¸‹ä¸‹å‘¨ å…ˆä¸»è¦å†™å¤§ç‰© æ•´ç†ç¦»æ•£  çœ‹çœ‹æœ€ç»ˆè€ƒè¯•æ˜¯åœ¨ä»€ä¹ˆæ—¶é—´  ï¼ˆå…¶å®éƒ½æŒ¤åœ¨ç¬¬ä¹å‘¨  è¯´ä¸å®šå…¶ä»–ç§‘æ¯”å¤§ç‰©è¿˜æ—©ï¼Œï¼Œï¼Œ</p></li><li><p>è‹±è¯­æœ‰æ—¶é—´å°±å†™ã€‚æ²¡æ—¶é—´å°±ç®—äº† å§æ§½ è‹±è¯­çœŸå•¥ä¹Ÿä¸ä¼šäº†ã€‚ã€‚ ä½†æ˜¯å¯ä»¥æœŸä¸­è€ƒå®Œå†å†™ è‹±è¯­æ˜¯åäºŒæœˆè€ƒ</p></li></ul><p>åˆè¦å¼€å§‹è€ƒè¯•æœˆäº†ï¼Œå†™ä¸€å †é¢˜&#x2F;&#x2F;&#x2F;</p><p>å¯¹äº†  è¿˜æœ‰ åŠ¨æ€è§„åˆ’çš„é¢˜è§£ å’Œä¸¤åœºdiv3çš„é¢˜ è¿˜æœ‰åŠ›æ‰£çš„é¢˜</p>]]></content>
    
    
    
    <tags>
      
      <tag>Plan</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å›¾è®ºå…¥é—¨é¢˜è§£</title>
    <link href="/2023/08/26/%E5%9B%BE%E8%AE%BA%E5%85%A5%E9%97%A8%E9%A2%98%E8%A7%A3/"/>
    <url>/2023/08/26/%E5%9B%BE%E8%AE%BA%E5%85%A5%E9%97%A8%E9%A2%98%E8%A7%A3/</url>
    
    <content type="html"><![CDATA[<h1 id="P5318-ã€æ·±åŸº18-ä¾‹3ã€‘æŸ¥æ‰¾æ–‡çŒ®-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn"><a href="#P5318-ã€æ·±åŸº18-ä¾‹3ã€‘æŸ¥æ‰¾æ–‡çŒ®-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn" class="headerlink" title="P5318 ã€æ·±åŸº18.ä¾‹3ã€‘æŸ¥æ‰¾æ–‡çŒ® - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)"></a><a href="https://www.luogu.com.cn/problem/P5318">P5318 ã€æ·±åŸº18.ä¾‹3ã€‘æŸ¥æ‰¾æ–‡çŒ® - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)</a></h1><p>ç”¨vector<int>graph[N]å­˜å›¾ ç±»ä¼¼äºdefaultdict(list)</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">100010</span>;<br>vector&lt;<span class="hljs-type">int</span>&gt;graph[N];<br><span class="hljs-type">int</span> n, m;<br><span class="hljs-type">bool</span> vis[N];<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>vis[x] = <span class="hljs-literal">true</span>;<br>cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; graph[x].<span class="hljs-built_in">size</span>(); i++)<br>&#123;<br><span class="hljs-keyword">if</span> (!vis[graph[x][i]])<br>&#123;<br><span class="hljs-built_in">dfs</span>(graph[x][i]);<br>&#125;<br>&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>queue&lt;<span class="hljs-type">int</span>&gt;q;<br>q.<span class="hljs-built_in">push</span>(x);<br>vis[x] = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">while</span> (!q.<span class="hljs-built_in">empty</span>())<br>&#123;<br><span class="hljs-type">int</span> a = q.<span class="hljs-built_in">front</span>();<br>q.<span class="hljs-built_in">pop</span>();<br>cout &lt;&lt; a &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; graph[a].<span class="hljs-built_in">size</span>();i++)<br>&#123;<br><span class="hljs-keyword">if</span> (!vis[graph[a][i]])<br>&#123;<br>vis[graph[a][i]] = <span class="hljs-literal">true</span>;<br>q.<span class="hljs-built_in">push</span>(graph[a][i]);<br>&#125;<br>&#125;<br>&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin &gt;&gt; n &gt;&gt; m;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i++)<br>&#123;<br><span class="hljs-type">int</span> a, b;<br>cin &gt;&gt; a &gt;&gt; b;<br>graph[a].<span class="hljs-built_in">emplace_back</span>(b);<br>&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br><span class="hljs-built_in">sort</span>(graph[i].<span class="hljs-built_in">begin</span>(), graph[i].<span class="hljs-built_in">end</span>());<br><br><span class="hljs-built_in">dfs</span>(<span class="hljs-number">1</span>);<br>cout &lt;&lt; endl;<br><br><span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br><br><span class="hljs-built_in">bfs</span>(<span class="hljs-number">1</span>);<br>cout &lt;&lt; endl;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="P3916-å›¾çš„éå†-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn"><a href="#P3916-å›¾çš„éå†-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn" class="headerlink" title="P3916 å›¾çš„éå† - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)"></a><a href="https://www.luogu.com.cn/problem/P3916">P3916 å›¾çš„éå† - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)</a></h1><p>æœ‰å‘å›¾æ±‚æ¯ä¸ªç‚¹èƒ½åˆ°è¾¾çš„ç¼–å·æœ€å¤§çš„ç‚¹</p><p>å›¾è®ºçš„ç»å…¸åšæ³•  å­˜åå›¾ç„¶åä»æœ€å¤§çš„ç‚¹å¼€å§‹éå†ä»–èƒ½åˆ°è¾¾çš„æ‰€æœ‰ç‚¹ æ›´æ–°  åç»­å¦‚æœè¿™ä¸ªç‚¹å·²ç»æ›´æ–°è¿‡äº† å°±ä¸å†æ›´æ–°äº†</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">100010</span>;<br>vector&lt;<span class="hljs-type">int</span>&gt;fgraph[N];<br><span class="hljs-type">int</span> dis[N] = &#123; <span class="hljs-number">0</span> &#125;;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> d)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">if</span> (dis[x] != <span class="hljs-number">0</span>)<br><span class="hljs-keyword">return</span>;<br>dis[x] = d;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; fgraph[x].<span class="hljs-built_in">size</span>(); i++)<br>&#123;<br><span class="hljs-built_in">dfs</span>(fgraph[x][i], d);<br>&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> n, m;<br>cin &gt;&gt; n &gt;&gt; m;<br><span class="hljs-keyword">while</span> (m--)<br>&#123;<br><span class="hljs-type">int</span> u, v;<br>cin &gt;&gt; u &gt;&gt; v;<br>fgraph[v].<span class="hljs-built_in">push_back</span>(u);<br>&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = n; i &gt;= <span class="hljs-number">0</span>; i--)<br>&#123;<br><span class="hljs-built_in">dfs</span>(i, i);<br>&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>&#123;<br>cout &lt;&lt; dis[i] &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="P1113-æ‚åŠ¡-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn"><a href="#P1113-æ‚åŠ¡-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn" class="headerlink" title="P1113 æ‚åŠ¡ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)"></a><a href="https://www.luogu.com.cn/problem/P1113">P1113 æ‚åŠ¡ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)</a></h1><p>ç»å…¸æ‹“æ‰‘+åŠ¨æ€è§„åˆ’</p><p>æŠŠå‰é¢çš„æ‚ç‰©å¹²å®Œæ‰èƒ½å¹²åé¢çš„äº‹  æ‹“æ‰‘æ’åº</p><p>å¹¶ä¸”åŠ ä¸Šäº†åŠ¨æ€è§„åˆ’ï¼ˆæœ‰ç‚¹ç±»ä¼¼dijkstraï¼‰   å®Œæˆæ‰€æœ‰æ‚ç‰©çš„æœ€çŸ­æ—¶é—´ æ¯æ¬¡å¾ªç¯æ›´æ–° åˆ°uè¿™ä¸ªä»»åŠ¡éœ€è¦çš„æœ€çŸ­æ—¶é—´ ï¼ˆå³f[u] &#x3D; max(f[u], f[x] + t[u]ï¼‰åˆ°uçš„æœ€çŸ­ å³åˆ°æºç‚¹åˆ°xçš„æœ€çŸ­åŠ ä¸Šåˆ°xåˆ°uçš„æœ€çŸ­</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#include &lt;bits/stdc++.h&gt;</span><br>using namespace std;<br>const <span class="hljs-built_in">int</span> N = <span class="hljs-number">500500</span>;<br><br>vector&lt;<span class="hljs-built_in">int</span>&gt;graph[N];<br><span class="hljs-built_in">int</span> deg[N];<br><span class="hljs-built_in">int</span> f[N];<br><span class="hljs-built_in">int</span> t[N];<br><span class="hljs-built_in">int</span> main()<br>&#123;<br><span class="hljs-built_in">int</span> n;<br>cin &gt;&gt; n;<br><span class="hljs-keyword">for</span>(<span class="hljs-built_in">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>&#123;<br><span class="hljs-built_in">int</span> u, v;<br>cin &gt;&gt; u &gt;&gt; t[i];<br><span class="hljs-keyword">while</span> (cin &gt;&gt; v &amp;&amp; v)<br>&#123;<br>graph[v].push_back(u);<br>deg[u]++;<br>&#125;<br>&#125;<br>queue&lt;<span class="hljs-built_in">int</span>&gt;q;<br><span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>&#123;<br><span class="hljs-keyword">if</span> (deg[i] == <span class="hljs-number">0</span>)<br>&#123;<br>q.push(i);<br>f[i] = t[i];<br>&#125;<br>&#125;<br><span class="hljs-keyword">while</span> (!q.empty())<br>&#123;<br><span class="hljs-built_in">int</span> x = q.front();<br>q.pop();<br><br><span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; graph[x].size(); i++)<br>&#123;<br><span class="hljs-built_in">int</span> u = graph[x][i];<br>deg[u]--;<br><span class="hljs-keyword">if</span> (deg[u] == <span class="hljs-number">0</span>)<br>&#123;<br>q.push(u);<br>&#125;<br>f[u] = <span class="hljs-built_in">max</span>(f[u], f[x] + t[u]);<br>&#125;<br>&#125;<br><span class="hljs-built_in">int</span> ans = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>&#123;<br>ans = <span class="hljs-built_in">max</span>(ans, f[i]);<br>&#125;<br>cout &lt;&lt; ans &lt;&lt; endl;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="P4017-æœ€å¤§é£Ÿç‰©é“¾è®¡æ•°-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn"><a href="#P4017-æœ€å¤§é£Ÿç‰©é“¾è®¡æ•°-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn" class="headerlink" title="P4017 æœ€å¤§é£Ÿç‰©é“¾è®¡æ•° - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)"></a><a href="https://www.luogu.com.cn/problem/P4017">P4017 æœ€å¤§é£Ÿç‰©é“¾è®¡æ•° - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)</a></h1><p>æ±‚é£Ÿç‰©é“¾çš„æ•°é‡ï¼ˆé£Ÿç‰©é“¾å¿…é¡»åˆ°æœ€é«˜æ¶ˆè´¹è€… å³ä¸è¢«æ•é£Ÿçš„åŠ¨ç‰© å³å‡ºåº¦ä¸º0çš„ï¼‰</p><p>æ‹“æ‰‘æ’åº+åŠ¨æ€è§„åˆ’ </p><p>æ¯”å¦‚a-&gt;b-&gt;c   æ¯æ¬¡æ›´æ–°æ—¶ nums[b] &#x3D; nums[b] + nums[a] æŠŠåˆ°ç¬¬açš„é£Ÿç‰©é“¾æ¡æ•°å…¨éƒ¨ç´¯åŠ åˆ°bä¸­  æœ€åæŠŠå‡ºåº¦ä¸º0çš„ç‚¹çš„æ¡æ•°åŠ ä¸Š å³ä¸ºç­”æ¡ˆ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">100010</span>;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> mod = <span class="hljs-number">80112002</span>;<br>vector&lt;<span class="hljs-type">int</span>&gt;graph[N];<br><span class="hljs-type">int</span> deg[N], out[N], nums[N];<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> n, m;<br>cin &gt;&gt; n &gt;&gt; m;<br><span class="hljs-type">int</span> a, b;<br><br><span class="hljs-keyword">while</span> (m--)<br>&#123;<br>cin &gt;&gt; a &gt;&gt; b;<br>graph[a].<span class="hljs-built_in">push_back</span>(b);<br>deg[b]++;<br>out[a]++;<br>&#125;<br>queue&lt;<span class="hljs-type">int</span>&gt;q;<br><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>&#123;<br><span class="hljs-keyword">if</span> (deg[i] == <span class="hljs-number">0</span>)<br>&#123;<br>q.<span class="hljs-built_in">push</span>(i);<br>nums[i] = <span class="hljs-number">1</span>;<br>&#125;<br>&#125;<br><br><span class="hljs-keyword">while</span> (!q.<span class="hljs-built_in">empty</span>())<br>&#123;<br><span class="hljs-type">int</span> x = q.<span class="hljs-built_in">front</span>();<br>q.<span class="hljs-built_in">pop</span>();<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; graph[x].<span class="hljs-built_in">size</span>(); i++)<br>&#123;<br><span class="hljs-type">int</span> u = graph[x][i];<br>deg[u]--;<br><span class="hljs-keyword">if</span> (deg[u] == <span class="hljs-number">0</span>)<br>&#123;<br>q.<span class="hljs-built_in">push</span>(u);<br>&#125;<br>nums[u] = (nums[u] + nums[x]) % mod;<br>&#125;<br><br>&#125;<br><span class="hljs-type">long</span> <span class="hljs-type">long</span> ans = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>&#123;<br><span class="hljs-keyword">if</span> (out[i] == <span class="hljs-number">0</span>)<br>&#123;<br>ans = (nums[i] + ans)%mod;<br>&#125;<br>&#125;<br>cout &lt;&lt; ans;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="P1807-æœ€é•¿è·¯-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn"><a href="#P1807-æœ€é•¿è·¯-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn" class="headerlink" title="P1807 æœ€é•¿è·¯ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)"></a><a href="https://www.luogu.com.cn/problem/P1807">P1807 æœ€é•¿è·¯ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)</a></h1><p>æœ€é•¿è·¯é—®é¢˜   è¿˜æ˜¯åŠ¨æ€è§„åˆ’  d[i] &#x3D; max(d[x]  + mp[x ] [ i ], d[i])</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">2000</span>, M = <span class="hljs-number">55000</span>;<br><span class="hljs-type">int</span> n, m;<br><span class="hljs-type">int</span> d[N], mp[N][N];<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-built_in">memset</span>(d, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> d); <br>d[<span class="hljs-number">1</span>] = <span class="hljs-number">0</span>;<br>cin &gt;&gt; n &gt;&gt; m;<br><span class="hljs-type">int</span> u, v, w;<br><span class="hljs-keyword">while</span> (m--)<br>&#123;<br>cin &gt;&gt; u &gt;&gt; v &gt;&gt; w;<br>mp[u][v] = <span class="hljs-built_in">max</span>(mp[u][v], w);<br>&#125;<br><br>queue&lt;<span class="hljs-type">int</span>&gt;q;<br>q.<span class="hljs-built_in">push</span>(<span class="hljs-number">1</span>);<br><span class="hljs-keyword">while</span> (!q.<span class="hljs-built_in">empty</span>())<br>&#123;<br><span class="hljs-type">int</span> x = q.<span class="hljs-built_in">front</span>();<br>q.<span class="hljs-built_in">pop</span>();<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>&#123;<br><span class="hljs-keyword">if</span> (mp[x][i] &amp;&amp; d[i] &lt; d[x] + mp[x][i])<br>&#123;<br>d[i] = d[x] + mp[x][i];<br>q.<span class="hljs-built_in">push</span>(i);<br>&#125;<br><br>&#125;<br>&#125;<br><br>cout &lt;&lt; d[n] &lt;&lt; endl;<br><br>&#125;<br></code></pre></td></tr></table></figure><h1 id="P2853-USACO06DEC-Cow-Picnic-S-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn"><a href="#P2853-USACO06DEC-Cow-Picnic-S-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn" class="headerlink" title="[P2853 USACO06DEC] Cow Picnic S - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)"></a>[P2853 <a href="https://www.luogu.com.cn/problem/P2853">USACO06DEC] Cow Picnic S - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)</a></h1><p>æ±‚æœ‰å‡ ä¸ªåœ°æ–¹ æ˜¯æ‰€æœ‰çš„å¥¶ç‰›éƒ½å¯ä»¥çš„åˆ°è¾¾çš„</p><p>é‚£æ¯æ¬¡èµ°è¿‡çš„æ—¶å€™æ¬¡æ•°+1  å½“all[x] &#x3D;&#x3D; k çš„æ—¶å€™å°±ä»£è¡¨è¿™ä¸ªç‚¹éƒ½å¯ä»¥åˆ°è¾¾</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1010</span>;<br><span class="hljs-type">int</span> n, m, k;<br><span class="hljs-type">int</span> a[N], vis[N], all[N];<br>vector&lt;<span class="hljs-type">int</span>&gt;graph[N];<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">if</span> (vis[x] != <span class="hljs-number">0</span>)<br><span class="hljs-keyword">return</span>;<br>vis[x] = <span class="hljs-number">1</span>;<br>all[x] += <span class="hljs-number">1</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; graph[x].<span class="hljs-built_in">size</span>(); i++)<br>&#123;<br><span class="hljs-type">int</span> y = graph[x][i];<br><span class="hljs-keyword">if</span> (vis[y] == <span class="hljs-number">0</span>)<br><span class="hljs-built_in">dfs</span>(y);<br>&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin &gt;&gt; k &gt;&gt; n &gt;&gt; m;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= k; i++)<br>cin &gt;&gt; a[i];<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++)<br>&#123;<br><span class="hljs-type">int</span> a, b;<br>cin &gt;&gt; a &gt;&gt; b;<br>graph[a].<span class="hljs-built_in">push_back</span>(b);<br>&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= k; i++)<br>&#123;<br><span class="hljs-built_in">dfs</span>(a[i]);<br><span class="hljs-built_in">memset</span>(vis, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> vis);<br>&#125;<br><span class="hljs-type">int</span> ans = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>&#123;<br><span class="hljs-keyword">if</span> (all[i] == k)<br>ans += <span class="hljs-number">1</span>;<br>&#125;<br>cout &lt;&lt; ans;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="P1363-å¹»è±¡è¿·å®«-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn"><a href="#P1363-å¹»è±¡è¿·å®«-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn" class="headerlink" title="P1363 å¹»è±¡è¿·å®« - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)"></a><a href="https://www.luogu.com.cn/problem/P1363">P1363 å¹»è±¡è¿·å®« - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)</a></h1><p>æ— çº¿çš„åœ°å›¾ é‚£ä¹ˆåªè¦å®ƒèƒ½å¤Ÿå›åˆ°åŸç‚¹ å°±è¯´æ˜å¯ä»¥ä»ä¸€ä¸ªç‚¹åˆ°å¦ä¸€ä¸ªç‚¹  å°±å¯ä»¥æ— é™èµ° å°±ç¬¦åˆé¢˜æ„</p><p>ç”¨viså‚¨å­˜æ¨ªçºµåæ ‡å’Œæ˜¯å¦è®¿é—®  </p><p>æ¯æ¬¡è¿›å…¥å…ˆåˆ¤æ–­è¯¥ç‚¹ï¼ˆæ˜¯å–æ¨¡è¿‡çš„ç‚¹ ***ï¼‰æ˜¯å¦å·²ç»è®¿é—®è¿‡  å¦‚æœè®¿é—®è¿‡ å¹¶ä¸”xï¼Œ yè·Ÿä¹‹å‰çš„ä¸ä¸€æ ·ï¼ˆåªè¦æœ‰ä¸€ä¸ªä¸ä¸€æ ·å°±è¡Œï¼‰é‚£å°±è¯´æ˜èµ°åˆ°äº†å¦ä¸€ä¸ªåœ°å›¾çš„åŸç‚¹ è¯´æ˜å¯ä»¥æ— é™</p><p>å¦‚æœè®¿é—®è¿‡ å¹¶ä¸”æ˜¯å›åˆ°äº†åŸç‚¹ é‚£å°±é€€å›</p><p>æ ‡è®°è¯¥ç‚¹ä¸ºå·²è®¿é—® åƒå››ä¸ªæ–¹å‘æ‹“å±•  lxå’Œlyç”¨æ¥è®°å½•æ˜¯å¦èµ°å‡º  è¦å–æ¨¡</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">int</span> m, n, sx, sy, dx[<span class="hljs-number">4</span>] = &#123; <span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">-1</span> &#125;, dy[<span class="hljs-number">4</span>] = &#123; <span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">-1</span>,<span class="hljs-number">0</span> &#125;, ans = <span class="hljs-number">0</span>;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1510</span>;<br><span class="hljs-type">bool</span> graph[N][N] = &#123; <span class="hljs-literal">false</span> &#125;;<br><span class="hljs-type">int</span> vis[N][N][<span class="hljs-number">3</span>] = &#123; <span class="hljs-number">0</span> &#125;;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y, <span class="hljs-type">int</span> lx, <span class="hljs-type">int</span> ly)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">if</span> (vis[lx][ly][<span class="hljs-number">2</span>] &amp;&amp; (vis[lx][ly][<span class="hljs-number">0</span>] != x || vis[lx][ly][<span class="hljs-number">1</span>] != y))<br>&#123;<br>ans = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">return</span>;<br>&#125;<br><br><span class="hljs-keyword">if</span> (vis[lx][ly][<span class="hljs-number">2</span>] &amp;&amp; vis[lx][ly][<span class="hljs-number">0</span>] == x &amp;&amp; vis[lx][ly][<span class="hljs-number">1</span>] == y)<span class="hljs-keyword">return</span>;<br>vis[lx][ly][<span class="hljs-number">0</span>] = x; vis[lx][ly][<span class="hljs-number">1</span>] = y; vis[lx][ly][<span class="hljs-number">2</span>] = <span class="hljs-number">1</span>;<br><span class="hljs-type">int</span> nx, ny;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> w = <span class="hljs-number">0</span>; w &lt; <span class="hljs-number">4</span>; w++)<br>&#123;<br>nx = (lx + dx[w] + n) % n;<br>ny = (ly + dy[w] + m) % m;<br><span class="hljs-keyword">if</span> (graph[nx][ny])<span class="hljs-built_in">dfs</span>(x + dx[w], y + dy[w], nx, ny);<br>&#125;<br><br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">char</span> c;<br><span class="hljs-keyword">while</span> (cin &gt;&gt; n &gt;&gt; m)<br>&#123;<br><span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-built_in">sizeof</span>(vis));<br><span class="hljs-built_in">memset</span>(graph, <span class="hljs-literal">false</span>, <span class="hljs-built_in">sizeof</span>(graph));<br>ans = <span class="hljs-number">0</span>;<br><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>&#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; m; j++)<br>&#123;<br>cin &gt;&gt; c;<br><span class="hljs-keyword">if</span> (c == <span class="hljs-string">&#x27;.&#x27;</span>)graph[i][j] = <span class="hljs-literal">true</span>;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (c == <span class="hljs-string">&#x27;S&#x27;</span>)<br>&#123;<br>sx = i, sy = j;<br>graph[i][j] = <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-keyword">else</span> graph[i][j] = <span class="hljs-literal">false</span>;<br>&#125; <br>&#125;<br><span class="hljs-built_in">dfs</span>(sx, sy, sx, sy);<br><span class="hljs-keyword">if</span> (ans)<span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Yes&quot;</span>);<br><span class="hljs-keyword">else</span> <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;No&quot;</span>);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="çœä»½æ•°é‡-547-çœä»½æ•°é‡-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#çœä»½æ•°é‡-547-çœä»½æ•°é‡-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="[çœä»½æ•°é‡](547. çœä»½æ•°é‡ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰)"></a>[çœä»½æ•°é‡](<a href="https://leetcode.cn/problems/number-of-provinces/?envType=study-plan-v2&envId=graph-theory">547. çœä»½æ•°é‡ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a>)</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># dfs ç”¨ä¸€ä¸ªæ ‡è®°æ•°ç»„è®°ä¸‹å·²ç»è®¿é—®è¿‡çš„åŸå¸‚ ç„¶åéå†æ‰€æœ‰çš„åŸå¸‚ æ¯ä¸€æ¬¡dfséƒ½å¯ä»¥éå†ä¸€ä¸ªçœä»½çš„æ‰€æœ‰åŸå¸‚</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">findCircleNum</span>(<span class="hljs-params">self, isConnected: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>cities = <span class="hljs-built_in">len</span>(isConnected)<br>        province = <span class="hljs-number">0</span><br>        vis = [<span class="hljs-number">0</span>] * cities<br><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">dfs</span>(<span class="hljs-params">i</span>):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(cities):<br>                <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> vis[j] <span class="hljs-keyword">and</span> isConnected[i][j] == <span class="hljs-number">1</span>:<br>                    vis[j] = <span class="hljs-number">1</span><br>                    dfs(j)<br><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(cities):<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> vis[i]:<br>                vis[i] = <span class="hljs-number">1</span><br>                province += <span class="hljs-number">1</span><br>                dfs(i)<br><br>        <span class="hljs-keyword">return</span> province<br>    <br>   <span class="hljs-comment"># ä¹Ÿå¯ç”¨å¹¶æŸ¥é›† å¯¹æ¯ä¸ªç‚¹æŸ¥æ‰¾ç¥–å…ˆç»“ç‚¹ åˆå¹¶ æœ€åæœ‰å‡ ä¸ªç¥–å…ˆç»“ç‚¹å°±æœ‰å‡ ä¸ªçœä»½ </span><br><span class="hljs-comment"># é‡ç‚¹åœ¨å¹¶æŸ¥é›†çš„å†™æ³•</span><br>uf = UnionFind()<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(isConnected)):<br>            uf.add(i)<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(i):<br>                <span class="hljs-keyword">if</span> isConnected[i][j] == <span class="hljs-number">1</span>:<br>                    uf.merge(i,j)<br>        <span class="hljs-keyword">return</span> uf.num_of_sets<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">UnionFind</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self.father = &#123;&#125;<br>        self.num_of_sets = <span class="hljs-number">0</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">find</span>(<span class="hljs-params">self,x</span>):<br>        root = x<br>        <span class="hljs-keyword">while</span> self.father[root] != <span class="hljs-literal">None</span>:<br>            root = self.father[root]<br><span class="hljs-comment"># è®©å¹¶æŸ¥é›†æ›´å®½ å‡å°‘æ—¶é—´å¤æ‚åº¦</span><br>        <span class="hljs-keyword">while</span> x != root:<br>            original_father = self.father[x]<br>            self.father[x] = root<br>            x = original_father<br>        <span class="hljs-keyword">return</span> root<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">merge</span>(<span class="hljs-params">self,x,y</span>):<br>        root_x, root_y = self.find(x),self.find(y)<br><br>        <span class="hljs-keyword">if</span> root_x != root_y:<br>            self.father[root_x] = root_y<br>            self.num_of_sets -= <span class="hljs-number">1</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">self,x</span>):<br>        <span class="hljs-keyword">if</span> x <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> self.father:<br>            self.father[x] = <span class="hljs-literal">None</span><br>            self.num_of_sets += <span class="hljs-number">1</span><br><br></code></pre></td></tr></table></figure><h1 id="æ‰¾åˆ°æœ€ç»ˆçš„å®‰å…¨çŠ¶æ€-802-æ‰¾åˆ°æœ€ç»ˆçš„å®‰å…¨çŠ¶æ€-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#æ‰¾åˆ°æœ€ç»ˆçš„å®‰å…¨çŠ¶æ€-802-æ‰¾åˆ°æœ€ç»ˆçš„å®‰å…¨çŠ¶æ€-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="[æ‰¾åˆ°æœ€ç»ˆçš„å®‰å…¨çŠ¶æ€](802. æ‰¾åˆ°æœ€ç»ˆçš„å®‰å…¨çŠ¶æ€ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰)"></a>[æ‰¾åˆ°æœ€ç»ˆçš„å®‰å…¨çŠ¶æ€](<a href="https://leetcode.cn/problems/find-eventual-safe-states/?envType=study-plan-v2&envId=graph-theory">802. æ‰¾åˆ°æœ€ç»ˆçš„å®‰å…¨çŠ¶æ€ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a>)</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">æ‰€æœ‰ç»“ç‚¹éƒ½é€šå‘ç»ˆç«¯ç»“ç‚¹çš„ç»“ç‚¹ä¸ºå®‰å…¨ç»“ç‚¹ï¼Œåªè¦æ²¡æœ‰ç¯çš„è¯ï¼Œé‚£æ‰€æœ‰ç»“ç‚¹è‚¯å®šéƒ½æ˜¯é€šå‘ç»ˆç«¯ç»“ç‚¹çš„ï¼Œæ‰€ä»¥é¢˜ç›®å°±æ˜¯æ±‚å‡ºæ‰€æœ‰ä¸ç»„æˆç¯çš„ç»“ç‚¹</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">dfs æ·±æœæ‰¾ç¯ ç”¨ä¸‰è‰²æ ‡è®°æ³•ï¼Œæœªè®¿é—®ä¸º0ï¼Œè¿˜å¤„äºé€’å½’æ ˆä¸­æˆ–åœ¨ç¯ä¸Šä¸º1ï¼Œæœç´ å®Œæ¯•æ˜¯å®‰å…¨ç»“ç‚¹ä¸º2</span><br><span class="hljs-string">ä¸€å¼€å§‹å…¨ä¸º0ï¼Œå¼€å§‹æœç´¢ï¼Œæœåˆ°çš„0æ ‡è®°ä¸º1ï¼Œå½“æœç´¢åˆ°çš„æ˜¯1ï¼Œè¯´æ˜é‡åˆ°ç¯äº†ï¼Œæ­¤æ—¶é€€å‡ºã€‚å½“æ²¡æœ‰æœåˆ°ç¯ åœ¨é€€å‡ºdfså‰ï¼Œå°†æ ‡è®°æ”¹ä¸º2ï¼Œè¡¨ç¤ºå®‰å…¨</span><br><span class="hljs-string">&quot;&quot;&quot;</span> <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">eventualSafeNodes</span>(<span class="hljs-params">self, graph: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>n = <span class="hljs-built_in">len</span>(graph)<br>        color = [<span class="hljs-number">0</span>] * n<br>        <br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">safe</span>(<span class="hljs-params">x: <span class="hljs-built_in">int</span></span>)-&gt;<span class="hljs-built_in">bool</span>:<br>            <span class="hljs-comment"># è®¿é—®å·²ç»æœè¿‡çš„ç»“ç‚¹ 1ä¸ºæœ‰ç¯ 2ä¸ºæ— ç¯</span><br>            <span class="hljs-keyword">if</span> color[x] &gt; <span class="hljs-number">0</span>:<br>                <span class="hljs-keyword">return</span> color[x] == <span class="hljs-number">2</span><br>            <span class="hljs-comment"># å¦‚æœæ˜¯0</span><br>            color[x] = <span class="hljs-number">1</span><br>            <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> graph[x]:<br>                <span class="hljs-comment"># å¿«é€Ÿé€€å‡º</span><br>                <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> safe(y):<br>                    <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>            <span class="hljs-comment"># å¦‚æœä¸Šé¢æ£€æµ‹äº†éƒ½æ²¡æœ‰ç¯ é‚£ä¹ˆå°±è¯´æ˜è¯¥ç»“ç‚¹æ— ç¯ æ ‡è®°ä¸º2å¹¶è¿”å›True</span><br>            color[x] = <span class="hljs-number">2</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>       <br>        <span class="hljs-keyword">return</span> [i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n) <span class="hljs-keyword">if</span> safe(i)]<br>    <br>    <br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    æ‹“æ‰‘æ’åº æ‹“æ‰‘æ’åºå¯ä»¥ç”¨æ¥åˆ¤ç¯ï¼Œå¦‚æœä¸€ä¸ªç»“ç‚¹æ²¡æœ‰å‡ºè¾¹é‚£ä¹ˆå°±æ˜¯å®‰å…¨çš„ï¼ˆç»ˆç«¯ï¼‰å¦‚æœä¸€ä¸ªç»“ç‚¹çš„å‡ºè¾¹è¿æ¥çš„ç»“ç‚¹æ˜¯å®‰å…¨çš„ï¼Œé‚£è¯¥ç»“ç‚¹ä¹Ÿæ˜¯å®‰å…¨çš„</span><br><span class="hljs-string">    é‚£ä¹ˆå¯ä»¥æŠŠå›¾çš„æ‰€æœ‰è¾¹åå‘ï¼Œå¾—åˆ°ä¸€ä¸ªåå›¾ï¼Œå†åœ¨åå›¾ä¸Šæ‹“æ‰‘æ’åº</span><br><span class="hljs-string">    å¾ªç¯ç»“æŸå æ‰€æœ‰å…¥åº¦ä¸º0çš„ç»“ç‚¹éƒ½æ˜¯å®‰å…¨çš„</span><br><span class="hljs-string">    æ„æ€æ˜¯ï¼ŒåŸå›¾çš„å‡ºåº¦ä¸º0çš„ç»“ç‚¹ï¼Œå’ŒæŒ‡å‘å‡ºåº¦ä¸º0çš„ç»“ç‚¹çš„ç»“ç‚¹</span><br><span class="hljs-string">    ï¼ˆç”±äºå­˜äº†åå›¾å¹¶æ‹“æ‰‘æ’åº</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">eventualSafeNodes</span>(<span class="hljs-params">self, graph: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>rg = [[] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> graph]<br>        <span class="hljs-comment"># å¦‚ graph[0] = [1,2] 0æŒ‡å‘1 2åå‘ï¼š  x = 0 ys = [1,2] è®©1æŒ‡å‘0 2 æŒ‡å‘0</span><br>        <span class="hljs-keyword">for</span>  x, ys <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(graph):<br><span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> ys:<br>rg[y].append(x)<br>        <span class="hljs-comment"># in_deg è¡¨ç¤ºå…¥åº¦ å€¼ä¸ºgraphçš„æ¯ä¸ªæ•°ç»„çš„é•¿åº¦ï¼ˆå³æ¯ä¸ªç‚¹çš„å‡ºåº¦ï¼‰ï¼ˆå°±æ˜¯åå›¾çš„å…¥åº¦ï¼‰</span><br>        in_deg = [<span class="hljs-built_in">len</span>(ys) <span class="hljs-keyword">for</span> ys <span class="hljs-keyword">in</span> graph]<br>        <br>        q = deque([i <span class="hljs-keyword">for</span> i, d <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(in_deg) <span class="hljs-keyword">if</span> d == <span class="hljs-number">0</span>])<br><span class="hljs-keyword">while</span> q:<br>            <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> rg[q.popleft()]:<br>                in_deg[x] -= <span class="hljs-number">1</span><br>                <span class="hljs-keyword">if</span> in_deg[x] == <span class="hljs-number">0</span>:<br>                    q.append(x)<br>        <span class="hljs-keyword">return</span> [i <span class="hljs-keyword">for</span> i, d  <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(in_deg) <span class="hljs-keyword">if</span> d == <span class="hljs-number">0</span>]<br></code></pre></td></tr></table></figure><h1 id="é¢œè‰²äº¤æ›¿çš„æœ€çŸ­è·¯å¾„"><a href="#é¢œè‰²äº¤æ›¿çš„æœ€çŸ­è·¯å¾„" class="headerlink" title=" é¢œè‰²äº¤æ›¿çš„æœ€çŸ­è·¯å¾„ "></a><a href="https://leetcode.cn/problems/shortest-path-with-alternating-colors/description/?envType=study-plan-v2&envId=graph-theory"> é¢œè‰²äº¤æ›¿çš„æœ€çŸ­è·¯å¾„ </a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å…¶å®å°±æ˜¯åŒæºbfsï¼ˆè¾¹æƒä¸º1 å¯ä»¥ç›´æ¥ç”¨å•æºçš„ç®—æ³• åˆå§‹åŒ–åŠ ä¸Šå¦ä¸€ä¸ªæºç‚¹ï¼‰ å¹¶ä¸”æ¯æ¬¡åªèƒ½äº¤æ›¿èµ°é¢œè‰²ä¸åŒçš„è·¯ ç”¨é‚»æ¥çŸ©é˜µæ¥å‚¨å­˜å›¾ å‚¨å­˜ç‚¹æ˜¯å¦è®¿é—®ç­‰ ç”¨ç‚¹å¯¹ ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºé¢œè‰²</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">shortestAlternatingPaths</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span>, redEdges: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]], blueEdges: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        g = [[] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n)]<br>        <span class="hljs-keyword">for</span> x, y <span class="hljs-keyword">in</span> redEdges:<br>            g[x].append((y,<span class="hljs-number">0</span>))<br>        <span class="hljs-keyword">for</span> x, y <span class="hljs-keyword">in</span> blueEdges:<br>            g[x].append((y,<span class="hljs-number">1</span>))<br>        <br><br>        dis = [-<span class="hljs-number">1</span>] * n<br>        vis = &#123;(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>),(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>)&#125;<br>        q = &#123;(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>),(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>)&#125;<br>        level = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">while</span> q:<br>            tmp = q<br>            q = []<br>            <span class="hljs-keyword">for</span> x, color <span class="hljs-keyword">in</span> tmp:<br>                <span class="hljs-keyword">if</span> dis[x] == -<span class="hljs-number">1</span>:<br>                    dis[x] = level<br>                <span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> g[x]:<br>                    <span class="hljs-keyword">if</span> p[<span class="hljs-number">1</span>] != color <span class="hljs-keyword">and</span> p <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> vis:<br>                        vis.add(p)<br>                        q.append(p)<br>            level += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> dis<br></code></pre></td></tr></table></figure><h1 id="é€šçŸ¥æ‰€æœ‰å‘˜å·¥æ‰€éœ€çš„æ—¶é—´"><a href="#é€šçŸ¥æ‰€æœ‰å‘˜å·¥æ‰€éœ€çš„æ—¶é—´" class="headerlink" title="é€šçŸ¥æ‰€æœ‰å‘˜å·¥æ‰€éœ€çš„æ—¶é—´ "></a><a href="https://leetcode.cn/problems/time-needed-to-inform-all-employees/solutions/2251785/tong-zhi-suo-you-yuan-gong-suo-xu-de-shi-503h/">é€šçŸ¥æ‰€æœ‰å‘˜å·¥æ‰€éœ€çš„æ—¶é—´ </a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">numOfMinutes</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span>, headID: <span class="hljs-built_in">int</span>, manager: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], informTime: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        g = collections.defaultdict(<span class="hljs-built_in">list</span>)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            g[manager[i]].append(i)<br><br>        q = collections.deque()<br>        q.append((headID, <span class="hljs-number">0</span>))<br>        res = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">while</span> q:<br>            tid, val = q.popleft()<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(g[tid]) == <span class="hljs-number">0</span>:<br>                res = <span class="hljs-built_in">max</span>(res, val)<br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-keyword">for</span> ne <span class="hljs-keyword">in</span> g[tid]:<br>                    q.append((ne, val + informTime[tid]))<br>        <span class="hljs-keyword">return</span> res<br></code></pre></td></tr></table></figure><h1 id="1466-é‡æ–°è§„åˆ’è·¯çº¿-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#1466-é‡æ–°è§„åˆ’è·¯çº¿-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="1466. é‡æ–°è§„åˆ’è·¯çº¿ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/reorder-routes-to-make-all-paths-lead-to-the-city-zero/description/?envType=study-plan-v2&envId=graph-theory">1466. é‡æ–°è§„åˆ’è·¯çº¿ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># è¿™ä¸ªé¢˜è¦æ‰¾ åˆ°0çš„è·¯çº¿ å…ˆç”¨defaultdictå»ºå›¾ æ­£å‘è®°ä¸º1åå‘è®°ä¸º0 ç„¶åbfs </span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">minReorder</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span>, connections: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        res = <span class="hljs-number">0</span><br>        g = defaultdict(<span class="hljs-built_in">list</span>)<br>        <span class="hljs-keyword">for</span> a, b <span class="hljs-keyword">in</span> connections:<br>            g[a].append((b, <span class="hljs-number">1</span>))<br>            g[b].append((a, <span class="hljs-number">0</span>))<br>        <br>        q = deque([<span class="hljs-number">0</span>])<br>        vis = [<span class="hljs-literal">False</span>] * n<br>        <span class="hljs-keyword">while</span> q:<br>            cur = q.popleft()<br>            <span class="hljs-comment"># éå†æ‰€æœ‰å’Œcurç›¸é‚»çš„è¾¹</span><br>            <span class="hljs-keyword">for</span> end, dirction <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(g[cur]):<br>                <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> vis[end]:<br>                    vis[end] = <span class="hljs-literal">True</span><br>                    <span class="hljs-comment"># å¦‚æœæ–¹å‘ä¸å¯¹å°±åè½¬</span><br>                    res += dirction<br>                    q.append(end)<br>        <span class="hljs-keyword">return</span> res<br>    <br>    <br><span class="hljs-comment"># æˆ–è€… ç”¨setä¸€æ¬¡éå†  æœ‰ç‚¹é—®é¢˜</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">minReorder</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span>, connections: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        s = &#123;<span class="hljs-number">0</span>&#125;<br>        res = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> l, r <span class="hljs-keyword">in</span> connection:<br>            <span class="hljs-keyword">if</span> r <span class="hljs-keyword">in</span> s:<br>                s.add(l)<br>            <span class="hljs-comment"># å³è¾¹ä¸é€šå‘0 å¹¶ä¸”å·¦è¾¹é€šå‘0 ï¼ˆå·¦è¾¹é€šå‘å³è¾¹ï¼‰ é‚£å°±è®©r-&gt;l rå°±å¯ä»¥åˆ°0</span><br>            <span class="hljs-keyword">elif</span> l <span class="hljs-keyword">in</span> s:<br>                s.add(r)<br>                res += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> res<br>                <br>        <br></code></pre></td></tr></table></figure><h1 id="1192-æŸ¥æ‰¾é›†ç¾¤å†…çš„å…³é”®è¿æ¥-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#1192-æŸ¥æ‰¾é›†ç¾¤å†…çš„å…³é”®è¿æ¥-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="1192. æŸ¥æ‰¾é›†ç¾¤å†…çš„å…³é”®è¿æ¥ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/critical-connections-in-a-network/description/?envType=study-plan-v2&envId=graph-theory">1192. æŸ¥æ‰¾é›†ç¾¤å†…çš„å…³é”®è¿æ¥ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ç”¨Tarjanç®—æ³• æ ‡è®°å›¾ä¸­çš„æ‰€æœ‰ç¯ ç„¶åæŠŠæ‰€æœ‰ç¯å’Œç¯å¤–é“¾æ¥çº¿åŠ å…¥ç­”æ¡ˆ å› ä¸ºç¯å†…è‚¯å®šä¸å­˜åœ¨å…³é”®è·¯å¾„ åªæœ‰åœ¨ç¯ä¸éç¯çš„é“¾æ¥å¤„ æˆ–è€…æ‰€æœ‰çš„éç¯ä¹‹é—´ æ‰æœ‰å…³é”®è·¯å¾„</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">criticalConnections</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span>, connections: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]:<br>        graph = defaultdict(<span class="hljs-built_in">list</span>)<br>        <span class="hljs-keyword">for</span> con <span class="hljs-keyword">in</span> connections:<br>            graph[con[<span class="hljs-number">0</span>]].append(con[<span class="hljs-number">1</span>])<br>            graph[con[<span class="hljs-number">1</span>]].append(con[<span class="hljs-number">0</span>])<br><br>        <br>        idx = [-<span class="hljs-number">1</span>] * n<br>        res = []<br><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">dfs</span>(<span class="hljs-params">curnode, curid, parent</span>):<br>            idx[curnode] = curid<br><br>            <span class="hljs-keyword">for</span> nextnode <span class="hljs-keyword">in</span> graph[curnode]:<br>                <span class="hljs-keyword">if</span> nextnode == parent:<br>                    <span class="hljs-keyword">continue</span><br>                <span class="hljs-keyword">elif</span> idx[nextnode] == -<span class="hljs-number">1</span>:<br>                    idx[curnode] = <span class="hljs-built_in">min</span>(dfs(nextnode,curid + <span class="hljs-number">1</span>, curnode),idx[curnode])<br>                <span class="hljs-keyword">else</span>:<br>                    idx[curnode] = <span class="hljs-built_in">min</span>(idx[curnode],idx[nextnode])<br><br>            <span class="hljs-comment"># è¯´æ˜å­˜åœ¨ç¯ ï¼ˆæ­¤æ—¶çš„curnodeä¸ºå…¥å£ç»“ç‚¹ï¼‰</span><br>            <span class="hljs-keyword">if</span> idx[curnode] == curid <span class="hljs-keyword">and</span> curnode != <span class="hljs-number">0</span>:<br>                res.append((parent, curnode))<br>            <span class="hljs-comment"># è®°å¾—è¿”å›idx</span><br>            <span class="hljs-keyword">return</span> idx[curnode]<br>        <br><br>        dfs(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,-<span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">return</span> res<br></code></pre></td></tr></table></figure><h1 id="934-æœ€çŸ­çš„æ¡¥-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#934-æœ€çŸ­çš„æ¡¥-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="934. æœ€çŸ­çš„æ¡¥ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/shortest-bridge/description/?envType=study-plan-v2&envId=graph-theory">934. æœ€çŸ­çš„æ¡¥ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ä¸¤åº§ç›¸åŒçš„å²› å…ˆæ‰¾åˆ°ç¬¬ä¸€ä¸ªä¸ä¸º0çš„æ•°ç„¶ådfsæ ‡è®°è¿™ä¸ªå²›çš„å…¨éƒ¨ï¼Œç„¶åç”¨bfsæœç´¢å½“ç¬¬ä¸€æ¬¡æœåˆ°ç¬¬äºŒä¸ªå²›çš„stepå³æ˜¯ç­”æ¡ˆï¼Œæ³¨æ„dfsçš„æ—¶å€™è¦æŠŠç¬¬ä¸€ä¸ªå²›å…¨éƒ¨æ”¾å…¥qï¼ˆå› ä¸ºæ¯ä¸ªç‚¹éƒ½å¯èƒ½æ˜¯è·ç¦»ç¬¬äºŒä¸ªå²›æœ€è¿‘çš„ç‚¹ï¼‰æœå®Œä¸Šä¸‹å·¦å³ä¸€åœˆåstep + 1 ï¼ˆä¸éœ€è¦visæ•°ç»„è®°å½• ç›´æ¥æŠŠèµ°è¿‡çš„è®¾ä¸º-1å³å¯ï¼‰</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">shortestBridge</span>(<span class="hljs-params">self, grid: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">dfs</span>(<span class="hljs-params">x, y</span>):<br>            grid[x][y] = -<span class="hljs-number">1</span><br>            q.append((x, y))<br>            <span class="hljs-keyword">for</span> nx, ny <span class="hljs-keyword">in</span> (x + <span class="hljs-number">1</span>, y), (x - <span class="hljs-number">1</span>, y), (x, y + <span class="hljs-number">1</span>), (x, y - <span class="hljs-number">1</span>):<br>                <span class="hljs-keyword">if</span> <span class="hljs-number">0</span> &lt;= nx &lt; n <span class="hljs-keyword">and</span> <span class="hljs-number">0</span> &lt;= ny &lt; n <span class="hljs-keyword">and</span> grid[nx][ny] == <span class="hljs-number">1</span>:<br>                    dfs(nx, ny)<br><br>        n = <span class="hljs-built_in">len</span>(grid)<br>        q = deque()<br>        i, j = <span class="hljs-built_in">next</span>((i, j) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n) <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n) <span class="hljs-keyword">if</span> grid[i][j])<br>        dfs(i, j)<br>        step = <span class="hljs-number">0</span><br><br>        <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>            <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(q)):<br>                x, y = q.popleft()<br>                <span class="hljs-keyword">for</span> nx, ny <span class="hljs-keyword">in</span> (x + <span class="hljs-number">1</span>, y), (x - <span class="hljs-number">1</span>, y), (x, y + <span class="hljs-number">1</span>), (x, y - <span class="hljs-number">1</span>):<br>                    <span class="hljs-keyword">if</span> <span class="hljs-number">0</span> &lt;= nx &lt; n <span class="hljs-keyword">and</span> <span class="hljs-number">0</span> &lt;= ny &lt; n :<br>                        <span class="hljs-keyword">if</span> grid[nx][ny] == <span class="hljs-number">1</span>:<br>                            <span class="hljs-keyword">return</span> step<br>                        <span class="hljs-keyword">if</span> grid[nx][ny] == <span class="hljs-number">0</span>:<br>                            grid[nx][ny] = -<span class="hljs-number">1</span><br>                            q.append((nx, ny))<br>            step += <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><h1 id="127-å•è¯æ¥é¾™-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#127-å•è¯æ¥é¾™-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="127. å•è¯æ¥é¾™ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/word-ladder/?envType=study-plan-v2&envId=graph-theory">127. å•è¯æ¥é¾™ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æ¯æ¬¡æšä¸¾26ä¸ªå­—æ¯ ä¸€ä¸€æ›¿æ¢å•è¯ ç›´åˆ°æ‰¾åˆ°wordListçš„å•è¯ å¦‚æœæ˜¯endçš„è¯å°±ç›´æ¥è¿”å› å¦åˆ™step+1æ”¾å…¥qç»§ç»­bfs</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">ladderLength</span>(<span class="hljs-params">self, beginWord: <span class="hljs-built_in">str</span>, endWord: <span class="hljs-built_in">str</span>, wordList: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        <span class="hljs-keyword">if</span> beginWord == endWord:<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>        wordList = <span class="hljs-built_in">set</span>(wordList)<br>        <span class="hljs-keyword">if</span> endWord <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> wordList:<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>        <br>        word = [<span class="hljs-built_in">chr</span>(i) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">97</span>, <span class="hljs-number">123</span>)]<br>        q = deque([(beginWord, <span class="hljs-number">1</span>)])<br>        <span class="hljs-keyword">while</span> q:<br>            cur, step = q.popleft()<br>            <span class="hljs-keyword">for</span> i, x <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(cur):<br>                <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> word:<br>                    <span class="hljs-keyword">if</span> x != y:<br>                        nxt = cur[:i] + y + cur[i + <span class="hljs-number">1</span>:]<br>                        <span class="hljs-keyword">if</span> nxt <span class="hljs-keyword">in</span> wordList:<br>                            <span class="hljs-keyword">if</span> nxt == endWord:<br>                                <span class="hljs-keyword">return</span> step + <span class="hljs-number">1</span><br>                            q.append((nxt, step + <span class="hljs-number">1</span>))<br>                            wordList.remove(nxt)<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><h1 id="126-å•è¯æ¥é¾™-II-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#126-å•è¯æ¥é¾™-II-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="126. å•è¯æ¥é¾™ II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/word-ladder-ii/description/">126. å•è¯æ¥é¾™ II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># è¿™ä¸ªæ–¹æ³•ç›¸å½“äºæ˜¯æ¯æ¬¡æŠŠstep=1çš„æ‰€æœ‰æ•°éƒ½æ‰¾å‡ºæ¥å¹¶ä¸”åŠ è¿›å» æŠŠæ‰€æœ‰step=2çš„éƒ½æ‰¾å‡ºæ¥åŠ è¿›å»è¿™æ ·ï¼ˆ&quot;hit&quot;,&quot;hot&quot;,&quot;dot&quot; and &quot;hit&quot;,&quot;hot&quot;,&quot;lot&quot;ï¼‰     å½“qï¼ˆå†…å±‚ï¼‰å–å®Œä¹‹åè¡¨ç¤ºå½“å‰æ­¥æ•°å¯ä»¥é“¾æ¥çš„ä¸‹ä¸€ä¸ªå•è¯å·²ç»å…¨éƒ¨æ‰¾åˆ° å¯ä»¥step+1 ç„¶åæŠŠsä¸­æš‚å­˜çš„ç»™q å†æ¬¡å¾ªç¯    ç›´åˆ°end åŠ å…¥ç­”æ¡ˆ ï¼ˆå½“å†…å±‚qä¸º0çš„æ—¶å€™è¡¨ç¤ºæ‰€æœ‰è·¯å¾„éƒ½å·²ç»åŠ è¿›å» å°±ç›´æ¥returnï¼‰ å½“qï¼ˆå¤–å±‚ï¼‰å–å®Œï¼ˆä¹Ÿå°±æ˜¯sqäº¤æ¢çš„æ—¶å€™sä¸º[]ï¼‰ä¹‹åè¡¨ç¤ºæ‰€æœ‰è·¯å¾„éƒ½å·²ç»èµ°è¿‡ ä½†æ˜¯è¿˜æ²¡æœ‰é‡åˆ°end è¿™æ—¶è¿”å›[]</span><br><span class="hljs-comment"># é¦–å…ˆ å»ºå›¾æ–¹é¢ å»ºç«‹è¿™ä¸ªå•è¯å¯ä»¥å˜çš„å…¶ä»–å•è¯ å˜åŒ–å¤„ç”¨* è¡¨ç¤º ç”¨defaultdictåé¢å¯ä»¥å¿«é€Ÿè®¿é—® </span><br><span class="hljs-comment"># ç„¶åqç”¨æ¥å­˜å‚¨å½“å‰å€¼å’Œå½“å‰è·¯å¾„ sä¸qç›¸åŒ ä½†æ˜¯sæ˜¯ç”¨æ¥å­˜å‚¨æ¯è½®çš„æ•°æ® æ¯æ¬¡å¼€å§‹æ—¶séƒ½ä¸º[] ï¼ˆä¿è¯æ•°æ® ç›¸å½“äºtempï¼‰</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">findLadders</span>(<span class="hljs-params">self, beginWord: <span class="hljs-built_in">str</span>, endWord: <span class="hljs-built_in">str</span>, wordList: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]]:<br>        wordList = <span class="hljs-built_in">set</span>(wordList)<br>        <span class="hljs-keyword">if</span> endWord <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> wordList:<br>            <span class="hljs-keyword">return</span> []<br>        dic = defaultdict(<span class="hljs-built_in">list</span>)<br>        n = <span class="hljs-built_in">len</span>(beginWord)<br>        <span class="hljs-keyword">for</span> w <span class="hljs-keyword">in</span> wordList:<br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>                dic[w[:i] + <span class="hljs-string">&#x27;*&#x27;</span> + w[i + <span class="hljs-number">1</span>:]].append(w)<br>        <br>        q, s = [(beginWord, [beginWord])], []<br>        res = []<br>        vis = <span class="hljs-built_in">set</span>()<br>        <span class="hljs-keyword">while</span> q:<br>            <span class="hljs-keyword">while</span> q:<br>                w, path = q.pop()<br>                vis.add(w)<br>                <span class="hljs-keyword">if</span> w == endWord:<br>                    res.append(path)<br>                <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>                    <span class="hljs-keyword">for</span> nxt <span class="hljs-keyword">in</span> dic[w[:i] + <span class="hljs-string">&#x27;*&#x27;</span> + w[i + <span class="hljs-number">1</span>:]]:<br>                        <span class="hljs-keyword">if</span> nxt <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> vis:<br>                            s.append((nxt, path + [nxt]))<br>            <span class="hljs-keyword">if</span> res:<br>                <span class="hljs-keyword">return</span> res<br>            q, s = s, q<br>        <span class="hljs-keyword">return</span> []<br></code></pre></td></tr></table></figure><h1 id="542-01-çŸ©é˜µ-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#542-01-çŸ©é˜µ-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="542. 01 çŸ©é˜µ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/01-matrix/description/?envType=study-plan-v2&envId=graph-theory">542. 01 çŸ©é˜µ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å¤šèµ·ç‚¹çš„æœ€çŸ­è·¯é—®é¢˜ å¯ä»¥å°†æ‰€æœ‰çš„0 çœ‹æˆåŒä¸€ä¸ªæºç‚¹ ç„¶åä½¿ç”¨bfs å› ä¸ºæ¯æ¬¡æ‰©æ•£ä¸€è½® æ‰€æœ‰çš„éƒ½åŠ ä¸€æ—¶å€™å†æ‰©æ•£ä¸‹ä¸€è½®ï¼ˆé˜Ÿåˆ— å…ˆè¿›å…ˆå‡ºï¼‰æ¯æ¬¡åªéœ€è¦æœç´¢å››ä¸ªæ–¹å‘ ç„¶åå†åŸæ¥çš„retçš„åŸºç¡€ä¸ŠåŠ ä¸€</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">updateMatrix</span>(<span class="hljs-params">self, mat: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]:<br>        n, m = <span class="hljs-built_in">len</span>(mat), <span class="hljs-built_in">len</span>(mat[<span class="hljs-number">0</span>])<br>        ret = [[-<span class="hljs-number">1</span>] * m <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n)]<br>        dx = [<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,-<span class="hljs-number">1</span>]<br>        dy = [<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,-<span class="hljs-number">1</span>,<span class="hljs-number">0</span>]<br>        q = deque()<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(m):<br>                <span class="hljs-keyword">if</span> mat[i][j] == <span class="hljs-number">0</span>:<br>                    ret[i][j] = <span class="hljs-number">0</span><br>                    q.append([i,j])<br>        <br>        <span class="hljs-keyword">while</span> q:<br>            i, j = q.popleft()<br>            <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">4</span>):<br>                ni, nj = i + dx[k], j + dy[k]<br>                <span class="hljs-keyword">if</span> <span class="hljs-number">0</span> &lt;= ni &lt; n <span class="hljs-keyword">and</span> <span class="hljs-number">0</span> &lt;= nj &lt; m <span class="hljs-keyword">and</span> ret[ni][nj] == -<span class="hljs-number">1</span>:<br>                    ret[ni][nj] = ret[i][j] + <span class="hljs-number">1</span><br>                    q.append([ni, nj])<br><br>        <span class="hljs-keyword">return</span> ret<br></code></pre></td></tr></table></figure><h1 id="863-äºŒå‰æ ‘ä¸­æ‰€æœ‰è·ç¦»ä¸º-K-çš„ç»“ç‚¹-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#863-äºŒå‰æ ‘ä¸­æ‰€æœ‰è·ç¦»ä¸º-K-çš„ç»“ç‚¹-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="863. äºŒå‰æ ‘ä¸­æ‰€æœ‰è·ç¦»ä¸º K çš„ç»“ç‚¹ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/all-nodes-distance-k-in-binary-tree/description/?envType=study-plan-v2&envId=graph-theory">863. äºŒå‰æ ‘ä¸­æ‰€æœ‰è·ç¦»ä¸º K çš„ç»“ç‚¹ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Definition for a binary tree node.</span><br><span class="hljs-comment"># class TreeNode:</span><br><span class="hljs-comment">#     def __init__(self, x):</span><br><span class="hljs-comment">#         self.val = x</span><br><span class="hljs-comment">#         self.left = None</span><br><span class="hljs-comment">#         self.right = None</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">distanceK</span>(<span class="hljs-params">self, root: TreeNode, target: TreeNode, k: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        <span class="hljs-comment"># é¦–å…ˆç”¨å­—å…¸node_parentå­˜å‚¨æ¯ä¸ªç»“ç‚¹çš„çˆ¶èŠ‚ç‚¹</span><br>        node_parent = <span class="hljs-built_in">dict</span>()<br><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">dfs_find_parent</span>(<span class="hljs-params">node: TreeNode</span>) -&gt; <span class="hljs-literal">None</span>:<br>            <span class="hljs-keyword">if</span> node <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>                <span class="hljs-keyword">return</span> <br>            <span class="hljs-keyword">if</span> node.left:<br>                node_parent[node.left] = node<br>            <span class="hljs-keyword">if</span> node.right:<br>                node_parent[node.right] = node<br>            dfs_find_parent(node.left)<br>            dfs_find_parent(node.right)<br><br><br>        dfs_find_parent(root)<br>        <span class="hljs-keyword">if</span> k == <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">return</span> [target.val]<br>        res = []<br><br>        q = deque()<br>        vis = <span class="hljs-built_in">set</span>()<br>        q.append(target)<br>        vis.add(target)<br>        <span class="hljs-comment"># ç°åœ¨ä¾æ¬¡éå†å’Œtargetè·ç¦»ä¸ºlevelçš„ç»“ç‚¹ï¼ˆæ³¢çº¹æ³• ä¸€å±‚å±‚æœç´¢ï¼‰</span><br>        level = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">while</span> q <span class="hljs-keyword">and</span> level &lt; k:<br>            level += <span class="hljs-number">1</span> <span class="hljs-comment"># å…ˆåŠ è¿˜æ˜¯ååŠ å–å†³äºlevelåˆå€¼</span><br>            <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(q)):<br>                x = q.popleft()<br>                <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> [node_parent[x] <span class="hljs-keyword">if</span> x <span class="hljs-keyword">in</span> node_parent <span class="hljs-keyword">else</span> <span class="hljs-literal">None</span>, x.left, x.right]: <span class="hljs-comment"># éå†å’Œå½“å‰ç‚¹ç›¸é‚»çš„æ‰€æœ‰ç»“ç‚¹ï¼ˆæ¯æ¬¡æœç´¢ä¸€å±‚ æ³¨æ„è¦ç”¨setåˆ¤é‡ï¼‰</span><br>                    <span class="hljs-keyword">if</span> y <span class="hljs-keyword">and</span> y <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> vis:<br>                        <span class="hljs-keyword">if</span> level == k:<br>                            res.append(y.val)<br>                        q.append(y)<br>                        vis.add(y)<br>        <span class="hljs-keyword">return</span> res<br><br>                <br></code></pre></td></tr></table></figure><h1 id="864-è·å–æ‰€æœ‰é’¥åŒ™çš„æœ€çŸ­è·¯å¾„-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#864-è·å–æ‰€æœ‰é’¥åŒ™çš„æœ€çŸ­è·¯å¾„-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="864. è·å–æ‰€æœ‰é’¥åŒ™çš„æœ€çŸ­è·¯å¾„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/shortest-path-to-get-all-keys/description/?envType=study-plan-v2&envId=graph-theory">864. è·å–æ‰€æœ‰é’¥åŒ™çš„æœ€çŸ­è·¯å¾„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ä¸åŒä¹‹å¤„åœ¨äº å¹¶ä¸æ˜¯ä¸€ä¸ªç‚¹åªèƒ½èµ°ä¸€æ¬¡ è€Œæ˜¯å¯ä»¥å¤šæ¬¡èµ° æ‰¾åˆ°æœ€çŸ­çš„è·¯</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">shortestPathAllKeys</span>(<span class="hljs-params">self, grid: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        n = <span class="hljs-built_in">len</span>(grid)<br>        m = <span class="hljs-built_in">len</span>(grid[<span class="hljs-number">0</span>])<br>        cnt = <span class="hljs-number">0</span><br>        <span class="hljs-comment"># dis ç”¨äºè®°å½•æ¯ä¸ªç‚¹èµ°çš„è·ç¦» ä¸åŒçš„æ˜¯ ç°åœ¨æœ‰3ä¸ªçŠ¶æ€ å¤šäº†ä¸€ä¸ªé’¥åŒ™æ•°çš„çŠ¶æ€ </span><br>        dis = defaultdict(<span class="hljs-keyword">lambda</span>: <span class="hljs-number">0x3f3f3f3f</span>)<br>        <br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(m):<br>                <span class="hljs-keyword">if</span> grid[i][j] == <span class="hljs-string">&#x27;@&#x27;</span>:<br>                    q = deque([(i, j, <span class="hljs-number">0</span>)])<br>                    dis[(i, j, <span class="hljs-number">0</span>)] = <span class="hljs-number">0</span><br>                <span class="hljs-keyword">elif</span> grid[i][j].islower():<br>                    cnt += <span class="hljs-number">1</span><br><br><br>        dx = [<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,-<span class="hljs-number">1</span>]<br>        dy = [<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,-<span class="hljs-number">1</span>,<span class="hljs-number">0</span>]<br>        <br>        <br>        <span class="hljs-keyword">while</span> q:<br>            i, j, cur = q.popleft()<br>            step = dis[(i,  j, cur)]<br>            <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">4</span>):<br>                ni, nj = i + dx[k], j + dy[k]<br>                <span class="hljs-keyword">if</span> <span class="hljs-number">0</span> &lt;= ni &lt; n <span class="hljs-keyword">and</span> <span class="hljs-number">0</span> &lt;= nj &lt; m:<br>                    c = grid[ni][nj]<br>                    <span class="hljs-keyword">if</span> c == <span class="hljs-string">&#x27;#&#x27;</span>:<br>                        <span class="hljs-keyword">continue</span><br>                    <span class="hljs-comment"># å…ˆå°†curå³ç§»cä½ç„¶å&amp;1åˆ¤æ–­æ˜¯å¦ä¸º1</span><br>                    <span class="hljs-keyword">if</span> <span class="hljs-string">&#x27;A&#x27;</span> &lt;= c &lt;= <span class="hljs-string">&#x27;Z&#x27;</span> <span class="hljs-keyword">and</span> (cur &gt;&gt; (<span class="hljs-built_in">ord</span>(c) - <span class="hljs-built_in">ord</span>(<span class="hljs-string">&#x27;A&#x27;</span>)) &amp; <span class="hljs-number">1</span>) == <span class="hljs-number">0</span>:<br>                        <span class="hljs-keyword">continue</span><br>                    ncur = cur<br>                    <span class="hljs-keyword">if</span> <span class="hljs-string">&#x27;a&#x27;</span> &lt;= c &lt;= <span class="hljs-string">&#x27;z&#x27;</span>:<br>                        <span class="hljs-comment"># æ ‡è®°ä¸ºå·²æœ‰</span><br>                        ncur |= (<span class="hljs-number">1</span> &lt;&lt; <span class="hljs-built_in">ord</span>(c) - <span class="hljs-built_in">ord</span>(<span class="hljs-string">&#x27;a&#x27;</span>))<br>                    <span class="hljs-keyword">if</span> ncur == (<span class="hljs-number">1</span> &lt;&lt; cnt) - <span class="hljs-number">1</span>:<br>                        <span class="hljs-keyword">return</span> step + <span class="hljs-number">1</span><br>                    <span class="hljs-comment"># å¦‚æœæ›¾ç»èµ°åˆ°è¿‡è¿™é‡Œ å¹¶ä¸”æ­¥æ•°æ›´å°‘çš„è¯ æ›´æ–° ï¼ˆå¦‚æœæ²¡æœ‰èµ°åˆ°è¿‡çš„è¯ é‚£å°±æ˜¯0x3f3f3f3f å¿…å®šæ›´æ–°ï¼‰</span><br>                    <span class="hljs-keyword">if</span> step + <span class="hljs-number">1</span> &lt; dis[(ni, nj, ncur)]:<br>                        dis[(ni, nj, ncur)] = step + <span class="hljs-number">1</span><br>                        q.append((ni, nj, ncur))<br>        <br>        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Ans</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ¯æ—¥ä¸€é¢˜é¢˜è§£</title>
    <link href="/2023/08/26/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%E9%A2%98%E8%A7%A3/"/>
    <url>/2023/08/26/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%E9%A2%98%E8%A7%A3/</url>
    
    <content type="html"><![CDATA[<h1 id="5166-å¯¹ç§°å±±è„‰-AcWingé¢˜åº“"><a href="#5166-å¯¹ç§°å±±è„‰-AcWingé¢˜åº“" class="headerlink" title="5166. å¯¹ç§°å±±è„‰ - AcWingé¢˜åº“"></a><a href="https://www.acwing.com/problem/content/5169/">5166. å¯¹ç§°å±±è„‰ - AcWingé¢˜åº“</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># DP çŠ¶æ€è½¬ç§»ä¸º ç¬¬iåˆ°kçš„ç­”æ¡ˆæ˜¯ ç¬¬i+1åˆ°ç¬¬k-1ä¸ªçš„ç­”æ¡ˆå†åŠ ä¸Š abs(h[i] - h[i + j - 1])</span><br><span class="hljs-comment"># ç”¨ansè®°å½•æ¯ä¸ªé•¿åº¦jä¸‹çš„æœ€å°å€¼</span><br>n = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>())<br>nums = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split()))<br><br>s = [[<span class="hljs-number">0</span>] * <span class="hljs-number">5010</span> <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5010</span>)]<br>ans = [<span class="hljs-number">0x3f3f3f3f</span>] * <span class="hljs-number">5010</span><br>h = [<span class="hljs-number">0</span>] * <span class="hljs-number">5010</span><br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>    h[i+<span class="hljs-number">1</span>] =  nums[i]   <br><br><span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>,n + <span class="hljs-number">1</span>):<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,n-j+<span class="hljs-number">2</span>):<br>        s[i][i + j - <span class="hljs-number">1</span>] = s[i + <span class="hljs-number">1</span>][i + j - <span class="hljs-number">2</span>] + <span class="hljs-built_in">abs</span>(h[i] - h[i + j - <span class="hljs-number">1</span>])<br>        ans[j] = <span class="hljs-built_in">min</span>(ans[j], s[i][i + j - <span class="hljs-number">1</span>])<br><br>ans[<span class="hljs-number">1</span>] = <span class="hljs-number">0</span><br><span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,n + <span class="hljs-number">1</span>):<br>    <span class="hljs-built_in">print</span>(ans[j],end=<span class="hljs-string">&#x27; &#x27;</span>)<br></code></pre></td></tr></table></figure><h1 id="5180-æ­£æ–¹å½¢æ³³æ± -AcWingé¢˜åº“"><a href="#5180-æ­£æ–¹å½¢æ³³æ± -AcWingé¢˜åº“" class="headerlink" title="5180. æ­£æ–¹å½¢æ³³æ±  - AcWingé¢˜åº“"></a><a href="https://www.acwing.com/problem/content/5183/">5180. æ­£æ–¹å½¢æ³³æ±  - AcWingé¢˜åº“</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">æšä¸¾nå¤ªå¤æ‚ï¼Œæšä¸¾tï¼Œæšä¸¾æ¯æ£µæ ‘çš„ä½ç½®ï¼ˆæŒ‰é¡ºåºï¼‰ç„¶åä¸æ–­æ›´æ–° anså’Œä¸Šä¸‹è·ç¦» anså’Œæ°´å¹³è·ç¦»</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br>n = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>())<br>t = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>())<br>tree = []<br>tree.append([-<span class="hljs-number">1</span>,-<span class="hljs-number">1</span>]) <span class="hljs-comment"># å ä½</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,t + <span class="hljs-number">1</span>):<br>    a, b = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>,<span class="hljs-built_in">input</span>().split())<br>    tree.append([a, b])<br><br>tree.append([<span class="hljs-number">0</span>, <span class="hljs-number">0</span>])<br>tree.append([<span class="hljs-number">0</span>, n + <span class="hljs-number">1</span>])<br>tree.append([n + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>])<br>tree.append([n + <span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>])<br>t += <span class="hljs-number">4</span> <span class="hljs-comment"># å››ä¸ªé¡¶ç‚¹æ’å…¥æ ‘ æ ‘çš„ä¸ªæ•°è¦åŠ ä¸Š</span><br><br>ans = -<span class="hljs-number">1</span><br>tree.sort(key=<span class="hljs-keyword">lambda</span> x:x[<span class="hljs-number">0</span>]) <span class="hljs-comment">#  å¯¹xæ’åº</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">å…ˆåˆå§‹åŒ–æœ€ä½ç‚¹æœ€é«˜ç‚¹d,u ä¸º0 å’Œ n + 1 ç„¶åæšä¸¾tree[i] å³è¾¹çš„tree[j]</span><br><span class="hljs-string">ä¸æ–­å‘å³æšä¸¾ å½“i jçš„æ°´å¹³è·ç¦»å¤§äº ä¸Šä¸‹çš„æœ€å¤§è·ç¦»ï¼ˆu-d-1ï¼‰çš„æ—¶å€™ é€€å‡ºï¼ˆå› ä¸ºè¢«ä¸Šä¸‹è·ç¦»é™åˆ¶äº†ï¼Œå†å¾€å³çš„è¯ æ°´å¹³è·ç¦»å¢å¤§ï¼Œä½†æ˜¯æ²¡æœ‰ç”¨ï¼Œæ­£æ–¹å½¢å°±çœ‹æœ€çŸ­çš„è¾¹ï¼‰</span><br><span class="hljs-string">æ›´æ–°ansä¸ºx-a-1 ç„¶åæ›´æ–°ä¸Šä¸‹çš„æœ€çŸ­è·ç¦»ï¼ˆæ¯ä¸€æ¬¡éƒ½æ›´æ–°ï¼Œå› ä¸ºä¸­é—´æœ‰æ ‘æŒ¡ç€äº†ï¼Œå°±ä¼šå‡å°æ³³æ± çš„é¢ç§¯ï¼‰æ›´æ–°uå’Œd</span><br><span class="hljs-string"></span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, t + <span class="hljs-number">1</span>):<br>    d, u = <span class="hljs-number">0</span>, n + <span class="hljs-number">1</span><br>    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(i + <span class="hljs-number">1</span>, t + <span class="hljs-number">1</span>):<br>        x, y = tree[j]<br>        a, b = tree[i]<br>        <span class="hljs-keyword">if</span> x - a - <span class="hljs-number">1</span> &gt; u - d - <span class="hljs-number">1</span>:<br>            <span class="hljs-keyword">break</span><br>        ans = <span class="hljs-built_in">max</span>(ans, x - a - <span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">if</span> y &gt;= b:<br>            u = <span class="hljs-built_in">min</span>(u, y)<br>        <span class="hljs-keyword">if</span> y &lt;= b:<br>            d = <span class="hljs-built_in">max</span>(d, y)<br><br>tree.sort(key=<span class="hljs-keyword">lambda</span> x: x[<span class="hljs-number">1</span>])<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, t + <span class="hljs-number">1</span>):<br>    l, r = <span class="hljs-number">0</span>, n + <span class="hljs-number">1</span><br>    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(i + <span class="hljs-number">1</span>, t + <span class="hljs-number">1</span>):<br>        x, y = tree[j]<br>        a, b = tree[i]<br>        <span class="hljs-keyword">if</span> y - b - <span class="hljs-number">1</span> &gt; r - l - <span class="hljs-number">1</span>:<br>            <span class="hljs-keyword">break</span><br>        ans = <span class="hljs-built_in">max</span>(ans, y - b - <span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">if</span> x &gt;= a:<br>            r = <span class="hljs-built_in">min</span>(r, x)<br>        <span class="hljs-keyword">if</span> x &lt;= a:<br>            l = <span class="hljs-built_in">max</span>(l, x)<br><br><span class="hljs-built_in">print</span>(ans)<br><br></code></pre></td></tr></table></figure><h1 id="1654-åˆ°å®¶çš„æœ€å°‘è·³è·ƒæ¬¡æ•°-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#1654-åˆ°å®¶çš„æœ€å°‘è·³è·ƒæ¬¡æ•°-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="1654. åˆ°å®¶çš„æœ€å°‘è·³è·ƒæ¬¡æ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/minimum-jumps-to-reach-home/description/">1654. åˆ°å®¶çš„æœ€å°‘è·³è·ƒæ¬¡æ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># BFS æœç´¢</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">minimumJumps</span>(<span class="hljs-params">self, forbidden: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], a: <span class="hljs-built_in">int</span>, b: <span class="hljs-built_in">int</span>, x: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>    q,vis = deque([[<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>]]), <span class="hljs-built_in">set</span>([<span class="hljs-number">0</span>])<br>        lower, upper = <span class="hljs-number">0</span>,<span class="hljs-built_in">max</span>(<span class="hljs-built_in">max</span>(forbidden) + a, x) + b<br>        forbiddenSet = <span class="hljs-built_in">set</span>(forbidden)<br>        <span class="hljs-keyword">while</span> q:<br>            position, direction, step = q.popleft()<br>            <span class="hljs-keyword">if</span> x == position:<br>                <span class="hljs-keyword">return</span> step<br>            nextposition = position + a<br>            nextdirection = <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> lower &lt;= nextposition &lt;= upper <span class="hljs-keyword">and</span> nextposition * nextdirection <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> vis <span class="hljs-keyword">and</span> nextposition <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> forbiddenSet:<br>                vis.add(nextposition * nextdirection)<br>                q.append([nextposition, nextdirection, step + <span class="hljs-number">1</span>])<br>            <span class="hljs-comment"># ä¸èƒ½ä¸¤æ¬¡é€€å</span><br>            <span class="hljs-keyword">if</span> direction == <span class="hljs-number">1</span>:<br>                nextposition = position - b<br>                nextdirection = -<span class="hljs-number">1</span><br>                <span class="hljs-keyword">if</span> lower &lt;= nextposition &lt;= upper <span class="hljs-keyword">and</span> nextposition * nextdirection <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> vis <span class="hljs-keyword">and</span> nextposition <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> forbiddenSet:<br>                    vis.add(nextposition * nextdirection)<br>                    q.append([nextposition, nextdirection, step + <span class="hljs-number">1</span>])<br>    <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><h1 id="823-å¸¦å› å­çš„äºŒå‰æ ‘-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#823-å¸¦å› å­çš„äºŒå‰æ ‘-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="823. å¸¦å› å­çš„äºŒå‰æ ‘ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/binary-trees-with-factors/">823. å¸¦å› å­çš„äºŒå‰æ ‘ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">dfs å…ˆæ‰¾åˆ°valçš„ç­”æ¡ˆçš„ä¸ªæ•° ç„¶åæ‰¾valçš„å·¦å­æ ‘ï¼ˆxï¼‰çš„ç­”æ¡ˆçš„ä¸ªæ•° å†æ‰¾valçš„å³å­æ ‘ï¼ˆval//xï¼‰çš„ç­”æ¡ˆ ç”¨@cache å˜ä¸ºè®°å¿†åŒ–æœç´¢</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">numFactoredBinaryTrees</span>(<span class="hljs-params">self, arr: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        s = <span class="hljs-built_in">set</span>(arr)<br><span class="hljs-meta">        @cache</span><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">dfs</span>(<span class="hljs-params">val</span>):<br>            ans = <span class="hljs-number">1</span><br>            <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> arr:<br>                <span class="hljs-keyword">if</span> val % x == <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> val // x <span class="hljs-keyword">in</span> s:<br>                    ans += dfs(x) * dfs(val // x)<br>            <span class="hljs-keyword">return</span> ans<br>       <span class="hljs-keyword">return</span> <span class="hljs-built_in">sum</span>(dfs(x) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> arr) % (<span class="hljs-number">10</span> ** <span class="hljs-number">9</span> + <span class="hljs-number">7</span>)<br>    <br><span class="hljs-comment"># é€’æ¨ ç”¨fè¡¨ç¤ºè¿™ä¸ªç‚¹ä½œä¸ºæ ¹èŠ‚ç‚¹çš„æ—¶å€™æœ‰å¤šå°‘ç§æƒ…å†µ ç”¨idxåå‘æŸ¥è¯¢è¿™ä¸ªç‚¹çš„ä¸‹æ ‡</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">numFactoredBinaryTrees</span>(<span class="hljs-params">self, arr: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        arr.sort()<br>        idx = &#123;x: i <span class="hljs-keyword">for</span> i, x <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(arr)&#125;<br>        f = [<span class="hljs-number">1</span>] * <span class="hljs-built_in">len</span>(arr)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(arr)):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(i):<br>                val = arr[i]<br>                x = arr[j]<br>                <span class="hljs-keyword">if</span> val % x == <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> val // x <span class="hljs-keyword">in</span> idx:<br>                    f[i] += f[j] * f[idx[val // x]]<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">sum</span>(f) % (<span class="hljs-number">10</span> ** <span class="hljs-number">9</span> + <span class="hljs-number">7</span>)<br><br></code></pre></td></tr></table></figure><h1 id="1761-ä¸€ä¸ªå›¾ä¸­è¿é€šä¸‰å…ƒç»„çš„æœ€å°åº¦æ•°-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#1761-ä¸€ä¸ªå›¾ä¸­è¿é€šä¸‰å…ƒç»„çš„æœ€å°åº¦æ•°-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="1761. ä¸€ä¸ªå›¾ä¸­è¿é€šä¸‰å…ƒç»„çš„æœ€å°åº¦æ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/minimum-degree-of-a-connected-trio-in-a-graph/solutions/2417898/yi-ge-tu-zhong-lian-tong-san-yuan-zu-de-wuv8o/">1761. ä¸€ä¸ªå›¾ä¸­è¿é€šä¸‰å…ƒç»„çš„æœ€å°åº¦æ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æšä¸¾æ¯ä¸€ä¸ªä¸‰å…ƒç»„ï¼Œç„¶åæ±‚åº¦æ•°ï¼Œå¯ä»¥é¢„å¤„ç†åº¦æ•° æ³¨æ„æœ€åå‡ºåº¦è¦å‡6 å› ä¸ºä¸‰å…ƒç»„å†…æ¯æ¡ç›¸è¿çš„è¾¹è¢«ç®—äº†ä¸¤æ¬¡</span><br><span class="hljs-comment"># ç”¨é‚»æ¥çŸ©é˜µæ¥å‚¨å­˜ </span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">minTrioDegree</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span>, edges: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        g = [[<span class="hljs-number">0</span>] * n <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n)]<br>        degree = [<span class="hljs-number">0</span>] * n<br>        <br>        <span class="hljs-keyword">for</span> x, y <span class="hljs-keyword">in</span> edges:<br>            x, y = x - <span class="hljs-number">1</span>, y - <span class="hljs-number">1</span><br>            g[x][y] = g[y][x] = <span class="hljs-number">1</span><br>            degree[x] += <span class="hljs-number">1</span><br>            degree[y] += <span class="hljs-number">1</span><br>        <br>        ans = inf<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(i, n):<br>                <span class="hljs-keyword">if</span> g[i][j] == <span class="hljs-number">1</span>:<br>                    <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(j, n):<br>                        <span class="hljs-keyword">if</span> g[i][k] == g[j][k] == <span class="hljs-number">1</span>:<br>                            ans = <span class="hljs-built_in">min</span>(ans, degree[i] + degree[j] + degree[k] - <span class="hljs-number">6</span>)<br>      <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span> <span class="hljs-keyword">if</span> ans == inf <span class="hljs-keyword">else</span> ans<br><br></code></pre></td></tr></table></figure><h1 id="5183-å¥½ä¸‰å…ƒç»„-AcWingé¢˜åº“"><a href="#5183-å¥½ä¸‰å…ƒç»„-AcWingé¢˜åº“" class="headerlink" title="5183. å¥½ä¸‰å…ƒç»„ - AcWingé¢˜åº“"></a><a href="https://www.acwing.com/problem/content/description/5186/">5183. å¥½ä¸‰å…ƒç»„ - AcWingé¢˜åº“</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">ç”±äºç›´æ¥ç®—ä¸å¥½ç®—ï¼Œæ‰€ä»¥å…ˆç®—å‡ºæ‰€æœ‰ä¸‰å…ƒç»„çš„æƒ…å†µï¼Œä¹‹åå†å‡å»ä¸ç¬¦åˆçš„æƒ…å†µã€‚</span><br><span class="hljs-string">æ‰€æœ‰æƒ…å†µä¸ºn * (n - 1) * (n - 2) // 6</span><br><span class="hljs-string">å½“ä¸‰ä¸ªæ•°åœ¨åŒä¸€ç‚¹ä¸Šæ—¶ ä¸åˆè§„</span><br><span class="hljs-string">ä¸¤ä¸ªç‚¹åœ¨åŒä¸€ç‚¹ä¸Š ä¸åˆè§„</span><br><span class="hljs-string">ä¸‰ä¸ªç‚¹åœ¨åŒä¸€ä¸ªåŠåœ†å†…æ—¶ ä¸åˆè§„</span><br><span class="hljs-string">åŒä¸€ä¸ªåŠåœ†å†…çš„ç‚¹å³è·ç¦»ï¼ˆiï¼Œi + c/2]çš„ç‚¹ è¿™é‡Œé¢çš„æ¯ä¸ªç‚¹å’ŒPiç‚¹éƒ½ä¸åˆè§„</span><br><span class="hljs-string">æ‰€ä»¥è¦é¢„å¤„ç†å‡ºå‰ç¼€å’Œï¼Œå‰ç¼€å’Œè¦å¤„ç†åˆ°2 * cï¼Œå› ä¸ºç¯è¦å˜æˆé“¾æ¥å¤„ç†çš„è¯å°±éœ€è¦cntä¸ä»…è®¡æ•°0~c-1è¿˜è¦è®¡æ•°c~2c-1</span><br><span class="hljs-string">æœ€åï¼Œå½“cä¸ºå¶æ•°çš„æ—¶å€™ï¼Œiå’Œi+c/2æ˜¯å¯¹ç§°çš„ï¼Œä¼šå¤šå‡ï¼Œè¦åŠ å›æ¥</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br>N = <span class="hljs-number">2000100</span><br>n, c = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split())<br>p = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>,<span class="hljs-built_in">input</span>().split()))<br>cnt = [<span class="hljs-number">0</span>] * N<br>s = [<span class="hljs-number">0</span>] * N<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>):<br>    cnt[p[i - <span class="hljs-number">1</span>]] += <span class="hljs-number">1</span><br>    cnt[p[i - <span class="hljs-number">1</span>] + c] += <span class="hljs-number">1</span><br><br>res = n * (n - <span class="hljs-number">1</span>) * (n - <span class="hljs-number">2</span>) // <span class="hljs-number">6</span><br><br>s[<span class="hljs-number">0</span>] = cnt[<span class="hljs-number">0</span>]<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span> * c):<br>    s[i] = s[i - <span class="hljs-number">1</span>] + cnt[i]<br>    <br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(c):<br>    <span class="hljs-keyword">if</span> cnt[i] == <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">continue</span><br>    t = cnt[i]<br>    d = s[i + c // <span class="hljs-number">2</span>] - s[i]<br>    <br>    <span class="hljs-comment"># å…¶å®ä¸éœ€è¦åˆ¤æ–­ä¹Ÿè¡Œ</span><br>    <span class="hljs-keyword">if</span> t &gt;= <span class="hljs-number">2</span>:<br>        <span class="hljs-keyword">if</span> t &gt;= <span class="hljs-number">3</span>:<br>            res -= t * (t - <span class="hljs-number">1</span>) * (t - <span class="hljs-number">2</span>) // <span class="hljs-number">6</span><br>        res -= t * (t - <span class="hljs-number">1</span>) // <span class="hljs-number">2</span> * d<br>    res -= t * d * (d - <span class="hljs-number">1</span>) // <span class="hljs-number">2</span><br><br><span class="hljs-keyword">if</span> c % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>:<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(c // <span class="hljs-number">2</span>):<br>        u, v = cnt[i], cnt[i + c // <span class="hljs-number">2</span>]<br>        <span class="hljs-keyword">if</span> u &gt;= <span class="hljs-number">2</span>:<br>            res += u * (u - <span class="hljs-number">1</span>) // <span class="hljs-number">2</span> * v<br>        <span class="hljs-keyword">if</span> v &gt;= <span class="hljs-number">2</span>:<br>            res += v * (v - <span class="hljs-number">1</span>) // <span class="hljs-number">2</span> * u<br><br><span class="hljs-built_in">print</span>(res)<br></code></pre></td></tr></table></figure><h1 id="5145-åŒè‰²ç¯-AcWingé¢˜åº“"><a href="#5145-åŒè‰²ç¯-AcWingé¢˜åº“" class="headerlink" title="5145. åŒè‰²ç¯ - AcWingé¢˜åº“"></a><a href="https://www.acwing.com/problem/content/5148/">5145. åŒè‰²ç¯ - AcWingé¢˜åº“</a></h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// åˆ¤æ–­ç¯ é‚£å°±æ˜¯ä¸èƒ½å¾€å›é€€ ä¸€ç›´èµ°åˆ°ä¸‹ä¸€æ¬¡é‡è§ä¸€ä¸ªvis  æ³¨æ„è®¾è®¡dfsçš„æ—¶å€™è¦åŠ ä¸Š ox oy ç”¨äºåˆ¤æ–­åˆå§‹æƒ…å†µ  æ³¨æ„ä»€ä¹ˆæ—¶å€™ç”¨ox ä»€ä¹ˆæ—¶å€™ç”¨x  </span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">100</span>;<br><span class="hljs-type">int</span> n, m;<br><span class="hljs-type">char</span> nums[N][N];<br><span class="hljs-type">bool</span> vis[N][N];<br><span class="hljs-type">int</span> dx[<span class="hljs-number">4</span>] = &#123; <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span> &#125;;<br><span class="hljs-type">int</span> dy[<span class="hljs-number">4</span>] = &#123; <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span> &#125;;<br><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y, <span class="hljs-type">int</span> ox, <span class="hljs-type">int</span> oy)</span></span><br><span class="hljs-function"></span>&#123;<br>    vis[x][y] = <span class="hljs-literal">true</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i++)<br>    &#123;<br>        <span class="hljs-type">int</span> nx = x + dx[i];<br>        <span class="hljs-type">int</span> ny = y + dy[i];<br><br>        <span class="hljs-keyword">if</span> (nx &gt;= <span class="hljs-number">0</span> &amp;&amp; nx &lt; n &amp;&amp; ny &gt;= <span class="hljs-number">0</span> &amp;&amp; ny &lt; m<br>            <span class="hljs-comment">// è¿™ä¸€å¥çš„æ„æ€æ˜¯ ä¸èƒ½é€€å›</span><br>            &amp;&amp; !(nx == ox &amp;&amp; ny == oy)<br>            <span class="hljs-comment">// é¢œè‰²ç›¸åŒ</span><br>            &amp;&amp; nums[nx][ny] == nums[x][y])<br>        &#123;<br>            <span class="hljs-comment">// å†ä¸å¯é€€å›çš„æƒ…å†µä¸‹ åªæœ‰å­˜åœ¨é¦–å°¾ç›¸æ¥çš„ç¯æ‰å¯èƒ½ç¢°åˆ°vis=trueçš„æƒ…å†µ</span><br>            <span class="hljs-keyword">if</span> (vis[nx][ny] || <span class="hljs-built_in">dfs</span>(nx, ny, x, y))<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; m; j++)<br>        &#123;<br>            cin &gt;&gt; nums[i][j];<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; m; j++)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (!vis[i][j])<br>            &#123;<br>                <span class="hljs-keyword">if</span> (<span class="hljs-built_in">dfs</span>(i, j, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>))<br>                &#123;<br>                    cout &lt;&lt; <span class="hljs-string">&quot;Yes&quot;</span> &lt;&lt; endl;<br>                    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    cout &lt;&lt; <span class="hljs-string">&quot;No&quot;</span> &lt;&lt; endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="1921-æ¶ˆç­æ€ªç‰©çš„æœ€å¤§æ•°é‡-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#1921-æ¶ˆç­æ€ªç‰©çš„æœ€å¤§æ•°é‡-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="1921. æ¶ˆç­æ€ªç‰©çš„æœ€å¤§æ•°é‡ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/eliminate-maximum-number-of-monsters/description/?envType=daily-question&envId=2023-09-03">1921. æ¶ˆç­æ€ªç‰©çš„æœ€å¤§æ•°é‡ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># çœ‹èµ·æ¥å¾ˆç®€å• ä½†æ˜¯æœ‰å‡ ä¸ªç‚¹ä¸€ç›´è¿‡ä¸äº† ä¸»è¦æ˜¯æ€ªç‰©åˆ°è¾¾çš„æ—¶é—´æœ‰é—®é¢˜ åº”è¯¥æ˜¯ä¸Šå–æ•´  å¦‚æœç›´æ¥ç”¨//çš„è¯æ˜¯ä¸‹å–æ•´ï¼ˆçªç„¶è§‰å¾—å¥½å‚»ï¼‰</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">eliminateMaximum</span>(<span class="hljs-params">self, dist: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], speed: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        n = <span class="hljs-built_in">len</span>(dist)<br>        <span class="hljs-comment"># ä¸Šå–æ•´</span><br>        arrivetime = [math.ceil(dist[i] / speed[i]) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n)]<br><br>        arrivetime.sort()<br>        <span class="hljs-keyword">for</span> attacktime, arrivetime <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(arrivetime):<br>            <span class="hljs-keyword">if</span> attacktime &gt;= arrivetime:<br>                <span class="hljs-keyword">return</span> attacktime<br>        <span class="hljs-keyword">return</span> n<br></code></pre></td></tr></table></figure><h1 id="ç»Ÿè®¡ä¸€ä¸ªå­—ç¬¦ä¸²çš„-k-å­åºåˆ—ç¾ä¸½å€¼æœ€å¤§çš„æ•°ç›®-åŠ›æ‰£-LeetCode-ç«èµ›"><a href="#ç»Ÿè®¡ä¸€ä¸ªå­—ç¬¦ä¸²çš„-k-å­åºåˆ—ç¾ä¸½å€¼æœ€å¤§çš„æ•°ç›®-åŠ›æ‰£-LeetCode-ç«èµ›" class="headerlink" title="ç»Ÿè®¡ä¸€ä¸ªå­—ç¬¦ä¸²çš„ k å­åºåˆ—ç¾ä¸½å€¼æœ€å¤§çš„æ•°ç›® - åŠ›æ‰£ (LeetCode) ç«èµ›"></a><a href="https://leetcode.cn/contest/biweekly-contest-112/problems/count-k-subsequences-of-a-string-with-maximum-beauty/">ç»Ÿè®¡ä¸€ä¸ªå­—ç¬¦ä¸²çš„ k å­åºåˆ—ç¾ä¸½å€¼æœ€å¤§çš„æ•°ç›® - åŠ›æ‰£ (LeetCode) ç«èµ›</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Counter è¿”å›å­—å…¸ æ¯ä¸ªå…ƒç´ æ˜¯é”® å‡ºç°æ¬¡æ•°ä¸ºå€¼</span><br><span class="hljs-comment"># dfs</span><br><span class="hljs-comment"># é¦–å…ˆæ˜¯dfsæ‰¾åˆ°kå­åºåˆ— åœ¨å­åºåˆ—æ»¡è¶³é•¿åº¦ä¸ºkçš„åŒæ—¶æ¯”è¾ƒå…¶ç¾ä¸½å€¼æ˜¯å¦ä¸ºæœ€å¤§ å½“ç¾ä¸½å€¼æ›´æ–°æ—¶ï¼ˆæ­¤æ—¶ä¸ºç¬¬ä¸€ä¸ªæœ€å¤§ç¾ä¸½å€¼ æ‰€ä»¥ç›´æ¥è®©ans = mulï¼‰å¦åˆ™ans+mul  ä¹‹åå°±æ˜¯é€‰æˆ–ä¸é€‰ addä¸ºå½“å‰è¿™ä¸ªå­åºåˆ—çš„ç¾ä¸½å€¼ mulä¸ºå½“å‰è¿™ä¸ªå­åºåˆ—çš„ç¾ä¸½å€¼çš„ä¸ªæ•° ï¼ˆå› ä¸ºé‡å¤çš„å…ƒç´ ï¼‰</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">countKSubsequencesWithMaxBeauty</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span>, k: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        c = Counter(s)<br>        <span class="hljs-keyword">if</span> k &gt; <span class="hljs-built_in">len</span>(c):<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>        Mod = <span class="hljs-number">10</span> ** <span class="hljs-number">9</span> + <span class="hljs-number">7</span><br>        mx = -<span class="hljs-number">1</span><br>        ans = <span class="hljs-number">0</span><br>        keys = <span class="hljs-built_in">list</span>(c.keys())<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">dfs</span>(<span class="hljs-params">i, count, add, mul</span>):<br>            <span class="hljs-keyword">nonlocal</span> mx, ans<br>            <span class="hljs-keyword">if</span> count == k:<br>                <span class="hljs-keyword">if</span> add &gt; mx:<br>                    mx = add<br>                    ans = mul<br>                <span class="hljs-keyword">elif</span> add == mx:<br>                    ans += mul<br>                ans %= Mod<br>                <span class="hljs-keyword">return</span><br>            <span class="hljs-keyword">if</span> i + k - count &gt; <span class="hljs-built_in">len</span>(keys):<br>                <span class="hljs-keyword">return</span><br>            dfs(i + <span class="hljs-number">1</span>, count + <span class="hljs-number">1</span>, add + c[keys[i]], mul * c[keys[i]] % Mod)<br>            dfs(i + <span class="hljs-number">1</span>, count, add, mul)<br>        dfs(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">return</span> ans<br><br><br><span class="hljs-comment"># æ•°å­¦</span><br><span class="hljs-comment"># æ±‚å‡ºå‡ºç°é¢‘ç‡å‰ké«˜çš„å­—æ¯ æœ€å¤§çš„ç¾ä¸½å€¼å°±åœ¨è¿™é‡Œé¢ éœ€è¦æ³¨æ„çš„æ˜¯ æœ€åä¸€ä¸ªå‡ºç°é¢‘ç‡ï¼ˆk-1ä½ï¼‰å¯èƒ½æœ‰å¤šä¸ªå­—æ¯ï¼ˆè¿™æ ·ç»„æˆçš„å­åºåˆ—ç¾ä¸½å€¼éƒ½ç›¸åŒä¸”æœ€å¤§ ï¼‰ æ‰€ä»¥éœ€è¦å†æ¬¡è®¡ç®— ç®—å‡ºé‡å¤çš„å­—æ¯æ•°é‡ ç„¶åè¿›è¡Œç»„åˆè®¡ç®—Cï¼ˆn,kï¼‰nä¸ºç›¸åŒçš„å­—æ¯çš„ä¸ªæ•° cä¸ºå¯ä»¥é€‰çš„ä¸ªæ•°ï¼ˆå‰kä¸ªé‡Œé¢ å»æ‰å¤§äºçš„ è¿˜è¦åœ¨ç­‰äºçš„é‡Œé¢é€‰cä¸ª å‡‘kå­åºåˆ—ï¼‰</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">countKSubsequencesWithMaxBeauty</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span>, k: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        c = Counter(s)<br>        <span class="hljs-keyword">if</span> k &gt; <span class="hljs-built_in">len</span>(c):<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">from</span> math <span class="hljs-keyword">import</span> comb<br>            Mod = <span class="hljs-number">10</span> ** <span class="hljs-number">9</span> + <span class="hljs-number">7</span><br>            values = <span class="hljs-built_in">sorted</span>(c.values(), reverse=<span class="hljs-literal">True</span>)<br>            ans = <span class="hljs-number">1</span><br>            c = <span class="hljs-number">0</span><br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(k):<br>                <span class="hljs-keyword">if</span> values[i] &gt; values[k - <span class="hljs-number">1</span>]:<br>                    ans *= values[i]<br>                    ans %= Mod<br>                <span class="hljs-keyword">elif</span> values[i] == values[k - <span class="hljs-number">1</span>]:<br>                    c += <span class="hljs-number">1</span><br>                    ans *= values[i]<br>                    ans %= Mod<br>            <span class="hljs-keyword">return</span> ans * comb(values.count(values[k - <span class="hljs-number">1</span>]),c) % Mod<br><br></code></pre></td></tr></table></figure><h1 id="2605-ä»ä¸¤ä¸ªæ•°å­—æ•°ç»„é‡Œç”Ÿæˆæœ€å°æ•°å­—-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#2605-ä»ä¸¤ä¸ªæ•°å­—æ•°ç»„é‡Œç”Ÿæˆæœ€å°æ•°å­—-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="2605. ä»ä¸¤ä¸ªæ•°å­—æ•°ç»„é‡Œç”Ÿæˆæœ€å°æ•°å­— - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/form-smallest-number-from-two-digit-arrays/">2605. ä»ä¸¤ä¸ªæ•°å­—æ•°ç»„é‡Œç”Ÿæˆæœ€å°æ•°å­— - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ä¸»è¦æ˜¯çœ‹ä¸€ä¸‹è¿™ä¸ªå†™æ³• s = set(nums1) &amp; set(nums2) ç›´æ¥å–å‡º1 2 ä¸­çš„ç›¸åŒçš„æ•°å­—</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">minNumber</span>(<span class="hljs-params">self, nums1: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], nums2: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        ret = <span class="hljs-number">0</span><br>        a = <span class="hljs-built_in">min</span>(nums1)<br>        b = <span class="hljs-built_in">min</span>(nums2)<br>        <span class="hljs-keyword">if</span> a &gt; b:<br>            a, b = b, a<br>        ret = a * <span class="hljs-number">10</span> + b<br><br>        s = <span class="hljs-built_in">set</span>(nums1) &amp; <span class="hljs-built_in">set</span>(nums2)<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> s:<br>            <span class="hljs-keyword">return</span> ret <br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">min</span>(s)<br></code></pre></td></tr></table></figure><h1 id="5198-æ•´ç†ä¹¦ç±-AcWingé¢˜åº“"><a href="#5198-æ•´ç†ä¹¦ç±-AcWingé¢˜åº“" class="headerlink" title="5198. æ•´ç†ä¹¦ç± - AcWingé¢˜åº“"></a><a href="https://www.acwing.com/problem/content/description/5201/">5198. æ•´ç†ä¹¦ç± - AcWingé¢˜åº“</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># è®¡ç®—æœ‰å‡ ä¸ªLå‡ ä¸ªM ç„¶åç®—æœ‰å‡ ä¸ªLä¸åœ¨å‰é¢ æœ‰å‡ ä¸ªMä¸åœ¨ä¸­é—´ ç„¶åè‡³å¤šéœ€è¦äº¤æ¢è¿™ä¹ˆå¤šæ¬¡ æ‰èƒ½æ¢å¥½ ä½†æ˜¯å½“é”™ä½çš„Lå’ŒMäº’æ¢æ—¶ ä¸¤æ¬¡å°±åªéœ€è¦ä¸€æ¬¡äº† æ‰€ä»¥è¯´å–min(l,m)(è¿™å°±æ˜¯LMç›¸äº’é”™ä½çš„ä¸ªæ•°)å‡æ‰å°±è¡Œ</span><br>nums = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">input</span>().strip())<br>n = <span class="hljs-built_in">len</span>(nums)<br>cl, cm, cs = <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span><br><span class="hljs-keyword">for</span> i, x <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(nums):<br>    <span class="hljs-keyword">if</span> x == <span class="hljs-string">&#x27;L&#x27;</span>:<br>        cl += <span class="hljs-number">1</span><br>    <span class="hljs-keyword">elif</span> x == <span class="hljs-string">&#x27;M&#x27;</span>:<br>        cm += <span class="hljs-number">1</span><br>    <span class="hljs-keyword">elif</span> x == <span class="hljs-string">&#x27;S&#x27;</span>:<br>        cs += <span class="hljs-number">1</span><br><br><br>wl, wm, lm, ml = <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(cl):<br>    <span class="hljs-keyword">if</span> nums[i] != <span class="hljs-string">&#x27;L&#x27;</span>:<br>        wl += <span class="hljs-number">1</span><br>    <span class="hljs-keyword">if</span> nums[i] == <span class="hljs-string">&#x27;M&#x27;</span>:<br>        lm += <span class="hljs-number">1</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(cl, cl + cm):<br>    <span class="hljs-keyword">if</span> nums[i] != <span class="hljs-string">&#x27;M&#x27;</span>:<br>        wm += <span class="hljs-number">1</span><br>    <span class="hljs-keyword">if</span> nums[i] == <span class="hljs-string">&#x27;L&#x27;</span>:<br>        ml += <span class="hljs-number">1</span><br><br><span class="hljs-built_in">print</span>(wl + wm - <span class="hljs-built_in">min</span>(lm, ml))<br><br></code></pre></td></tr></table></figure><h1 id="2594-ä¿®è½¦çš„æœ€å°‘æ—¶é—´-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#2594-ä¿®è½¦çš„æœ€å°‘æ—¶é—´-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="2594. ä¿®è½¦çš„æœ€å°‘æ—¶é—´ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/minimum-time-to-repair-cars/description/">2594. ä¿®è½¦çš„æœ€å°‘æ—¶é—´ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># äºŒåˆ†æœ€é•¿çš„æ—¶é—´ è®¡ç®—è¿™ä¸ªæ—¶é—´æ¯ä¸ªäººå¯ä»¥ä¿®çš„è½¦çš„æ•°é‡ å’Œ carsæ¯”è¾ƒ ï¼ˆå¹¶ä¸éœ€è¦å®é™…åœ°å»ç®— åº”è¯¥ç»™æ¯ä¸ªäººå®‰æ’å¤šå°‘è½¦ è€Œæ˜¯æ±‚æœ€å¤§ä¿®è½¦æ•° çœ‹èƒ½ä¸èƒ½ä¿®å®Œï¼‰</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">repairCars</span>(<span class="hljs-params">self, ranks: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], cars: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        left = <span class="hljs-number">0</span><br>        right = cars * cars * <span class="hljs-built_in">min</span>(ranks)<br>        <br>        <span class="hljs-keyword">while</span> left &lt; right:<br>            mid = (left + right) // <span class="hljs-number">2</span><br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">sum</span>(isqrt(mid // r) <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> ranks) &gt;= cars:<br>                right = mid<br>            <span class="hljs-keyword">else</span>:<br>                left = mid + <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> right<br></code></pre></td></tr></table></figure><h1 id="Problem-F-Codeforces"><a href="#Problem-F-Codeforces" class="headerlink" title="Problem - F - Codeforces"></a><a href="https://codeforces.com/contest/1850/problem/F">Problem - F - Codeforces</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æ±‚ä¸€ä¸ªæ•°ï¼Œä»–çš„çº¦æ•°çš„ä¸ªæ•°ï¼ˆåŒä¸€ä¸ªçº¦æ•°å¯èƒ½å‡ºç°å¾ˆå¤šæ¬¡ï¼‰æœ€å¤šï¼Œéå†1~nï¼Œans[j] += len(cs[i])ã€‚å› ä¸ºiçš„æ‰€æœ‰å€æ•°ä¸Šçš„ç‚¹ï¼Œéƒ½æ»¡è¶³æ¡ä»¶ã€‚æ‰€ä»¥æŠŠæ¯ä¸ªans[j] éƒ½åŠ ä¸Šiçš„ä¸ªæ•°ã€‚éå†åˆ°nçš„æ—¶å€™ï¼Œå°±æŠŠæ‰€æœ‰çš„æ•°éƒ½åŠ ä¸Šäº†</span><br><span class="hljs-keyword">import</span> collections<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">solve</span>():<br>    n = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>())<br>    a = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split()))<br>    <br>    cs = collections.defaultdict(<span class="hljs-built_in">list</span>)<br>    <span class="hljs-keyword">for</span> i, x <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(a):<br>        cs[x].append(i)<br>    ans = [<span class="hljs-number">0</span>] * (n + <span class="hljs-number">1</span>)<br>    m = <span class="hljs-built_in">len</span>(cs)<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>):<br>        j = i<br>        <span class="hljs-keyword">while</span> j &lt;= n:<br>            ans[j] += <span class="hljs-built_in">len</span>(cs[i])<br>            j += i<br><br>    <span class="hljs-built_in">print</span>(<span class="hljs-built_in">max</span>(ans))<br><br>n = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>())<br><span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>    solve()<br></code></pre></td></tr></table></figure><h1 id="210-è¯¾ç¨‹è¡¨-II-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#210-è¯¾ç¨‹è¡¨-II-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="210. è¯¾ç¨‹è¡¨ II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/course-schedule-ii/?envType=daily-question&envId=2023-09-10">210. è¯¾ç¨‹è¡¨ II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æ‹“æ‰‘æ’åº(æ³¨æ„æ‹“æ‰‘æ’åº æ˜¯çœ‹æ˜¯ä¸æ˜¯æ‰€æœ‰çš„éƒ½è¿›å…¥è¿‡q æˆ–è€…è¯´ æœ€åæ˜¯ä¸æ˜¯æ‰€æœ‰å…¥åº¦éƒ½ä¸º0) é¦–å…ˆå»ºå›¾ åŒæ—¶å¢åŠ å…¥åº¦ ç„¶åæŠŠå…¥åº¦ä¸º0çš„éƒ½åŠ å…¥q ä¸æ–­å¾ªç¯ æ¯æ¬¡popçš„åŒæ—¶ numCourse-1 è®°å½•è¿›å…¥qçš„ä¸ªæ•° å¦‚æœå…¨éƒ¨è¿›äº†ä»£è¡¨æ²¡æœ‰ç¯ é‚£ä¹ˆå°±å¯ä»¥è¿”å› è€Œä¸Šè¯¾é¡ºåº æ°å¥½æ˜¯ä»q popçš„é¡ºåº</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">findOrder</span>(<span class="hljs-params">self, numCourses: <span class="hljs-built_in">int</span>, prerequisites: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        graph = defaultdict(<span class="hljs-built_in">list</span>)<br>        in_deg = [<span class="hljs-number">0</span>] * numCourses<br>        <span class="hljs-keyword">for</span> cur, pre <span class="hljs-keyword">in</span> prerequisites:<br>            graph[pre].append(cur)<br>            in_deg[cur] += <span class="hljs-number">1</span><br>        <br>        q = deque([i <span class="hljs-keyword">for</span> i, x <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(in_deg) <span class="hljs-keyword">if</span> x == <span class="hljs-number">0</span>])<br>        how = []<br>        <span class="hljs-keyword">while</span> q:<br>            pre = q.popleft()<br>            numCourses -= <span class="hljs-number">1</span><br>            how.append(pre)<br>            <span class="hljs-keyword">for</span> cur <span class="hljs-keyword">in</span> graph[pre]:<br>                in_deg[cur] -= <span class="hljs-number">1</span><br>                <span class="hljs-keyword">if</span> in_deg[cur] == <span class="hljs-number">0</span>:<br>                    q.append(cur)<br>        <br>        <span class="hljs-keyword">if</span> numCourses == <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">return</span> how<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> []<br></code></pre></td></tr></table></figure><h1 id="630-è¯¾ç¨‹è¡¨-III-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#630-è¯¾ç¨‹è¡¨-III-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="630. è¯¾ç¨‹è¡¨ III - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/course-schedule-iii/?envType=daily-question&envId=2023-09-11">630. è¯¾ç¨‹è¡¨ III - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># è´ªå¿ƒï¼‹ä¼˜å…ˆé˜Ÿåˆ— ï¼ˆåæ‚”è´ªå¿ƒï¼‰ å¾ˆå®¹æ˜“æƒ³åˆ°è¦å…ˆå¯¹ç»“æŸæ—¶é—´æ’åº ç»“æŸæ—¶é—´è¶Šæ™š å°±è¶Šæ™šåšï¼Œå› ä¸ºå¼€å§‹æ™šçš„å…ˆåšå¦‚æœåšå¾—å®Œï¼Œå¯èƒ½å‰é¢çš„åšä¸å®Œäº†ï¼Œå¼€å§‹æ™šçš„å…ˆåšå¦‚æœåšä¸å®Œï¼Œé‚£å‰é¢çš„è‚¯å®šåšä¸å®Œäº†ã€‚å¼€å§‹æ™šçš„ååšï¼Œä¸ç®¡åšä¸åšå¾—å®Œï¼Œå‰ä¸€ä¸ªè‚¯å®šæ˜¯ä¸å—å½±å“çš„ã€‚</span><br><span class="hljs-comment"># æ¥ç€æ˜¯æŒ‰é¡ºåºå–è¯¾ ç”¨sumè®°å½•å½“å‰æ€»æ—¶é—´ hä¸ºä¼˜å…ˆé˜Ÿåˆ—ï¼ˆæ³¨æ„ heapé»˜è®¤æ˜¯å°æ ¹å †  ä¸ºäº†ä½¿å…¶æˆä¸ºå¤§æ ¹å † æ¯æ¬¡å­˜å…¥å’Œå–å‡ºä½¿ç”¨ç›¸åæ•°ï¼‰ï¼Œå¦‚æœsum+dur &lt;= end è¯´æ˜æ˜¯å¯ä»¥éƒ½ä¸Šçš„ é‚£å°±åŠ ä¸Š å¹¶ä¸”æ”¾å…¥h  å¦‚æœ&gt;end ä¸èƒ½éƒ½ä¸Š é‚£ä¹ˆå°±åˆ¤æ–­å½“å‰çš„durå’Œä¹‹å‰å·²ç»å­˜åœ¨çš„æ—¶é—´æœ€é•¿çš„è¯¾å“ªä¸ªæ—¶é—´æ›´é•¿ å¦‚æœåŸæ¥çš„è¯¾æ¯”å½“å‰è¯¾æ—¶é—´é•¿ å°±è¦å’Œå½“å‰çš„è¯¾è¿›è¡Œæ›¿æ¢ï¼ˆæ€»æ•°ä¸å˜ sumå˜å°ï¼‰ ä½¿å¾—sumæœ€å° é‚£ä¹ˆå°±æ›´æœ‰å¯èƒ½å¤šä¸Šå‡ èŠ‚è¯¾ å¦‚æœå½“å‰çš„æ—¶é—´é•¿ é‚£è¿™èŠ‚è¯¾è‚¯å®šé€‰ä¸äº†</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">scheduleCourse</span>(<span class="hljs-params">self, courses: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        courses.sort(key = <span class="hljs-keyword">lambda</span> x: x[<span class="hljs-number">1</span>])<br>        n = <span class="hljs-built_in">len</span>(courses)<br>        <span class="hljs-built_in">sum</span> = <span class="hljs-number">0</span><br>        h = []<br>        <span class="hljs-keyword">for</span> dur, end <span class="hljs-keyword">in</span> courses:<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">sum</span> + dur &lt;= end:<br>                <span class="hljs-built_in">sum</span> += dur<br>                heappush(h, -dur)<br>            <span class="hljs-keyword">elif</span> h <span class="hljs-keyword">and</span> -h[<span class="hljs-number">0</span>] &gt; dur:<br>                <span class="hljs-built_in">sum</span> -= -h[<span class="hljs-number">0</span>] - dur<br>                heappop(h)<br>                heappush(h, -dur)<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(h)<br></code></pre></td></tr></table></figure><h1 id="1462-è¯¾ç¨‹è¡¨-IV-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#1462-è¯¾ç¨‹è¡¨-IV-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="1462. è¯¾ç¨‹è¡¨ IV - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/course-schedule-iv/?envType=daily-question&envId=2023-09-12">1462. è¯¾ç¨‹è¡¨ IV - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">checkIfPrerequisite</span>(<span class="hljs-params">self, numCourses: <span class="hljs-built_in">int</span>, prerequisites: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]], queries: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">bool</span>]:<br>        <span class="hljs-comment"># æ‹“æ‰‘æ’åºçš„æ€è·¯ä»ç„¶æ˜¯å…ˆå»ºå›¾ å­˜å‚¨å…¥åº¦ å¾ªç¯æ‰¾ç‚¹  ä¸åŒçš„æ˜¯ ï¼ˆæœ‰å‘å›¾ï¼‰ è¿™æ¬¡0-1-2-3 ä¸ä»…0-1è¿é€š 0-3ä¹Ÿè¿é€š è¦åæ˜ è¿™æ ·çš„ä¸€ç§å…³ç³» éœ€è¦å»ºç«‹ä¸€ä¸ªäºŒç»´æ•°ç»„è¡¨ç¤ºä»–ä»¬çš„è¿é€šå…³ç³»  æ¯æ¬¡popå–å‡ºä¸€ä¸ªç‚¹ è¿™ä¸ªç‚¹æ˜¯xè¿å‘çš„æ‰€æœ‰ç‚¹ å³åˆ—è¡¨graph[x] éå†é‡Œé¢çš„æ¯ä¸ªå…ƒç´  ï¼ˆå…¥åº¦å‡ä¸€ç­‰æ“ä½œï¼‰ éå†æ¯ä¸€ä¸ªnumCourseçš„ç‚¹ å¦‚æœä»–è·Ÿxæœ‰è¿æ¥ æˆ–è€…è·Ÿyæœ‰è¿æ¥å°±ä¸ºTrue ï¼ˆh-y or h-x-yï¼‰</span><br>        <span class="hljs-comment"># Toposort</span><br>        graph = defaultdict(<span class="hljs-built_in">list</span>)<br>        in_deg = [<span class="hljs-number">0</span>] * numCourses<br>        <span class="hljs-keyword">for</span> pre, cur <span class="hljs-keyword">in</span> prerequisites:<br>            graph[pre].append(cur)<br>            in_deg[cur] += <span class="hljs-number">1</span><br>        ret = [[<span class="hljs-literal">False</span>] * numCourses <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(numCourses)]<br>        q = deque([i <span class="hljs-keyword">for</span> i, x <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(in_deg) <span class="hljs-keyword">if</span> x == <span class="hljs-number">0</span>])<br>        <span class="hljs-keyword">while</span> q:<br>            x = q.popleft()<br>            <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> graph[x]:<br>                in_deg[y] -= <span class="hljs-number">1</span><br>                ret[x][y] = <span class="hljs-literal">True</span><br>                <span class="hljs-keyword">for</span> h <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(numCourses):<br>                    ret[h][y] = ret[h][y] <span class="hljs-keyword">or</span> ret[h][x]<br>                <span class="hljs-keyword">if</span> in_deg[y] == <span class="hljs-number">0</span>:<br>                    q.append(y)<br>        <span class="hljs-keyword">return</span> [ret[a][b] <span class="hljs-keyword">for</span> a, b <span class="hljs-keyword">in</span> queries]<br>    <br>    <br>        <span class="hljs-comment"># Floydçš„æ€è·¯ è¾¹æƒä¸ºTrue å»ºå¥½å›¾ä¹‹åç›´æ¥å¾ªç¯</span><br>        <span class="hljs-comment"># Floyd</span><br>        graph = [[<span class="hljs-literal">False</span>] * numCourses <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(numCourses)]<br>        <span class="hljs-keyword">for</span> pre, cur <span class="hljs-keyword">in</span> prerequisites:<br>            graph[pre][cur] = <span class="hljs-literal">True</span><br>        <br>        <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(numCourses):<br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(numCourses):<br>                <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(numCourses):<br>                    graph[i][j] = (graph[i][k] <span class="hljs-keyword">and</span> graph[k][j]) <span class="hljs-keyword">or</span> graph[i][j]<br><br>        <span class="hljs-keyword">return</span> [graph[i][j] <span class="hljs-keyword">for</span> i, j <span class="hljs-keyword">in</span> queries]<br></code></pre></td></tr></table></figure><h1 id="Problem-E-Codeforcesï¼ˆæ–°äºŒåˆ†æ¿å­ï¼‰"><a href="#Problem-E-Codeforcesï¼ˆæ–°äºŒåˆ†æ¿å­ï¼‰" class="headerlink" title="Problem - E - Codeforcesï¼ˆæ–°äºŒåˆ†æ¿å­ï¼‰"></a><a href="https://codeforces.com/contest/1850/problem/E">Problem - E - Codeforces</a>ï¼ˆæ–°äºŒåˆ†æ¿å­ï¼‰</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æ¥è‡ªtllwtgçš„ç®—æ³•æ¨¡æ¿</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">æ›´å¥½è®°å½•ç­”æ¡ˆ ä¹Ÿæ›´æœ‰é€»è¾‘</span><br><span class="hljs-string">if check():</span><br><span class="hljs-string">res = mid</span><br><span class="hljs-string">l = mid + 1</span><br><span class="hljs-string">else:</span><br><span class="hljs-string">r = mid - 1</span><br><span class="hljs-string"></span><br><span class="hljs-string">return res</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">import</span> math<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">solve</span>():<br>    n, c = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split())<br>    nums = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split()))<br><br>    l, r, res = <span class="hljs-number">1</span>, <span class="hljs-number">10</span> ** <span class="hljs-number">9</span>, -<span class="hljs-number">1</span><br><br>    <span class="hljs-keyword">while</span> l &lt;= r:<br>        mid = (l + r) // <span class="hljs-number">2</span><br>        <span class="hljs-keyword">if</span> c &gt;= <span class="hljs-built_in">sum</span>([(nums[i] + <span class="hljs-number">2</span> * mid ) ** <span class="hljs-number">2</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n)]):<br>            res = mid <br>            l = mid + <span class="hljs-number">1</span><br>        <span class="hljs-keyword">else</span>:<br>            r = mid - <span class="hljs-number">1</span><br>    <span class="hljs-built_in">print</span>(res)<br><br>n = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>())<br><span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>    solve()<br></code></pre></td></tr></table></figure><h1 id="Problem-D-Codeforces"><a href="#Problem-D-Codeforces" class="headerlink" title="Problem - D - Codeforces"></a><a href="https://codeforces.com/contest/1850/problem/D">Problem - D - Codeforces</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æ±‚å»æ‰å‡ ä¸ªå¯ä»¥ä½¿è¿ç»­çš„æœ€å¤§ å°±æ˜¯æ±‚æœ€å¤§ç„¶åç”¨nå‡å»</span><br><span class="hljs-comment"># ç”¨diffè®°å½•å·®å€¼ ä½†å…¶å®å¯ä»¥ä¼˜åŒ– æ¯•ç«Ÿæ’åºä¹‹å å·®å€¼åªéœ€è¦å’Œå‰ä¸€ä¸ªæ¯”è¾ƒå³å¯</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">solve</span>():<br>    n, k = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split())<br>    nums = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split()))<br>    nums.sort()<br>    diff = [<span class="hljs-number">0</span>] * n<br>    diff[<span class="hljs-number">0</span>] = nums[<span class="hljs-number">0</span>]<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n):<br>        diff[i] = nums[i] - nums[i - <span class="hljs-number">1</span>]<br>    <span class="hljs-comment"># print(diff)</span><br>    cnt = <span class="hljs-number">1</span><br>    maxi = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n):<br>        <span class="hljs-keyword">if</span> diff[i] &lt;= k:<br>            cnt += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">else</span>:<br>            maxi = <span class="hljs-built_in">max</span>(maxi, cnt)<br>            cnt = <span class="hljs-number">1</span><br>    maxi = <span class="hljs-built_in">max</span>(maxi, cnt)<br>    <span class="hljs-built_in">print</span>(n - maxi)<br>    <br><br>n = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>())<br><span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>    solve()<br>    <br><span class="hljs-comment"># ä¼˜åŒ–</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">solve</span>():<br>    n, k = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split())<br>    nums = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split()))<br>    nums.sort()<br>    <br>    <br>    cnt = <span class="hljs-number">1</span><br>    maxi = <span class="hljs-number">0</span><br>    pre = nums[<span class="hljs-number">0</span>]<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n):<span class="hljs-comment"># 0ä¸çœ‹ å› ä¸ºcntåˆå§‹å€¼ä¸º1 ä»1å¼€å§‹</span><br>        <span class="hljs-keyword">if</span> nums[i] - pre &gt; m:<br>            maxi = <span class="hljs-built_in">max</span>(maxi, cnt)<br>            cnt = <span class="hljs-number">1</span><br>        <span class="hljs-keyword">else</span>:<br>            cnt += <span class="hljs-number">1</span><br>    pre = nums[i]<br>    maxi = <span class="hljs-built_in">max</span>(maxi, cnt)<br>    <span class="hljs-built_in">print</span>(n - maxi)<br>    <br>    <br>n = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>())<br><span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>    solve()<br></code></pre></td></tr></table></figure><h1 id="5151-ç¨‹åºè°ƒç”¨-AcWingé¢˜åº“"><a href="#5151-ç¨‹åºè°ƒç”¨-AcWingé¢˜åº“" class="headerlink" title="5151. ç¨‹åºè°ƒç”¨ - AcWingé¢˜åº“"></a><a href="https://www.acwing.com/problem/content/description/5154/">5151. ç¨‹åºè°ƒç”¨ - AcWingé¢˜åº“</a></h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// é€šè¿‡ç´¢å¼•æ‰¾å€¼ å†é€šè¿‡å€¼æ‰¾ç´¢å¼•  å¹¶ä¸”å®ç°äº¤æ¢ ä¸»è¦æ˜¯ä¸¤ä¸ªæ•°ç»„ ä¸€ä¸ªæ˜¯åŸæ•°ç»„ ä¸€ä¸ªæ˜¯posæ•°ç»„ æ³¨æ„æ¯æ¬¡äº¤æ¢çš„æ—¶å€™ä¸¤ä¸ªæ•°ç»„éƒ½è¦äº¤æ¢ çŸ¥é“å€¼a pos[a]å³ä¸ºç´¢å¼• é‚£açš„å‰ä¸€ä¸ªæ•°å°±æ˜¯pos[a] - 1 ç„¶åäº¤æ¢</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">7</span>;<br><span class="hljs-type">int</span> s[N];<br><span class="hljs-type">int</span> f[N];<br><span class="hljs-type">int</span> w[N];<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> n, m, k;<br>cin &gt;&gt; n &gt;&gt; m &gt;&gt; k;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>&#123;<br>cin &gt;&gt; s[i];<br>f[s[i]] = i;<br>w[i] = (i - <span class="hljs-number">1</span>) / k + <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-type">long</span> <span class="hljs-type">long</span> ret = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++)<br>&#123;<br><span class="hljs-type">int</span> x;<br>cin &gt;&gt; x;<br>ret += w[f[x]];<br><br><span class="hljs-keyword">if</span> (f[x] == <span class="hljs-number">1</span>)<span class="hljs-keyword">continue</span>;<br><br><span class="hljs-built_in">swap</span>(s[f[x]], s[f[x] - <span class="hljs-number">1</span>]);<br><span class="hljs-built_in">swap</span>(f[s[f[x]]], f[s[f[x] - <span class="hljs-number">1</span>]]);<br>&#125;<br>cout &lt;&lt; ret;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="213-æ‰“å®¶åŠ«èˆ-II-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#213-æ‰“å®¶åŠ«èˆ-II-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="213. æ‰“å®¶åŠ«èˆ II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/house-robber-ii/">213. æ‰“å®¶åŠ«èˆ II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æ‰“å®¶åŠ«èˆ1æ˜¯ä¸€ä¸ªåŠ¨æ€è§„åˆ’é—®é¢˜ ç”¨f[k]æ¥è¡¨ç¤º å‰ké—´æˆ¿å­æœ€å¤šèƒ½å·å¤šå°‘é’± å½“k=nçš„æ—¶å€™å°±æ˜¯ç­”æ¡ˆ çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºf[i] = max(f[i -  1], f[i - 2] + nums[i]) é€‰i-1æˆ–è€…é€‰i-2 + nums[i]  æœ€å å¦‚ä¸‹çš„å†™æ³•æ˜¯ä¼˜åŒ–ç©ºé—´å¤æ‚åº¦çš„å†™æ³• å› ä¸ºæ¯æ¬¡ä»…éœ€è¦å‰ä¸¤ä¸ªæ•°å’Œå½“å‰è¿™ä¸ªæ•° æ‰€ä»¥å¯ä»¥äº¤æ›¿ä½¿ç”¨</span><br><span class="hljs-comment"># æ‰“å®¶åŠ«èˆ2åœ¨1çš„åŸºç¡€ä¸ŠæŠŠé¦–å°¾ç›¸è¿æˆç¯ è¿™å°±å¯¼è‡´é¦–å°¾é€‰ä¸é€‰çš„é—®é¢˜ è¿™æ ·çš„ç¯çš„é—®é¢˜å…¶å®å¯ä»¥å…ˆæ’é™¤æ‰ç¯çš„å½±å“å†æ¥åš å³åˆ†ä¸ºä¸¤ç±» é¦–éƒ¨é€‰æˆ–ä¸é€‰ï¼ˆå¿…å®šå¯ä¸”ä»…å¯åˆ†ä¸ºä¸¤ç±»ï¼‰é€‰é¦–éƒ¨çš„æ—¶å€™ å°¾éƒ¨ä¸èƒ½é€‰ï¼ˆç¬¬äºŒä¸ªä¹Ÿä¸èƒ½é€‰ï¼‰ é‚£å°±æ˜¯[2:-1] ä¸é€‰é¦–éƒ¨çš„æ—¶å€™ å°±æ˜¯[1:]ç„¶åçœ‹çœ‹å“ªä¸ªæ›´å¤§ï¼ˆæœ‰ç‚¹ç±»ä¼¼ä¹‹å‰å®è®­è¯¾åšè¿‡çš„æšä¸¾ï¼‰</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">rob1</span>(<span class="hljs-params">self, nums:<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>)-&gt;<span class="hljs-built_in">int</span>:<br>        f0 = f1 = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> nums:<br>            f0, f1 = f1, <span class="hljs-built_in">max</span>(f0 + x, f1)<br>        <br>        <span class="hljs-keyword">return</span> f1<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">rob</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">max</span>(nums[<span class="hljs-number">0</span>] + self.rob1(nums[<span class="hljs-number">2</span>:-<span class="hljs-number">1</span>]), self.rob1(nums[<span class="hljs-number">1</span>:]))<br>        <br></code></pre></td></tr></table></figure><h1 id="337-æ‰“å®¶åŠ«èˆ-III-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#337-æ‰“å®¶åŠ«èˆ-III-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="337. æ‰“å®¶åŠ«èˆ III - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/house-robber-iii/discussion/">337. æ‰“å®¶åŠ«èˆ III - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æ ‘å½¢DP è¿˜æ˜¯ä¸€æ ·åˆ†æ æ ¹èŠ‚ç‚¹é€‰æˆ–è€…ä¸é€‰ï¼ˆæ³¨æ„æ ¹èŠ‚ç‚¹ä¸é€‰ ä¸‹ä¸€ä¸ªç»“ç‚¹ä¹Ÿä¸ä¸€å®šè¦é€‰ï¼‰æ±‚å‡º å·¦å­æ ‘ä¸é€‰æ ¹çš„æœ€å¤§å€¼å’Œå·¦å­æ ‘é€‰æ ¹çš„æœ€å¤§å€¼ å’Œ å³å­æ ‘ä¸é€‰æ ¹çš„æœ€å¤§å€¼å’Œå³å­æ ‘é€‰æ ¹çš„æœ€å¤§å€¼ å¦‚æœé€‰æ ¹ é‚£ä¹ˆæ€»å…±çš„æœ€å¤§å€¼å°±æ˜¯æ ¹+å·¦ä¸é€‰æ ¹+å³ä¸é€‰æ ¹ å¦‚æœä¸é€‰æ ¹ é‚£å°±æ˜¯å·¦å­æ ‘æœ€å¤§ï¼ˆé€‰æ ¹å’Œä¸é€‰æ ¹ çš„æœ€å¤§ï¼‰å’Œå³å­æ ‘æœ€å¤§ ç›¸åŠ </span><br><span class="hljs-comment"># æ³¨æ„å…ˆæƒ³å¥½dfsæ˜¯åšä»€ä¹ˆçš„  ä»rootå¼€å§‹ è¿”å›é€‰rootçš„æœ€å¤§å€¼ å’Œä¸é€‰rootçš„æœ€å¤§å€¼</span><br><br><span class="hljs-comment"># Definition for a binary tree node.</span><br><span class="hljs-comment"># class TreeNode:</span><br><span class="hljs-comment">#     def __init__(self, val=0, left=None, right=None):</span><br><span class="hljs-comment">#         self.val = val</span><br><span class="hljs-comment">#         self.left = left</span><br><span class="hljs-comment">#         self.right = right</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">rob</span>(<span class="hljs-params">self, root: <span class="hljs-type">Optional</span>[TreeNode]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">dfs</span>(<span class="hljs-params">root</span>):<br>            <span class="hljs-keyword">if</span> root <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>, <span class="hljs-number">0</span><br>           l_rob, l_not_rob = dfs(root.left)<br>            r_rob, r_not_rob = dfs(root.right)<br>            rob = root.val + l_not_rob + r_not_rob<br>            not_rob = <span class="hljs-built_in">max</span>(l_rob, l_not_rob) + <span class="hljs-built_in">max</span>(r_rob, r_not_rob)<br>            <span class="hljs-keyword">return</span> rob, not_rob<br>        <br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">max</span>(dfs(root))<br></code></pre></td></tr></table></figure><h1 id="2560-æ‰“å®¶åŠ«èˆ-IV-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#2560-æ‰“å®¶åŠ«èˆ-IV-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="2560. æ‰“å®¶åŠ«èˆ IV - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/house-robber-iv/solutions/2093952/er-fen-da-an-dp-by-endlesscheng-m558/">2560. æ‰“å®¶åŠ«èˆ IV - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># äºŒåˆ†ç­”æ¡ˆ æœ€å°åŒ–èƒ½å¤ŸæŠ¢åˆ°çš„æœ€å¤§å€¼ ç±»ä¼¼çš„è¡¨è¿°å°±æ˜¯äºŒåˆ†ç­”æ¡ˆçš„å¥—è·¯</span><br><span class="hljs-comment"># äºŒåˆ†å·å–çš„é’±æ•°ï¼ˆå¾—åˆ°æœ€å°å€¼ï¼‰  å½“å·ç›—çš„æˆ¿å­æ•°æ»¡è¶³kçš„æ—¶å€™ å°±å¯ä»¥æˆä¸ºä¸€ä¸ªç­”æ¡ˆ  æœ¬è§£è¿˜æœ‰è´ªå¿ƒ åªè¦é‡åˆ°å¯å·çš„å°±ç«‹å³å·</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">minCapability</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], k: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        minn = <span class="hljs-built_in">min</span>(nums)<br>        maxn = <span class="hljs-built_in">max</span>(nums)<br>        res = -<span class="hljs-number">1</span><br>        <span class="hljs-keyword">while</span> minn &lt;= maxn:<br>            mid = (maxn + minn) // <span class="hljs-number">2</span><br>            cnt = <span class="hljs-number">0</span><br>            vis = <span class="hljs-literal">False</span><br>            <span class="hljs-keyword">for</span> num <span class="hljs-keyword">in</span> nums:<br>                <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> vis <span class="hljs-keyword">and</span> num &lt;= mid:<br>                    cnt += <span class="hljs-number">1</span><br>                    vis = <span class="hljs-literal">True</span><br>                <span class="hljs-keyword">else</span>:<br>                    vis = <span class="hljs-literal">False</span><br>            <span class="hljs-keyword">if</span> cnt &lt; k:<br>                <br>                minn = mid + <span class="hljs-number">1</span><br>            <span class="hljs-keyword">else</span>:<br>                res = mid<br>                maxn = mid - <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> res<br>    <br><span class="hljs-comment"># ä¹Ÿå¯ä»¥ç”¨äºŒåˆ†+åŠ¨æ€è§„åˆ’ çŠ¶æ€è¡¨ç¤ºä¸ºä»0~iå¯å·çš„æˆ¿é—´æ•°ä¸ºf[i] çŠ¶æ€è®¡ç®—ä¸ºf[i] = max(f[i - 1], f[i - 1] + 1) </span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">minCapability</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], k: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">solve</span>(<span class="hljs-params">mx: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>            f0 = f1 = <span class="hljs-number">0</span><br>            <span class="hljs-keyword">for</span> num <span class="hljs-keyword">in</span> nums:<br>                <span class="hljs-keyword">if</span> num &lt;= mx:<br>                   f0, f1 = f1, <span class="hljs-built_in">max</span>(f1, f0 + <span class="hljs-number">1</span>)<br>            <span class="hljs-keyword">else</span>:<br>                    f0 = f1<br>           <span class="hljs-keyword">return</span>  f1<br>       <span class="hljs-keyword">return</span> bisect_left(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">max</span>(nums)), k, key=solve)<br></code></pre></td></tr></table></figure><h1 id="2603-æ”¶é›†æ ‘ä¸­é‡‘å¸-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#2603-æ”¶é›†æ ‘ä¸­é‡‘å¸-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="2603. æ”¶é›†æ ‘ä¸­é‡‘å¸ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/collect-coins-in-a-tree/">2603. æ”¶é›†æ ‘ä¸­é‡‘å¸ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">collectTheCoins</span>(<span class="hljs-params">self, coins: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], edges: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        n = <span class="hljs-built_in">len</span>(coins)<br>        graph = [[] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n)]<br>        <span class="hljs-keyword">for</span> a, b <span class="hljs-keyword">in</span> edges:<br>            graph[a].append(b)<br>            graph[b].append(a)<br>        <br>        deg = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">len</span>, graph))<br>        q = deque()<br>        res = n - <span class="hljs-number">1</span> <span class="hljs-comment"># æ€»è¾¹æ•°</span><br>        <span class="hljs-comment"># å…ˆæŠŠæ²¡æœ‰é‡‘å¸çš„å¶å­èŠ‚ç‚¹å­˜å…¥æ•°ç»„ï¼ˆç›¸å½“äºæ‹“æ‰‘æ’åºçš„æ”¾å…¥å…¥åº¦ä¸º0çš„ç‚¹</span><br>        <span class="hljs-keyword">for</span> i, (d, c) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(<span class="hljs-built_in">zip</span>(deg, coins)):<br>            <span class="hljs-keyword">if</span> d == <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> c == <span class="hljs-number">0</span>:<br>                q.append(i)<br>        <span class="hljs-comment"># åˆ é™¤æ‰€æœ‰æ²¡æœ‰é‡‘å¸çš„å¶å­èŠ‚ç‚¹</span><br>        <span class="hljs-keyword">while</span> q:<br>            x = q.popleft()<br>            res -= <span class="hljs-number">1</span> <span class="hljs-comment"># æ¯æ¬¡å¾ªç¯éƒ½ä¼šåˆ æ‰ä¸€æ¡è¾¹</span><br>            <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> graph[x]:<br>                deg[y] -= <span class="hljs-number">1</span><br>                <span class="hljs-keyword">if</span> deg[y] == <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> coins[y] == <span class="hljs-number">0</span>:<br>                    q.append(y)<br><br>        <span class="hljs-comment"># åˆ é™¤æœ€ä¸‹é¢ä¸¤å±‚ç»“ç‚¹ï¼ˆå¶å­ç»“ç‚¹å’Œå¶å­èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼‰ï¼ˆæ­¤æ—¶çš„å¶å­èŠ‚ç‚¹æ˜¯å«é‡‘å¸çš„å› ä¸ºä¸å«çš„å·²ç»åˆ é™¤ï¼‰</span><br>        <span class="hljs-keyword">for</span> i, (d, c) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(<span class="hljs-built_in">zip</span>(deg, coins)):<br>            <span class="hljs-keyword">if</span> d == <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> c == <span class="hljs-number">1</span>:<br>                q.append(i)<br>        <span class="hljs-comment"># è¿™ä¸€å±‚çš„æ‰€æœ‰å«é‡‘å¸çš„å¶å­éƒ½è¢«åˆ é™¤äº† é‚£ä¹ˆè¿™äº›çº¿å°±ä¸ç”¨èµ°äº† åˆ é™¤çš„æ€»æ•°å°±æ˜¯len(q)      </span><br>        res -= <span class="hljs-built_in">len</span>(q)<br><br>        <span class="hljs-comment"># æ¥ä¸‹æ¥åˆ é™¤å¶å­èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼ˆå¶å­åœ¨ä¸Šé¢å·²ç»åˆ é™¤ï¼‰</span><br>        <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> q:<br>            <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> graph[x]:<br>                deg[y] -= <span class="hljs-number">1</span><br>                <span class="hljs-keyword">if</span> deg[y] == <span class="hljs-number">1</span>:<br>                    res -= <span class="hljs-number">1</span><br><br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">max</span>(<span class="hljs-number">0</span>, res * <span class="hljs-number">2</span>)<br></code></pre></td></tr></table></figure><h1 id="1993-æ ‘ä¸Šçš„æ“ä½œ-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#1993-æ ‘ä¸Šçš„æ“ä½œ-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="1993. æ ‘ä¸Šçš„æ“ä½œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/operations-on-tree/?envType=daily-question&envId=2023-09-23">1993. æ ‘ä¸Šçš„æ“ä½œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">LockingTree</span>:<br><span class="hljs-comment"># åˆå§‹åŒ–éœ€è¦æœ‰çˆ¶èŠ‚ç‚¹å’Œæ¯ä¸ªçˆ¶èŠ‚ç‚¹çš„å­èŠ‚ç‚¹</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, parent: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>):<br>        n = <span class="hljs-built_in">len</span>(parent)<br>        self.parent = parent<br>        self.lockNodeUser = [-<span class="hljs-number">1</span>] * n<br>        self.children = [[] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n)]<br>        <br>        <span class="hljs-keyword">for</span> node, p <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(parent):<br>            <span class="hljs-keyword">if</span> p != -<span class="hljs-number">1</span>:<br>                self.children[p].append(node)<br><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">lock</span>(<span class="hljs-params">self, num: <span class="hljs-built_in">int</span>, user: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">bool</span>:<br>        <span class="hljs-keyword">if</span> self.lockNodeUser[num] == -<span class="hljs-number">1</span>:<br>            self.lockNodeUser[num] = user<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">unlock</span>(<span class="hljs-params">self, num: <span class="hljs-built_in">int</span>, user: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">bool</span>:<br>        <span class="hljs-keyword">if</span> self.lockNodeUser[num] == user:<br>            self.lockNodeUser[num] = -<span class="hljs-number">1</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br><span class="hljs-comment"># éš¾ç‚¹ä¸»è¦æ˜¯æ›´æ–° å¦‚æœè¯¥ç»“ç‚¹æ²¡æœ‰ä¸Šé” å¹¶ä¸”ç¥–å…ˆæ²¡æœ‰ä¸Šé” å¹¶ä¸”å­©å­æœ‰ä¸Šé”ï¼ˆåŒæ—¶è§£é”æ‰€æœ‰å­©å­ï¼‰ </span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">upgrade</span>(<span class="hljs-params">self, num: <span class="hljs-built_in">int</span>, user: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">bool</span>:<br>        res = self.lockNodeUser[num] == -<span class="hljs-number">1</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> self.haslockedansester(num) <span class="hljs-keyword">and</span> self.checkandlockdescendant(num)<br>        <span class="hljs-keyword">if</span> res:<br>            self.lockNodeUser[num] = user<br>        <span class="hljs-keyword">return</span> res<br>    <span class="hljs-comment"># ç”±çˆ¶èŠ‚ç‚¹ä¸æ–­å‘ä¸Š ç›´åˆ°æ ¹èŠ‚ç‚¹ å¦‚æœæœ‰ä¸Šé”çš„ å°±ç›´æ¥è¿”å› å¦åˆ™å°±ç»§ç»­å‘ä¸Š</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">haslockedansester</span>(<span class="hljs-params">self, num: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">bool</span>:<br>        res = self.parent[num]<br>        <span class="hljs-keyword">while</span> num != -<span class="hljs-number">1</span>:<br>            <span class="hljs-keyword">if</span> self.lockNodeUser[num] != -<span class="hljs-number">1</span>:<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>            <span class="hljs-keyword">else</span>:<br>                num = self.parent[num]<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br><span class="hljs-comment"># å¦‚æœæ‰¾åˆ°äº†ä¸€ä¸ªä¸Šé”çš„å­èŠ‚ å°±ç›´æ¥è§£é”  å› ä¸ºåªè¦æœ‰ä¸Šé” å°±è¡¨ç¤ºæ»¡è¶³è¦æ±‚ éœ€è¦è§£é” è€Œå¦‚æœéƒ½æ²¡æœ‰ä¸Šé” é‚£è§£é”æ“ä½œä¹Ÿä¸ä¼šå½±å“åŸæ¥çš„ç»“ç‚¹</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">checkandlockdescendant</span>(<span class="hljs-params">self, num: <span class="hljs-built_in">int</span></span>)-&gt;<span class="hljs-built_in">bool</span>:<br>        res = self.lockNodeUser[num] != -<span class="hljs-number">1</span><br>        self.lockNodeUser[num] = -<span class="hljs-number">1</span><br>        <span class="hljs-keyword">for</span> child <span class="hljs-keyword">in</span> self.children[num]:<br>            res |= self.checkandlockdescendant(child)<br>        <span class="hljs-keyword">return</span> res<br><span class="hljs-comment"># Your LockingTree object will be instantiated and called as such:</span><br><span class="hljs-comment"># obj = LockingTree(parent)</span><br><span class="hljs-comment"># param_1 = obj.lock(num,user)</span><br><span class="hljs-comment"># param_2 = obj.unlock(num,user)</span><br><span class="hljs-comment"># param_3 = obj.upgrade(num,user)</span><br></code></pre></td></tr></table></figure><h1 id="146-LRU-ç¼“å­˜-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#146-LRU-ç¼“å­˜-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="146. LRU ç¼“å­˜ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/lru-cache/?envType=daily-question&envId=2023-09-24">146. LRU ç¼“å­˜ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Node</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, key=<span class="hljs-number">0</span>, value=<span class="hljs-number">0</span></span>):<br>        self.value = value<br>        self.<span class="hljs-built_in">next</span> = <span class="hljs-literal">None</span><br>        self.prev = <span class="hljs-literal">None</span><br>        self.key = key<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">LRUCache</span>:<br>    <span class="hljs-comment"># å› ä¸ºéœ€è¦O(1) çš„å­˜å– æ‰€ä»¥ä½¿ç”¨åŒå‘é“¾è¡¨åŠ å­—å…¸</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, capacity: <span class="hljs-built_in">int</span></span>):<br>        self.capacity = capacity<br>        self.head = Node()<br>        self.head.prev = self.head<br>        self.head.<span class="hljs-built_in">next</span> = self.head<br>        self.<span class="hljs-built_in">map</span> = <span class="hljs-built_in">dict</span>()<br><br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get</span>(<span class="hljs-params">self, key: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        node = self.get_node(key)<br>        <span class="hljs-keyword">return</span> node.value <span class="hljs-keyword">if</span> node <span class="hljs-keyword">else</span> -<span class="hljs-number">1</span><br><br>    <span class="hljs-comment"># æ’å…¥ å¦‚æœå·²ç»åœ¨çš„è¯å°±ä¿®æ”¹ å¦‚æœä¸åœ¨çš„è¯é¦–å…ˆ åœ¨mapä¸­è®°å½• å¦‚ä½•æ’å…¥é“¾è¡¨å¤´ å¦‚æœå¤§äºcapacityçš„è¯ å°±åˆ é™¤é“¾è¡¨å°¾(å› ä¸ºä¸€å¼€å§‹æŠŠæ¯æ¬¡è®¿é—®çš„éƒ½æ”¾åœ¨å¤´éƒ¨äº†ï¼ˆLRUçš„ç‰¹æ€§ï¼‰æ‰€ä»¥åˆ é™¤çš„æ—¶å€™å°±å¯ä»¥ç›´æ¥åˆ é™¤å°¾éƒ¨)</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">put</span>(<span class="hljs-params">self, key: <span class="hljs-built_in">int</span>, value: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-literal">None</span>:<br>        node = self.get_node(key)<br>        <span class="hljs-keyword">if</span> node:<br>            node.value = value<br>            <span class="hljs-keyword">return</span><br>        <br>        self.<span class="hljs-built_in">map</span>[key] = node = Node(key, value)<br>        self.push_front(node)<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(self.<span class="hljs-built_in">map</span>) &gt; self.capacity:<br>            back_node = self.head.prev<br>            <span class="hljs-keyword">del</span> self.<span class="hljs-built_in">map</span>[back_node.key]<br>            self.remove(back_node)<br><br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">push_front</span>(<span class="hljs-params">self, x: Node</span>):<br>        x.prev = self.head<br>        x.<span class="hljs-built_in">next</span> = self.head.<span class="hljs-built_in">next</span><br>        self.head.<span class="hljs-built_in">next</span>.prev = x<br>        self.head.<span class="hljs-built_in">next</span> = x<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">remove</span>(<span class="hljs-params">self, x: Node</span>):<br>        x.prev.<span class="hljs-built_in">next</span> = x.<span class="hljs-built_in">next</span><br>        x.<span class="hljs-built_in">next</span>.prev = x.prev<br><br>    <span class="hljs-comment"># æŸ¥æ‰¾ å¦‚æœkeyä¸åœ¨mapçš„è¯ return None å¦åˆ™æŠŠä»–æ”¾åˆ°é“¾è¡¨å¤´</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_node</span>(<span class="hljs-params">self, key: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-type">Optional</span>[Node]:<br>        <span class="hljs-keyword">if</span> key <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> self.<span class="hljs-built_in">map</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br>        node = self.<span class="hljs-built_in">map</span>[key]<br>        self.remove(node)<br>        self.push_front(node)<br>        <span class="hljs-keyword">return</span> node<br><br><span class="hljs-comment"># Your LRUCache object will be instantiated and called as such:</span><br><span class="hljs-comment"># obj = LRUCache(capacity)</span><br><span class="hljs-comment"># param_1 = obj.get(key)</span><br><span class="hljs-comment"># obj.put(key,value)</span><br></code></pre></td></tr></table></figure><h1 id="460-LFU-ç¼“å­˜-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#460-LFU-ç¼“å­˜-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="460. LFU ç¼“å­˜ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/lfu-cache/?envType=daily-question&envId=2023-09-25">460. LFU ç¼“å­˜ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Node</span>:<br>    <span class="hljs-comment"># ç»“ç‚¹çš„å®šä¹‰ åŒå‘é“¾è¡¨çš„ç»“ç‚¹åŠ ä¸Šå­—å…¸çš„keyå’Œè®¿é—®æ¬¡æ•°cnt</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, key=<span class="hljs-number">0</span>,value=<span class="hljs-number">0</span>,<span class="hljs-built_in">next</span>=<span class="hljs-literal">None</span>,prev=<span class="hljs-literal">None</span></span>):<br>        self.value = value<br>        self.<span class="hljs-built_in">next</span> = <span class="hljs-built_in">next</span><br>        self.prev = prev<br>        self.cnt = <span class="hljs-number">1</span><br>        self.key = key<br><br><span class="hljs-comment"># éœ€è¦å»ºä¸€ä¸ªæ¬¡æ•°è¡¨ æŠŠè®¿é—®æ¬¡æ•°ç›¸åŒçš„æ”¾åœ¨ä¸€èµ· ç”¨å­—å…¸å®ç° keyä¸ºè®¿é—®æ¬¡æ•°</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">LFUCache</span>:<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, capacity: <span class="hljs-built_in">int</span></span>):<br>        self.capacity = capacity<br>        self.key_to_node = <span class="hljs-built_in">dict</span>()<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">new_node</span>()-&gt;Node:<br>            head = Node()<br>            head.<span class="hljs-built_in">next</span> = head<br>            head.prev = head<br>            <span class="hljs-keyword">return</span> head<br>        self.freq_to_head = defaultdict(new_node)<br>    <br>        <br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get</span>(<span class="hljs-params">self, key: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        node = self.get_node(key)<br>        <span class="hljs-keyword">return</span> node.value <span class="hljs-keyword">if</span> node <span class="hljs-keyword">else</span> -<span class="hljs-number">1</span><br>    <span class="hljs-comment"># å½“è¿™æœ¬ä¹¦å·²ç»å­˜åœ¨çš„æ—¶å€™ ä¿®æ”¹å€¼ å¦åˆ™è¦æ”¾å…¥ï¼ˆè®¿é—®ä¸€æ¬¡ï¼‰ä¸­ï¼ˆæ³¨æ„å…ˆåˆ¤æ–­æ˜¯å¦å·²æ»¡ï¼‰</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">put</span>(<span class="hljs-params">self, key: <span class="hljs-built_in">int</span>, value: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-literal">None</span>:<br>        node = self.get_node(key)<br>        <span class="hljs-keyword">if</span> node:<br>            node.value = value<br>            <span class="hljs-keyword">return</span> <br>        <span class="hljs-comment"># å¦‚æœå·²æ»¡å°±æ‹¿å‡ºè®¿é—®min_freqæ¬¡çš„æœ€ä¸‹é¢çš„ä¹¦ï¼ˆæœ€ä¸å¸¸ç”¨ï¼‰</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(self.key_to_node) == self.capacity:<br>            phead = self.freq_to_head[self.min_freq]<br>            back_node = phead.prev <span class="hljs-comment"># æœ€ä¸å¸¸ç”¨çš„</span><br>            <span class="hljs-keyword">del</span> self.key_to_node[back_node.key]  <span class="hljs-comment"># ä»å­—å…¸åˆ é™¤</span><br>            self.remove(back_node) <span class="hljs-comment"># ä»é“¾è¡¨ä¸­åˆ é™¤</span><br>            <span class="hljs-comment"># å¦‚æœåˆ é™¤çš„æ˜¯å¤´ç»“ç‚¹ é‚£å°±ç›´æ¥æŠŠæ•´ä¸ªé“¾è¡¨åˆ é™¤äº†</span><br>            <span class="hljs-keyword">if</span> phead.prev == phead:<br>                <span class="hljs-keyword">del</span> self.freq_to_head[self.min_freq]<br>        <span class="hljs-comment"># æ’å…¥è¿™æœ¬ä¹¦</span><br>        self.key_to_node[key] = node = Node(key, value)<br>        <span class="hljs-comment"># æ”¾åˆ°æœ€ä¸Šé¢</span><br>        self.push_front(self.freq_to_head[<span class="hljs-number">1</span>],node)<br>        <span class="hljs-comment"># åˆšæ’å…¥çš„è®¿é—®æ¬¡æ•°å¿…å®šä¸º1</span><br>        self.min_freq = <span class="hljs-number">1</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">push_front</span>(<span class="hljs-params">self, head:Node, x:Node</span>):<br>        x.prev = head<br>        x.<span class="hljs-built_in">next</span> = head.<span class="hljs-built_in">next</span><br>        x.<span class="hljs-built_in">next</span>.prev = x<br>        x.prev.<span class="hljs-built_in">next</span> = x<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">remove</span>(<span class="hljs-params">self, x:Node</span>):<br>        x.prev.<span class="hljs-built_in">next</span> = x.<span class="hljs-built_in">next</span><br>        x.<span class="hljs-built_in">next</span>.prev = x.prev<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_node</span>(<span class="hljs-params">self, key: <span class="hljs-built_in">int</span></span>):<br>        <span class="hljs-keyword">if</span> key <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> self.key_to_node:<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br>        node = self.key_to_node[key]<span class="hljs-comment"># æ‰¾åˆ°è¿™æœ¬ä¹¦</span><br>        self.remove(node)<span class="hljs-comment"># å»æ‰</span><br>        phead = self.freq_to_head[node.cnt]<br>        <span class="hljs-comment"># å¦‚æœè¿™æœ¬ä¹¦åŸæ¥æ‰€åœ¨çš„é“¾è¡¨åªæœ‰ä»–ä¸€ä¸ª é‚£å°±åˆ é™¤é“¾è¡¨</span><br>        <span class="hljs-keyword">if</span> phead.prev == phead:<br>            <span class="hljs-keyword">del</span> self.freq_to_head[node.cnt]<br>            <span class="hljs-comment"># å¦‚æœè¿™æœ¬ä¹¦æ°å¥½æ˜¯è®¿é—®ä¸€æ¬¡çš„é“¾è¡¨ é‚£ä¹ˆåˆ é™¤ä¹‹åå°±æ²¡æœ‰è®¿é—®ä¸€æ¬¡çš„äº† è‡³å°‘ä¹Ÿæ˜¯è®¿é—®ä¸¤æ¬¡çš„</span><br>            <span class="hljs-keyword">if</span> self.min_freq == node.cnt:<br>                self.min_freq += <span class="hljs-number">1</span><br>        <span class="hljs-comment"># è¿™æœ¬ä¹¦è®¿é—®æ¬¡æ•°åŠ 1</span><br>        node.cnt += <span class="hljs-number">1</span><br>        <span class="hljs-comment"># æ’åˆ°æœ€ä¸Šé¢</span><br>        self.push_front(self.freq_to_head[node.cnt], node)<br>        <span class="hljs-keyword">return</span> node<br>        <br><br><span class="hljs-comment"># Your LFUCache object will be instantiated and called as such:</span><br><span class="hljs-comment"># obj = LFUCache(capacity)</span><br><span class="hljs-comment"># param_1 = obj.get(key)</span><br><span class="hljs-comment"># obj.put(key,value)</span><br></code></pre></td></tr></table></figure><h1 id="587-å®‰è£…æ …æ -åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#587-å®‰è£…æ …æ -åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="587. å®‰è£…æ …æ  - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/erect-the-fence/description/">587. å®‰è£…æ …æ  - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">outerTrees</span>(<span class="hljs-params">self, trees: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]:<br>        <span class="hljs-comment"># æ±‚æ‰«è¿‡çš„é¢ç§¯ å¦‚æœ&lt;0 è¯´æ˜éœ€è¦æ›´æ–°</span><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">cross</span>(<span class="hljs-params">p: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], q: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], r: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>            <span class="hljs-keyword">return</span> (q[<span class="hljs-number">0</span>] - p[<span class="hljs-number">0</span>]) * (r[<span class="hljs-number">1</span>] - q[<span class="hljs-number">1</span>]) - (q[<span class="hljs-number">1</span>] - p[<span class="hljs-number">1</span>]) * (r[<span class="hljs-number">0</span>] - q[<span class="hljs-number">0</span>])<br>        <br>        n = <span class="hljs-built_in">len</span>(trees)<br>        <span class="hljs-keyword">if</span> n &lt; <span class="hljs-number">4</span>:<br>            <span class="hljs-keyword">return</span> trees<br><br>        trees.sort()<br><br>        hull = [<span class="hljs-number">0</span>]<br>        used = [<span class="hljs-literal">False</span>] * n<br>        <span class="hljs-comment"># æ±‚å‡¸åŒ…ä¸‹åŠéƒ¨åˆ†</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n):<br>            <span class="hljs-keyword">while</span> <span class="hljs-built_in">len</span>(hull) &gt; <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> cross(trees[hull[-<span class="hljs-number">2</span>]], trees[hull[-<span class="hljs-number">1</span>]], trees[i]) &lt; <span class="hljs-number">0</span>:<br>                used[hull.pop()] = <span class="hljs-literal">False</span><br>            used[i] = <span class="hljs-literal">True</span><br>            hull.append(i)<br>        <span class="hljs-comment"># æ±‚å‡¸åŒ…çš„ä¸ŠåŠéƒ¨åˆ†</span><br>        m = <span class="hljs-built_in">len</span>(hull)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n - <span class="hljs-number">2</span>, -<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>):<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> used[i]:<br>                <span class="hljs-keyword">while</span> <span class="hljs-built_in">len</span>(hull) &gt; m <span class="hljs-keyword">and</span> cross(trees[hull[-<span class="hljs-number">2</span>]], trees[hull[-<span class="hljs-number">1</span>]], trees[i]) &lt; <span class="hljs-number">0</span>:<br>                    used[hull.pop()] = <span class="hljs-literal">False</span><br>                used[i] = <span class="hljs-literal">True</span><br>                hull.append(i)<br>        <span class="hljs-comment"># hull[0] æ˜¯èµ·ç‚¹ åŒæ—¶å‚åŠ ä¸ŠåŠéƒ¨åˆ†çš„æ£€æµ‹ æ‰€ä»¥è¦åˆ æ‰</span><br>        hull.pop()<br>        <span class="hljs-keyword">return</span> [trees[i] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> hull]<br></code></pre></td></tr></table></figure><h1 id="2251-èŠ±æœŸå†…èŠ±çš„æ•°ç›®-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#2251-èŠ±æœŸå†…èŠ±çš„æ•°ç›®-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="2251. èŠ±æœŸå†…èŠ±çš„æ•°ç›® - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/number-of-flowers-in-full-bloom/solutions/1445000/chai-fen-pythonjavacgo-by-endlesscheng-wz35/?envType=daily-question&envId=2023-09-28">2251. èŠ±æœŸå†…èŠ±çš„æ•°ç›® - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å·®åˆ†å‰ç¼€å’Œ ä¸éœ€è¦æ¯æ¬¡æŠŠæ¯ä¸ªåŒºé—´å…¨éƒ¨åŠ ä¸Š è¿™æ ·å¤æ‚åº¦è¿‡é«˜ è€Œæ˜¯åªéœ€è¦åœ¨åŒºé—´å¼€å¤´å¤„+1 åœ¨åŒºé—´ç»“å°¾å¤„-1 ç„¶åæ’åºä¿è¯è®¿é—®çš„æ—¶å€™æ˜¯éå†çš„é¡ºåº è®¡ç®—å‰ç¼€å’Œ  å¦‚ç¬¬ä¸€ä¸ªäººç¬¬äºŒåˆ†é’Ÿæ¥ é‚£å°±ç®—å‡ºç¬¬äºŒåˆ†é’Ÿæœ‰å‡ æœµèŠ± å°±æ˜¯ç¬¬äºŒåˆ†é’Ÿçš„å‰ç¼€å’Œ </span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">fullBloomFlowers</span>(<span class="hljs-params">self, flowers: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]], people: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        diff = Counter()<br>        <span class="hljs-keyword">for</span> s, e <span class="hljs-keyword">in</span> flowers:<br>            diff[s] += <span class="hljs-number">1</span><br>            diff[e + <span class="hljs-number">1</span>] -= <span class="hljs-number">1</span><br><br>        time = <span class="hljs-built_in">sorted</span>(diff.keys())<br>        s = j = <span class="hljs-number">0</span><br><br>        <span class="hljs-keyword">for</span> p, i <span class="hljs-keyword">in</span> <span class="hljs-built_in">sorted</span>(<span class="hljs-built_in">zip</span>(people, <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(people)))):<br>            <span class="hljs-keyword">while</span> j &lt; <span class="hljs-built_in">len</span>(time) <span class="hljs-keyword">and</span> time[j] &lt;= p:<br>                s += diff[time[j]]<br>                j += <span class="hljs-number">1</span><br>            people[i] = s<br><br>        <span class="hljs-keyword">return</span> people<br>    <br><span class="hljs-comment"># æˆ–è€…æ›´ç®€å•çš„ ç›´æ¥è®¡ç®—ç¬¬iåˆ†é’Ÿçš„èŠ±çš„æ•°é‡  ç”¨ç¬¬iåˆ†é’Ÿå¼€èŠ±çš„æ•°é‡å‡å»ç¬¬jåˆ†é’Ÿå¼€èŠ±çš„æ•°é‡ å¯¹å¼€èŠ±æ—¶é—´å’Œç»“æŸæ—¶é—´æ’åºè·å¾—startå’Œendæ•°ç»„ é€šè¿‡äºŒåˆ†å¯»æ‰¾å¼€èŠ±æ•°å’Œå‡‹è°¢æ•°</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">fullBloomFlowers</span>(<span class="hljs-params">self, flowers: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]], people: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        start = <span class="hljs-built_in">sorted</span>(s <span class="hljs-keyword">for</span> s, _ <span class="hljs-keyword">in</span> flowers)<br>        end = <span class="hljs-built_in">sorted</span>(e <span class="hljs-keyword">for</span> _, e <span class="hljs-keyword">in</span> flowers)<br>        <span class="hljs-keyword">return</span> [bisect_right(start, p) - bisect_left(end, p) <span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> people]<br>    <br></code></pre></td></tr></table></figure><h1 id="2731-ç§»åŠ¨æœºå™¨äºº-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#2731-ç§»åŠ¨æœºå™¨äºº-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="2731. ç§»åŠ¨æœºå™¨äºº - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/movement-of-robots/">2731. ç§»åŠ¨æœºå™¨äºº - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><p>å‘ç° æœ€ååªéœ€è¦è®¡ç®—æœºå™¨äººçš„é—´éš” å·¦å³ç›¸ç¢°ä¹‹åè½¬å‘ å…¶å®ä¹Ÿå°±å¯ä»¥è§†ä¸ºä¸¤ä¸ªä¹‹é—´äº’æ¢äº† ä¹‹é—´çš„ è·ç¦»ä¸ä¼šå—åˆ°å½±å“ </p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css">æ¯”å¦‚<span class="hljs-selector-tag">a</span> <span class="hljs-number">0</span>R <span class="hljs-selector-tag">b</span> <span class="hljs-number">2</span>L <span class="hljs-number">3s</span> <br><span class="hljs-number">1s</span> æ—¶åœ¨<span class="hljs-number">1</span> å¤„ç›¸ç¢°   è½¬å‘ <span class="hljs-selector-tag">a</span>å‘å·¦ <span class="hljs-selector-tag">b</span>å‘å³<br>ç„¶å<span class="hljs-number">3s</span>å  <span class="hljs-selector-tag">a</span>åœ¨-<span class="hljs-number">1</span> <span class="hljs-selector-tag">b</span>åœ¨<span class="hljs-number">3</span><br>å…¶å®ä¹Ÿå°±ç›¸å½“äº  <span class="hljs-selector-tag">a</span>ç›´æ¥èµ°<span class="hljs-number">3s</span>åˆ°<span class="hljs-number">3</span>  <span class="hljs-selector-tag">b</span>ç›´æ¥èµ°<span class="hljs-number">3s</span>åˆ°-<span class="hljs-number">1</span>  è·ç¦»ä¸å˜  æœºå™¨äººé—´ä¸éœ€è¦åŒºåˆ†<br></code></pre></td></tr></table></figure><p>ç„¶åè®¡ç®—è·ç¦»  ä¸¤ä¸¤ä¹‹é—´çš„å·®å¯ä»¥O(n)è®¡ç®—ï¼ï¼ä½†æ˜¯æ³¨æ„ å¿…é¡»æœ‰åº</p><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs subunit">1 3 4 8 9 ä¹‹é—´çš„å·®ä¸º<br>3<span class="hljs-string">-1</span> + 4<span class="hljs-string">-1</span> + 8<span class="hljs-string">-1</span> + 9<span class="hljs-string">-1</span><br>      4<span class="hljs-string">-3</span> + 8<span class="hljs-string">-3</span> + 9<span class="hljs-string">-3</span> <br>            8<span class="hljs-string">-4</span> + 9<span class="hljs-string">-4</span><br>                  9<span class="hljs-string">-8</span><br>å› æ­¤æ¯æ¬¡ç®—ä¸€ä¸ªå³å¯  ans + i * nums[i] è¡¨ç¤ºæ’içš„æ•°å…±è¢«åŠ äº†å‡ æ¬¡ 3 1æ¬¡ 4 ä¸¤æ¬¡ 8 ä¸‰æ¬¡ 9 å››æ¬¡<br>å†å‡å»s  sè¡¨ç¤ºæ¯æ¬¡å‡å»çš„æ•°  ç¬¬ä¸€æ¬¡å‡1  ç¬¬äºŒæ¬¡å‡4ï¼ˆ1 + 3ï¼‰ ç¬¬ä¸‰æ¬¡å‡8 ï¼ˆ1 + 3 + 4ï¼‰ ç¬¬å››æ¬¡å‡16ï¼ˆ1 + 3 + 4 + 8ï¼‰<br></code></pre></td></tr></table></figure><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">sumDistance</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], s: <span class="hljs-built_in">str</span>, d: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        n = <span class="hljs-built_in">len</span>(nums)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            f = -<span class="hljs-number">1</span> <span class="hljs-keyword">if</span> s[i] == <span class="hljs-string">&#x27;L&#x27;</span> <span class="hljs-keyword">else</span> <span class="hljs-number">1</span><br>            nums[i] += f * d<br>        nums.sort()<br><br>        ans = <span class="hljs-number">0</span><br>        s = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            ans += i * nums[i] - s<br>            s += nums[i]<br>        <span class="hljs-keyword">return</span> ans % (<span class="hljs-number">10</span> ** <span class="hljs-number">9</span> + <span class="hljs-number">7</span>)<br></code></pre></td></tr></table></figure><h1 id="2512-å¥–åŠ±æœ€é¡¶å°–çš„-K-åå­¦ç”Ÿ-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#2512-å¥–åŠ±æœ€é¡¶å°–çš„-K-åå­¦ç”Ÿ-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="2512. å¥–åŠ±æœ€é¡¶å°–çš„ K åå­¦ç”Ÿ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/reward-top-k-students/?envType=daily-question&envId=2023-10-11">2512. å¥–åŠ±æœ€é¡¶å°–çš„ K åå­¦ç”Ÿ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><p>ä¸éœ€è¦ç”¨ç»“æ„ä½“ä¹Ÿå¯ä»¥ ç”¨zipæ¥ç›´æ¥sort</p><p>ç”¨splitåˆ†å‰²å•è¯</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">topStudents</span>(<span class="hljs-params">self, positive_feedback: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>], negative_feedback: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>], report: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>], student_id: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], k: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        score = defaultdict(<span class="hljs-built_in">int</span>)<br>        <span class="hljs-keyword">for</span> w <span class="hljs-keyword">in</span> positive_feedback:<br>            score[w] = <span class="hljs-number">3</span><br>        <span class="hljs-keyword">for</span> w <span class="hljs-keyword">in</span> negative_feedback:<br>            score[w] = -<span class="hljs-number">1</span><br>        a = <span class="hljs-built_in">sorted</span>((-<span class="hljs-built_in">sum</span>(score[w] <span class="hljs-keyword">for</span> w <span class="hljs-keyword">in</span> r.split()), i) <span class="hljs-keyword">for</span> r, i <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(report, student_id))<br><br>        <span class="hljs-keyword">return</span> [i <span class="hljs-keyword">for</span> _, i <span class="hljs-keyword">in</span> a[:k]]<br></code></pre></td></tr></table></figure><h1 id="1488-é¿å…æ´ªæ°´æ³›æ»¥-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#1488-é¿å…æ´ªæ°´æ³›æ»¥-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="1488. é¿å…æ´ªæ°´æ³›æ»¥ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/avoid-flood-in-the-city/">1488. é¿å…æ´ªæ°´æ³›æ»¥ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><p>ä¸æ˜¯æ¯æ¬¡æ™´å¤©å°±å»å¯»æ‰¾æŠ½å“ªä¸ª  è€Œæ˜¯åˆ°äº†åé¢ å‘ç°ä»–è¦å‘æ´ªæ°´ä¹‹å å°±å»å‰é¢æ‰¾ä»–ä¸‹é›¨ä¹‹åçš„ç¬¬ä¸€ä¸ªæ™´å¤© æŠŠä»–çš„æ°´æŠ½å¹² å¦‚æœæ²¡æ‰¾åˆ° å°±ç›´æ¥è¿”å›ç©ºæ•°ç»„</p><p>æ³¨æ„ç”¨bisect_leftå¯»æ‰¾è¯¥æ¹–æ³Šä¸‹é›¨åç¬¬ä¸€ä¸ªæ™´å¤©</p><p>ç”¨popåˆ é™¤è¿™ä¸ªæ™´å¤©</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sortedcontainers <span class="hljs-keyword">import</span> SortedList<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">avoidFlood</span>(<span class="hljs-params">self, rains: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        n = <span class="hljs-built_in">len</span>(rains)<br>        ans = [<span class="hljs-number">1</span>] * n<br>        sun_day = SortedList()<br>        full = &#123;&#125;<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            <span class="hljs-keyword">if</span> rains[i] == <span class="hljs-number">0</span>:<br>                sun_day.add(i)<br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-keyword">if</span> rains[i] <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> full:<br>                    full[rains[i]] = i<br>                <span class="hljs-keyword">else</span>:<br>                    j = sun_day.bisect_left(full[rains[i]])<br>                    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-number">0</span> &lt;= j &lt; <span class="hljs-built_in">len</span>(sun_day):<br>                        <span class="hljs-keyword">return</span> []<br>                    ans[sun_day.pop(j)] = rains[i]<br>                    full[rains[i]] = i<br>                ans[i] = -<span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> ans<br></code></pre></td></tr></table></figure><h1 id="1726-åŒç§¯å…ƒç»„-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#1726-åŒç§¯å…ƒç»„-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="1726. åŒç§¯å…ƒç»„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/tuple-with-same-product/description/">1726. åŒç§¯å…ƒç»„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><p>ä¸éœ€è¦ä¸‰é‡å¾ªç¯æ¥æ‰¾ a * b &#x2F;&#x2F; c åœ¨å­—å…¸é‡Œé¢çš„</p><p>è€Œæ˜¯è®¡æ•°  è®°å½•ä¸‹åŒä¸€ä¸ªç§¯çš„ä¸¤ä¸ªæ•° çš„ç»„åˆæœ‰å¤šå°‘ç§  ç„¶åç”¨a * (a - 1)  è®¡ç®—ç§æ•°</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">tupleSameProduct</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        mp = defaultdict(<span class="hljs-built_in">int</span>)<br>        n = <span class="hljs-built_in">len</span>(nums)<br>        ans = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(i + <span class="hljs-number">1</span>, n):<br>                mp[nums[i] * nums[j]] += <span class="hljs-number">1</span><br>        m = <span class="hljs-built_in">len</span>(mp)<br>        <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> mp.values():<br>            ans += x * (x - <span class="hljs-number">1</span>) * <span class="hljs-number">4</span><br>        <span class="hljs-keyword">return</span> ans<br></code></pre></td></tr></table></figure><h1 id="2316-ç»Ÿè®¡æ— å‘å›¾ä¸­æ— æ³•äº’ç›¸åˆ°è¾¾ç‚¹å¯¹æ•°-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#2316-ç»Ÿè®¡æ— å‘å›¾ä¸­æ— æ³•äº’ç›¸åˆ°è¾¾ç‚¹å¯¹æ•°-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="2316. ç»Ÿè®¡æ— å‘å›¾ä¸­æ— æ³•äº’ç›¸åˆ°è¾¾ç‚¹å¯¹æ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/count-unreachable-pairs-of-nodes-in-an-undirected-graph/description/">2316. ç»Ÿè®¡æ— å‘å›¾ä¸­æ— æ³•äº’ç›¸åˆ°è¾¾ç‚¹å¯¹æ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><p>ä¸»è¦æ˜¯æœ€åè®¡ç®—ä¹˜æ³•è¶…æ—¶äº† ä¹˜æ³•ä¸éœ€è¦å†é¢å¤–å¾ªç¯æ¥è®¡ç®— å¯ä»¥ç›´æ¥åœ¨ BFSå¾ªç¯é‡Œé¢ç®—å‡ºå‰ç¼€å’Œ  ç„¶åç›¸ä¹˜  æ±‚å¾—ä¸¤ä¸¤ç›¸ä¹˜çš„å’Œ</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">countPairs</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span>, edges: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        q = deque()<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">bfs</span>(<span class="hljs-params">i</span>):<br>            q.append(i)<br>            s = <span class="hljs-number">1</span><br>            vis[i] = <span class="hljs-number">1</span><br>            <br>            <span class="hljs-keyword">while</span> q:<br>                x = q.popleft()<br>                <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> graph[x]:<br>                    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> vis[y]:<br>                        vis[y] = <span class="hljs-number">1</span><br>                        s += <span class="hljs-number">1</span><br>                        q.append(y)<br>            <span class="hljs-keyword">return</span> s<br>            <br>                    <br><br>        graph = defaultdict(<span class="hljs-built_in">list</span>)<br>        <span class="hljs-keyword">for</span> (a, b) <span class="hljs-keyword">in</span> edges:<br>            graph[a].append(b)<br>            graph[b].append(a)<br>        <br>        vis = [<span class="hljs-number">0</span>] * (n + <span class="hljs-number">1</span>)<br>        total = ret = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> vis[i]:<br>                size = bfs(i)<br>                ret += size * total<br>                total += size<br>        <span class="hljs-keyword">return</span> ret<br><br>        <br></code></pre></td></tr></table></figure><h1 id="1402-åšèœé¡ºåº-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#1402-åšèœé¡ºåº-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="1402. åšèœé¡ºåº - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/reducing-dishes/description/">1402. åšèœé¡ºåº - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><h2 id="åŠ¨æ€è§„åˆ’"><a href="#åŠ¨æ€è§„åˆ’" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h2><p>æ¯æ¬¡æœ‰é€‰å’Œä¸é€‰è¿™é“èœä¸¤ç§  ç”¨dp[i] [j] è¡¨ç¤ºå‰ié“èœç§é€‰äº†jé“èœ  è¾¾åˆ°çš„æœ€å¤§å€¼</p><p>å½“i &#x3D;&#x3D; jçš„æ—¶å€™å¿…é¡»é€‰ç¬¬ié“èœ</p><p>å…¶ä»–æ—¶å€™ å°±æ¯”è¾ƒä¸é€‰è¿™é“èœ dp[i - 1] [j]  å’Œé€‰è¿™é“èœdp[i -1 ] [j -1 ] + sa[i - 1] * j   </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">int</span> dp[<span class="hljs-number">550</span>][<span class="hljs-number">550</span>];<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>public:<br>    <span class="hljs-built_in">int</span> maxSatisfaction(vector&lt;<span class="hljs-built_in">int</span>&gt;&amp; satisfaction) &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-built_in">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">550</span>; i++)&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-built_in">int</span> j=<span class="hljs-number">0</span>; j&lt;<span class="hljs-number">550</span>; j++)<br>                dp[i][j] = <span class="hljs-number">0</span>;<br>        &#125;<br>        <span class="hljs-built_in">int</span> n = satisfaction.size();<br>        sort(satisfaction.begin(), satisfaction.end());<br>        dp[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br>        dp[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>] = satisfaction[<span class="hljs-number">0</span>];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-built_in">int</span> i=<span class="hljs-number">2</span>; i&lt;=n; i++)&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-built_in">int</span> j=<span class="hljs-number">0</span>; j&lt;=i; j++)&#123;<br>                <span class="hljs-keyword">if</span>(j==<span class="hljs-number">0</span>) dp[i][j] = <span class="hljs-number">0</span>;<br>                <span class="hljs-keyword">else</span>&#123;<br>                    <span class="hljs-keyword">if</span>(i==j) <br>                        dp[i][j]= dp[i-<span class="hljs-number">1</span>][j-<span class="hljs-number">1</span>]+satisfaction[i-<span class="hljs-number">1</span>]*j;<br>                    <span class="hljs-keyword">else</span><br>                        dp[i][j] = <span class="hljs-built_in">max</span>(dp[i-<span class="hljs-number">1</span>][j], dp[i-<span class="hljs-number">1</span>][j-<span class="hljs-number">1</span>]+satisfaction[i-<span class="hljs-number">1</span>]*j);<br>                &#125;<br>                <br>            &#125;<br>        &#125;<br>        <span class="hljs-built_in">int</span> ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-built_in">int</span> i=<span class="hljs-number">0</span>; i&lt;=n; i++)<br>            ans = <span class="hljs-built_in">max</span>(ans, dp[n][i]);<br>        <span class="hljs-keyword">return</span> ans;<br><br><br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="è´ªå¿ƒ"><a href="#è´ªå¿ƒ" class="headerlink" title="è´ªå¿ƒ"></a>è´ªå¿ƒ</h2><p><em>s</em>1+2<em>s</em>0&gt;<em>s</em>0å³<em>s</em>1+<em>s</em>0&gt;0</p><p><em>s</em>2+2<em>s</em>1+3<em>s</em>0&gt;<em>s</em>1+2<em>s</em>0å³<em>s</em>2+<em>s</em>1+<em>s</em>0&gt;0</p><p>å› æ­¤åªéœ€è¦åå‘éå†  æ‰¾åˆ°å‰é¢åŠ èµ·æ¥å¤§äº0çš„éƒ¨åˆ† çš„å’Œå°±æ˜¯æœ€å¤§çš„</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs py">sa.sort(key=<span class="hljs-keyword">lambda</span> x:-x)<br>        s = <span class="hljs-number">0</span><br>        ret = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> sa:<br>            <span class="hljs-keyword">if</span> s + c &gt; <span class="hljs-number">0</span>:<br>                s += c<br>                ret += s<br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-keyword">break</span><br>        <span class="hljs-keyword">return</span> ret<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Ans</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LCA</title>
    <link href="/2023/08/22/LCA/"/>
    <url>/2023/08/22/LCA/</url>
    
    <content type="html"><![CDATA[<p>Â·æœ€è¿‘å…¬å…±ç¥–å…ˆ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><code class="hljs python">root = <span class="hljs-number">1</span><br>num = <span class="hljs-number">0</span><br>dep = [<span class="hljs-number">0</span>] * <span class="hljs-number">1000010</span><br>f = [[<span class="hljs-number">0</span>] * <span class="hljs-number">21</span> <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1000001</span>)]<br>head = [-<span class="hljs-number">1</span>] * <span class="hljs-number">10000010</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Edge</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, to, <span class="hljs-built_in">next</span></span>):<br>self.to = to<br>         self.<span class="hljs-built_in">next</span> = <span class="hljs-built_in">next</span><br>            <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">addedge</span>(<span class="hljs-params">from_,to</span>):<br><span class="hljs-keyword">global</span> num<br>    num += <span class="hljs-number">1</span><br>    e[num] = Edge(to, head[from_])<br>    head[from_] = num<br>    <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">dfs</span>(<span class="hljs-params">v, father</span>):<br>dep[v] = dep[father] + <span class="hljs-number">1</span><br>    f[v][<span class="hljs-number">0</span>] = father<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">21</span>):<br>        f[v][i] = f[f[v][i-<span class="hljs-number">1</span>]][i-<span class="hljs-number">1</span>]<br>        <br>    i = head[v]<br>    <span class="hljs-keyword">while</span> i != -<span class="hljs-number">1</span>:<br>        p1 = e[i].to<br>        <span class="hljs-keyword">if</span> p1 == father:<br>            i = e[i].<span class="hljs-built_in">next</span><br>            <span class="hljs-keyword">continue</span><br>        dfs(p1,v)<br>        i = e[i].<span class="hljs-built_in">next</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">lca</span>(<span class="hljs-params">x, y</span>):<br><span class="hljs-keyword">if</span> dep[x] &lt; dep[y]:<br>        x, y = y, x<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">20</span>, -<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>):<br><span class="hljs-keyword">if</span> dep[f[x][i]] &gt;= dep[y]:<br>            x = f[x][i]<br>         <span class="hljs-keyword">if</span> x == y:<br><span class="hljs-keyword">return</span> x<br>        <br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">20</span>, -<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>):<br>        <span class="hljs-keyword">if</span> f[x][i] != f[y][i]:<br>            x = f[x][i]<br>            y = f[y][i]<br>            <br>    <span class="hljs-keyword">return</span> f[x][<span class="hljs-number">0</span>]<br><br><br>n, m, root = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split())<br>e = [Edge(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>) <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1000001</span>)]<br><span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n-<span class="hljs-number">1</span>):<br>    u, v = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split())<br>    addedge(u, v)<br>    addedge(v, u)<br><br><span class="hljs-comment"># å»ºç«‹ LCA é¢„å¤„ç†</span><br>dfs(root, <span class="hljs-number">0</span>)<br><br><span class="hljs-comment"># æŸ¥è¯¢ LCA</span><br><span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(m):<br>    x, y = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split())<br>    result = lca(x, y)<br>    <span class="hljs-built_in">print</span>(result)<br><br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> father)</span></span><br><span class="hljs-function"></span>&#123;<br>fa[x] = father;<br>de[x] = de[father] + <span class="hljs-number">1</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = head[x]; i; i = edge[i].next)<br>&#123;<br><span class="hljs-keyword">if</span> (edge[i].to != father)<br>&#123;<br><span class="hljs-built_in">dfs</span>(edge[i].to, x);<br>&#125;<br>&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">lca</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">while</span> (x != y)<br>&#123;<br><span class="hljs-keyword">if</span> (de[x] &gt;= de[y])<br>&#123;<br>x = fa[x];<br>&#125;<br><span class="hljs-keyword">else</span><br>y = fa[y];<br>&#125;<br><span class="hljs-keyword">return</span> x;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>algorithm</tag>
      
      <tag>lca</tag>
      
      <tag>Tree</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å›¾è®ºç›¸å…³ç®—æ³•</title>
    <link href="/2023/08/21/%E5%9B%BE%E8%AE%BA%E7%9B%B8%E5%85%B3%E7%AE%97%E6%B3%95/"/>
    <url>/2023/08/21/%E5%9B%BE%E8%AE%BA%E7%9B%B8%E5%85%B3%E7%AE%97%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h1 id="æœ€çŸ­è·¯"><a href="#æœ€çŸ­è·¯" class="headerlink" title="æœ€çŸ­è·¯"></a>æœ€çŸ­è·¯</h1><h2 id="Dijkstra"><a href="#Dijkstra" class="headerlink" title="Dijkstra"></a>Dijkstra</h2><p>å•æºç‚¹æœ€çŸ­è·¯ï¼Œä¸å¯åˆ¤è´Ÿæƒå’Œç¯</p><h3 id="æœ´ç´ ç®—æ³•"><a href="#æœ´ç´ ç®—æ³•" class="headerlink" title="æœ´ç´ ç®—æ³•"></a>æœ´ç´ ç®—æ³•</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs python">n, m, s = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>,<span class="hljs-built_in">input</span>().split())<br>head = [<span class="hljs-number">0</span>] * (n + <span class="hljs-number">1</span>)<br>cnt = <span class="hljs-number">0</span><br>INF = <span class="hljs-number">2</span> ** <span class="hljs-number">31</span> - <span class="hljs-number">1</span><br>ans = [INF] * (n + <span class="hljs-number">1</span>)<br>vis = [<span class="hljs-literal">False</span>] * (n + <span class="hljs-number">1</span>)<br>edge = &#123;&#125;<br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>):<br>edge[i] = INF<br><br><span class="hljs-comment"># åˆå§‹åŒ–åˆ°sç‚¹çš„è·ç¦»ä¸º0</span><br>ans[s] = <span class="hljs-number">0</span><br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, m + <span class="hljs-number">1</span>):<br>a, b, c = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split())<br>    <span class="hljs-comment"># é‡è¾¹å–æœ€å°</span><br>    <span class="hljs-keyword">if</span> a <span class="hljs-keyword">in</span> edge:<br>edge[a][b] = <span class="hljs-built_in">min</span>(edge[a].get(b, INF), c)<br>    <span class="hljs-keyword">else</span>:<br>        edge[a] = &#123;b:c&#125;<br>pos = s<br><br><span class="hljs-comment"># pos æœªéå†æ—¶</span><br><span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> vis[pos]:<br>    minn = INF<br>    <span class="hljs-comment"># æ ‡è®°</span><br>    vis[pos] = <span class="hljs-literal">True</span><br>    <span class="hljs-comment"># pos é¡¶ç‚¹åœ¨è¾¹ä¸Šæ—¶</span><br>    <span class="hljs-keyword">if</span> pos <span class="hljs-keyword">in</span> edge:<br>        <span class="hljs-comment"># å–posé¡¶ç‚¹æŒ‡å‘çš„é¡¶ç‚¹ï¼ˆè®¾ä¸ºç»ˆç‚¹ï¼ˆæœ‰å‘å›¾ï¼‰ï¼‰å’Œæƒå€¼</span><br>        <span class="hljs-keyword">for</span> to, wei <span class="hljs-keyword">in</span> edge[pos].items():<br><span class="hljs-comment"># å¦‚æœç»ˆç‚¹æœªè®¿é—®å¹¶ä¸”ç»ˆç‚¹çš„å€¼å¤§äºpos+wei é‚£å°±æ›´æ–°ç»ˆç‚¹å€¼çš„æœ€çŸ­è·¯</span><br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> vis[to] <span class="hljs-keyword">and</span> ans[to] &gt; ans[pos] + wei:<br>                ans[to] = ans[pos] + wei<br>        <span class="hljs-comment"># éå†æ‰€æœ‰æœªéå†çš„ç‚¹  å¦‚æœå°äºminn å°±æ›´æ–°minnï¼ˆæœ€çŸ­è·¯ï¼‰ å¹¶ä¸”è®©pos = iï¼ˆæœ€çŸ­å­è·¯ï¼‰</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>):<br><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> vis[i] <span class="hljs-keyword">and</span> ans[i] &lt; minn:<br>                minn = ans[i]<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>):<br>    <span class="hljs-built_in">print</span>(ans[i],end=<span class="hljs-string">&#x27; &#x27;</span>)<br></code></pre></td></tr></table></figure><h3 id="å †ä¼˜åŒ–"><a href="#å †ä¼˜åŒ–" class="headerlink" title="å †ä¼˜åŒ–"></a>å †ä¼˜åŒ–</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> heapq<br><br>n, m, s = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split())<br><span class="hljs-comment"># é‚»æ¥çŸ©é˜µ</span><br>graph = [[] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n + <span class="hljs-number">1</span>)]<br><span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(m):<br>u, v, w = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split())<br>    graph[u].append((v,w))<br>INF = <span class="hljs-number">2</span> ** <span class="hljs-number">31</span> - <span class="hljs-number">1</span><br><span class="hljs-comment"># è·ç¦» åˆå§‹åŒ–ä¸ºæ— ç©·  æºç‚¹åˆå§‹åŒ–ä¸º0</span><br>dist = [INF] * (n + <span class="hljs-number">1</span>)<br>dist[s] = <span class="hljs-number">0</span><br><span class="hljs-comment"># å…ˆæ”¾å…¥æºç‚¹ ç¬¬ä¸€ä¸ªå‚æ•°dè¡¨ç¤ºæºç‚¹såˆ°å½“å‰ç»“ç‚¹çš„æœ€çŸ­è·¯   ç¬¬äºŒä¸ªå‚æ•°nodeè¡¨ç¤ºå½“å‰èŠ‚ç‚¹ç¼–å·</span><br>q = [(<span class="hljs-number">0</span>,s)]<br><span class="hljs-comment"># é˜Ÿåˆ—ä¸ç©ºçš„æ—¶å€™</span><br><span class="hljs-keyword">while</span> q:<br><span class="hljs-comment"># å–å‡ºæºç‚¹å’Œèµ·ç‚¹</span><br>    d, node = heapq.heappop(q)<br>    <span class="hljs-comment"># å½“å½“å‰æœ€çŸ­è·¯å°äºæºç‚¹åˆ°nodeçš„è·ç¦»æ—¶ è·³è¿‡</span><br>    <span class="hljs-keyword">if</span> d &gt; dist[node]:<br><span class="hljs-keyword">continue</span><br>    <span class="hljs-comment"># ä»å›¾ä¸­å–å‡ºnodeç»“ç‚¹çš„ç»ˆç‚¹å’Œæƒå€¼</span><br>    <span class="hljs-keyword">for</span> neighbor, wei <span class="hljs-keyword">in</span> graph[node]:<br><span class="hljs-keyword">if</span> dist[node] + wei &lt; dist[neighbor]:<br>dist[neighbor] = dist[node] + wei<br>             heapq.heappush(q,(dist[neighbor],neighbor))<br>                <br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>):<br><span class="hljs-built_in">print</span>(dist[i],end=<span class="hljs-string">&#x27; &#x27;</span>)<br></code></pre></td></tr></table></figure><h3 id="é“¾å¼å‰å‘æ˜Ÿå­˜å›¾"><a href="#é“¾å¼å‰å‘æ˜Ÿå­˜å›¾" class="headerlink" title="é“¾å¼å‰å‘æ˜Ÿå­˜å›¾"></a>é“¾å¼å‰å‘æ˜Ÿå­˜å›¾</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> heapq<br>n, m, s = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split())<br><br>head = [<span class="hljs-number">0</span>] * (n + <span class="hljs-number">1</span>)<br>edge = []<br><br><span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(m):<br>    u, v, w = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split())<br>    <span class="hljs-comment"># åˆ¤é‡</span><br>    exist = <span class="hljs-literal">False</span><br>    i = head[u]<br>    <span class="hljs-keyword">while</span> i:<br>        <span class="hljs-keyword">if</span> edge[i][<span class="hljs-number">0</span>] == v:<br>            exist = <span class="hljs-literal">True</span><br>            edge[i] = (v, <span class="hljs-built_in">min</span>(edge[i][<span class="hljs-number">1</span>],w), edge[i][<span class="hljs-number">2</span>])<br>            <span class="hljs-keyword">break</span><br>        i = edge[i][<span class="hljs-number">2</span>]<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> exist:<br>        edge.append((v,w,head[u]))<br>        head[u] = <span class="hljs-built_in">len</span>(edge) - <span class="hljs-number">1</span><br><br>INF = <span class="hljs-number">2</span> ** <span class="hljs-number">31</span> - <span class="hljs-number">1</span><br>dist = [INF] * (n + <span class="hljs-number">1</span>)<br>dist[s] = <span class="hljs-number">0</span><br><br>priority_queue = [(<span class="hljs-number">0</span>,s)]<br><br><span class="hljs-keyword">while</span> priority_queue:<br>    d,node = heapq.heappop(priority_queue)<br>    <span class="hljs-keyword">if</span> d &gt; dist[node]:<br>        <span class="hljs-keyword">continue</span><br>    i = head[node]<br>    <span class="hljs-keyword">while</span> i:<br>        neighbor, weight, nextt = edge[i]<br>        <span class="hljs-keyword">if</span> dist[node] + weight &lt; dist[neighbor]:<br>            dist[neighbor] = dist[node] + weight<br>            heapq.heappush(priority_queue, (dist[neighbor],neighbor))<br>        i = nextt<br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>):<br>    <span class="hljs-built_in">print</span>(dist[i],end=<span class="hljs-string">&#x27; &#x27;</span>)<br><br><br></code></pre></td></tr></table></figure><h2 id="spfa"><a href="#spfa" class="headerlink" title="spfa"></a>spfa</h2><p>å•æºç‚¹æœ€çŸ­è·¯ï¼Œå¯åˆ¤è´Ÿæƒå’Œç¯</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> deque<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">edge</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, v, w</span>):<br>        self.v = v<br>        self.w = w<br>n, m, s = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>,<span class="hljs-built_in">input</span>().split())<br><br>graph = [<span class="hljs-literal">None</span>] * (n + <span class="hljs-number">1</span>)<br><br><span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(m):<br>u, v, w = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>,<span class="hljs-built_in">input</span>().split())<br>    <span class="hljs-keyword">if</span> graph[u] <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">or</span> graph[u].w &gt; w:<br>graph[u] = []<br>    graph[u].append(edge(v,w))<br>INF = <span class="hljs-number">2</span> ** <span class="hljs-number">31</span> - <span class="hljs-number">1</span><br>dist = [INF] * (n + <span class="hljs-number">1</span>)<br>dist[s] = <span class="hljs-number">0</span><br><br>q = deque([s])<br><br><span class="hljs-comment"># æ ‡è®°æ˜¯å¦åœ¨é˜Ÿåˆ—ä¸­  ä»¥åŠè®¡æ•° ç”¨æ¥åˆ¤æ–­ç¯</span><br>in_queue = [<span class="hljs-literal">False</span>] * (n + <span class="hljs-number">1</span>)<br>in_queue[s] = <span class="hljs-literal">True</span><br>enqueue_count = [<span class="hljs-number">0</span>]  * (n + <span class="hljs-number">1</span>)<br>enqueue_count[s] = <span class="hljs-number">1</span><br><br><span class="hljs-keyword">while</span> q:<br>    <span class="hljs-comment"># å–å‡ºå½“å‰ç‚¹ </span><br>    node = q.popleft()<br>    in_queue[node] = <span class="hljs-literal">False</span><br>    <span class="hljs-comment"># å–å½“å‰ç‚¹ç›¸è¿çš„æ‰€æœ‰è¾¹</span><br>    <span class="hljs-keyword">for</span> ed <span class="hljs-keyword">in</span> graph[node]:<br>        <span class="hljs-comment"># å–å‡ºç»ˆç‚¹å’Œæƒå€¼</span><br>        v, w = ed.v, ed.w<br>    <span class="hljs-keyword">if</span> dist[v] &gt;  dist[node] + w:<br>            dist[v] = dist[node] + w<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> in_queue[v]:<br>                q.append(v)<br>                in_queue[v] = <span class="hljs-literal">True</span><br>                enqueue_count[v] += <span class="hljs-number">1</span><br>                <br>                <span class="hljs-keyword">if</span> enqueue_count[v] &gt; n:<br>                    exit(<span class="hljs-number">0</span>)<br>                    <br></code></pre></td></tr></table></figure><h2 id="Floyd"><a href="#Floyd" class="headerlink" title="Floyd"></a>Floyd</h2><p>å¤šæºæœ€çŸ­è·¯</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python">INF = <span class="hljs-number">0x3f3f3f3f</span><br>n, m = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split())<br><br>d = [[INF] * (n + <span class="hljs-number">1</span>) <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n + <span class="hljs-number">1</span>)]<br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>):<br>d[i][i] = <span class="hljs-number">0</span><br>    <br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(m):<br>    a, b, w = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split())<br>    d[a][b] = <span class="hljs-built_in">min</span>(d[a][b], w)<br>    <span class="hljs-comment"># åŒæ—¶è¦æ›´æ–°å¦ä¸€æ¡è¾¹</span><br>    d[b][a] = <span class="hljs-built_in">min</span>(d[b][a], w)<br>    <br><span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>):<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>):<br><span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>):<br>d[i][j] = <span class="hljs-built_in">min</span>(d[i][j],d[i][k] + d[k][j])<br>            <br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>):<br>    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>):<br>        <span class="hljs-built_in">print</span>(d[i][j], end=<span class="hljs-string">&#x27; &#x27;</span>)<br>    <span class="hljs-built_in">print</span>()<br></code></pre></td></tr></table></figure><h1 id="æ‹“æ‰‘æ’åº"><a href="#æ‹“æ‰‘æ’åº" class="headerlink" title="æ‹“æ‰‘æ’åº"></a>æ‹“æ‰‘æ’åº</h1><h3 id="Kahn"><a href="#Kahn" class="headerlink" title="Kahn"></a>Kahn</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Kahnç®—æ³•</span><br><span class="hljs-keyword">from</span> collection <span class="hljs-keyword">import</span> deque<br>N = <span class="hljs-number">100000</span><br>e = [[<span class="hljs-number">0</span>] * N <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(N)]<br>tp = []<br>din = [<span class="hljs-number">0</span>] * N<br><br><span class="hljs-comment"># æ¯æ¬¡ä»é˜Ÿåˆ—å–å‡º è®©ä»–æ‰€æœ‰å‡ºè¾¹å‡ä¸€ å½“æŸç‚¹å…¥åº¦ä¸º0æ—¶åŠ å…¥é˜Ÿåˆ—  å¦‚æœæœ€åé˜Ÿåˆ—é•¿nåˆ™æœ‰æ‹“æ‰‘åº å¦åˆ™æœ‰ç¯</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">toposort</span>(<span class="hljs-params">n</span>):<br>queue = deque()<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>):<br>        <span class="hljs-keyword">if</span> din[i] == <span class="hljs-number">0</span>:<br>queue.append(i)<br>    <span class="hljs-keyword">while</span> queue:<br>        x = queue.popleft()<br>        tp.append(x)<br>        <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> e[x]:<br>            din[y] -= <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> din[y] == <span class="hljs-number">0</span>:<br>queue.append(y)<br><span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(tp) == n<br><br>n, m = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split())<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(m):<br>    a, b = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>,<span class="hljs-built_in">input</span>().split())<br>    e[a].append(b)<br>    din[b] += <span class="hljs-number">1</span><br><br><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> toposort(n):<br>    <span class="hljs-built_in">print</span>(-<span class="hljs-number">1</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> tp:<br><span class="hljs-built_in">print</span>(x,end=<span class="hljs-string">&#x27; &#x27;</span>)<br></code></pre></td></tr></table></figure><h3 id="DFS"><a href="#DFS" class="headerlink" title="DFS"></a>DFS</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python">N = <span class="hljs-number">100000</span><br>e = [[<span class="hljs-number">0</span>] * N <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(N)]<br>tp = [<span class="hljs-number">0</span>] * N<br>c = [<span class="hljs-number">0</span>] * N<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">dfs</span>(<span class="hljs-params">x</span>):<br>    <span class="hljs-keyword">global</span> tp<br>    c[x] = -<span class="hljs-number">1</span><br>    <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> e[x]:<br>        <span class="hljs-keyword">if</span> c[y] &lt; <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>        <span class="hljs-keyword">elif</span> <span class="hljs-keyword">not</span> c[y]:<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> dfs(y):<br>                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>    c[x] = <span class="hljs-number">1</span><br>    tp.append(x)<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">toposort</span>():<br>    <span class="hljs-keyword">global</span> c, tp<br>    c = [<span class="hljs-number">0</span>] * N<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>):<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> c[i]:<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> dfs(i):<br>                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>    tp.reverse()<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br><br></code></pre></td></tr></table></figure><h1 id="å…³é”®è·¯å¾„"><a href="#å…³é”®è·¯å¾„" class="headerlink" title="å…³é”®è·¯å¾„"></a>å…³é”®è·¯å¾„</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># è¾“å…¥ä¸ºå­—å…¸</span><br>activities = &#123;&#125;<br>n = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>())<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>    name, duration, dependencies = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>,<span class="hljs-built_in">input</span>().split())<br>    activities[name] = &#123;<span class="hljs-string">&#x27;duration&#x27;</span>:duration, <span class="hljs-string">&#x27;dependencies&#x27;</span>:dependencies&#125;<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">cal_early_late_times</span>(<span class="hljs-params">activities</span>):<br>    <span class="hljs-comment"># åˆå§‹åŒ–æ¯ä¸ªå·¥ä½œçš„æœ€æ—©å¼€å§‹æ—¶é—´å’Œæœ€æ™šå¼€å§‹æ—¶é—´</span><br>    <span class="hljs-keyword">for</span> activity <span class="hljs-keyword">in</span> activities:<br>        activities[activity][<span class="hljs-string">&#x27;ES&#x27;</span>] = <span class="hljs-number">0</span><br>        activities[activity][<span class="hljs-string">&#x27;LS&#x27;</span>] = <span class="hljs-built_in">float</span>(<span class="hljs-string">&#x27;inf&#x27;</span>)<br><br>    <span class="hljs-comment"># è®¡ç®—æœ€æ—©å¼€å§‹æ—¶é—´</span><br>    <span class="hljs-comment"># éå†æ‰€æœ‰å·¥ä½œ å¦‚æœä¾èµ–äºå‰ä¸€é¡¹å·¥ä½œ å°±ä¸ºå‰é¢æ‰€æœ‰å·¥ä½œçš„æœ€æ—©å¼€å§‹æ—¶é—´åŠ ä¸ŠæŒç»­æ—¶é—´çš„æœ€å¤§å€¼ å¦‚æœæ²¡æœ‰ä¾èµ–äºå…¶ä»–å·¥ä½œåˆ™ä¸º0</span><br>    <span class="hljs-keyword">for</span> activity <span class="hljs-keyword">in</span> activities:<br>        dependencies = activities[activity][<span class="hljs-string">&#x27;dependencies&#x27;</span>]<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> dependencies:<br>            activities[activity][<span class="hljs-string">&#x27;ES&#x27;</span>] = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">else</span>:<br>            max_dependency_end = <span class="hljs-built_in">max</span>([activities[dep][<span class="hljs-string">&#x27;ES&#x27;</span>] + activities[dep][<span class="hljs-string">&#x27;duration&#x27;</span>] <span class="hljs-keyword">for</span> dep <span class="hljs-keyword">in</span> dependencies])<br>            activities[activity][<span class="hljs-string">&#x27;ES&#x27;</span>] = max_dependency_end<br><br>    <span class="hljs-comment"># è®¡ç®—æœ€åå®Œæˆçš„å·¥ä½œçš„æœ€æ™šå¼€å§‹æ—¶é—´ ä¸ºæ‰€æœ‰å·¥ä½œçš„æœ€æ™šçš„ï¼ˆæœ€æ—©å¼€å§‹æ—¶é—´+æŒç»­æ—¶é—´ï¼‰</span><br>    end_activity = <span class="hljs-built_in">max</span>(activities,key=<span class="hljs-keyword">lambda</span> activity: activities[activity][<span class="hljs-string">&#x27;ES&#x27;</span>] + activities[activity][<span class="hljs-string">&#x27;duration&#x27;</span>])<br>    activities[end_activity][<span class="hljs-string">&#x27;LS&#x27;</span>] = activities[end_activity][<span class="hljs-string">&#x27;ES&#x27;</span>] + activities[end_activity][<span class="hljs-string">&#x27;duration&#x27;</span>]<br>    <span class="hljs-comment"># åå‘è®¡ç®—æœ€æ™šå¼€å§‹æ—¶é—´</span><br>    <span class="hljs-comment"># å¦‚æœä¸ä¾èµ–äºå…¶ä»–å·¥ä½œ æœ€æ™šå¼€å§‹æ—¶é—´ä¸ºæœ€åå·¥ä½œçš„æœ€æ™šå¼€å§‹æ—¶é—´-æŒç»­æ—¶é—´  å¦åˆ™ä¸ºæœ€æ—©çš„æœ€æ™šå¼€å§‹æ—¶é—´</span><br>    <span class="hljs-keyword">for</span> activity <span class="hljs-keyword">in</span> <span class="hljs-built_in">reversed</span>(<span class="hljs-built_in">list</span>(activities.key())):<br>        dependencies = activities[activity][<span class="hljs-string">&#x27;dependencies&#x27;</span>]<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> dependencies:<br>            activities[activity][<span class="hljs-string">&#x27;LS&#x27;</span>] = activities[end_activity][<span class="hljs-string">&#x27;LS&#x27;</span>] - activities[activity][<span class="hljs-string">&#x27;duration&#x27;</span>]<br>        <span class="hljs-keyword">else</span>:<br>            min_dependency_start = <span class="hljs-built_in">min</span>([activities[dep][<span class="hljs-string">&#x27;LS&#x27;</span>] <span class="hljs-keyword">for</span> dep <span class="hljs-keyword">in</span> dependencies])<br>            activities[activity][<span class="hljs-string">&#x27;LS&#x27;</span>] = min_dependency_start<br><br><br><span class="hljs-comment"># æœ€æ—©å¼€å§‹æ—¶é—´=æœ€æ™šå¼€å§‹æ—¶é—´å³ä¸ºå…³é”®è·¯å¾„</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">cal_critical_path</span>(<span class="hljs-params">activities</span>):<br>    critical_path = []<br>    <span class="hljs-keyword">for</span> activity <span class="hljs-keyword">in</span> activities:<br>        <span class="hljs-keyword">if</span> activities[activity][<span class="hljs-string">&#x27;ES&#x27;</span>] == activities[activity][<span class="hljs-string">&#x27;LS&#x27;</span>]:<br>            critical_path.append(activity)<br>    <span class="hljs-keyword">return</span> critical_path<br></code></pre></td></tr></table></figure><h1 id="Tarjan"><a href="#Tarjan" class="headerlink" title="Tarjan"></a>Tarjan</h1><p><a href="https://leetcode.cn/problems/critical-connections-in-a-network/solutions/?envType=study-plan-v2&envId=graph-theory">ä¾‹é¢˜</a></p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs inform7">class Solution:<br>    def criticalConnections(self, n: int, connections: List<span class="hljs-comment">[List<span class="hljs-comment">[int]</span>]</span>) -&gt; List<span class="hljs-comment">[List<span class="hljs-comment">[int]</span>]</span>:<br>        graph = defaultdict(list)<br>        for con in connections:<br>            graph<span class="hljs-comment">[con<span class="hljs-comment">[0]</span>]</span>.append(con<span class="hljs-comment">[1]</span>)<br>            graph<span class="hljs-comment">[con<span class="hljs-comment">[1]</span>]</span>.append(con<span class="hljs-comment">[0]</span>)<br><br>        <br>        idx = <span class="hljs-comment">[-1]</span> * n<br>        res = <span class="hljs-comment">[]</span><br><br>        def dfs(curnode, curid, parent):<br>            idx<span class="hljs-comment">[curnode]</span> = curid<br><br>            for nextnode in graph<span class="hljs-comment">[curnode]</span>:<br>                if nextnode == parent:<br>                    continue<br>                elif idx<span class="hljs-comment">[nextnode]</span> == -1:<br>                    idx<span class="hljs-comment">[curnode]</span> = min(dfs(nextnode,curid + 1, curnode),idx<span class="hljs-comment">[curnode]</span>)<br>                else:<br>                    idx<span class="hljs-comment">[curnode]</span> = min(idx<span class="hljs-comment">[curnode]</span>,idx<span class="hljs-comment">[nextnode]</span>)<br><br>            # è¯´æ˜å­˜åœ¨ç¯<br>            if idx<span class="hljs-comment">[curnode]</span> == curid and curnode != 0:<br>                res.append((parent, curnode))<br>            # è®°å¾—è¿”å›idx<br>            return idx<span class="hljs-comment">[curnode]</span><br>        <br><br>        dfs(0,0,-1)<br>        return res<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>algorithm</tag>
      
      <tag>graph</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>äºŒå‰æ ‘é¢˜è§£</title>
    <link href="/2023/08/08/%E4%BA%8C%E5%8F%89%E6%A0%91%E9%A2%98%E8%A7%A3/"/>
    <url>/2023/08/08/%E4%BA%8C%E5%8F%89%E6%A0%91%E9%A2%98%E8%A7%A3/</url>
    
    <content type="html"><![CDATA[<h1 id="P1827-USACO3-4-ç¾å›½è¡€ç»Ÿ-American-Heritage"><a href="#P1827-USACO3-4-ç¾å›½è¡€ç»Ÿ-American-Heritage" class="headerlink" title="[P1827 USACO3.4] ç¾å›½è¡€ç»Ÿ American Heritage"></a>[P1827 <a href="https://www.luogu.com.cn/problem/P1827">USACO3.4] ç¾å›½è¡€ç»Ÿ American Heritage</a></h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// å…¶å®å°±æ˜¯å‰ä¸­åºè½¬ååº é€’å½’ å½“å‰åºä¸ºç©ºçš„æ—¶å€™é€€å‡ºï¼Œå¦åˆ™å–å‰åºçš„ç¬¬ä¸€ä¸ªä¸ºæ ¹ï¼Œå†ä¸­åºä¸­æ‰¾å·¦è¾¹ä¸ºå·¦å­æ ‘ï¼Œå³è¾¹ä¸ºå³å­æ ‘ã€‚æ³¨æ„å‰åºä¸­ï¼Œå·¦è¾¹çš„å‰kä¸ªå°±æ˜¯å·¦å­æ ‘çš„ï¼Œåé¢å°±æ˜¯å³å­æ ‘çš„ã€‚</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">change</span><span class="hljs-params">(string pre, string inor)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">if</span> (pre.<span class="hljs-built_in">empty</span>())<span class="hljs-keyword">return</span>;<br><br><span class="hljs-type">char</span> root = pre[<span class="hljs-number">0</span>];<br>pre.<span class="hljs-built_in">erase</span>(pre.<span class="hljs-built_in">begin</span>());<br><br><span class="hljs-type">int</span> k = inor.<span class="hljs-built_in">find</span>(root);<br>string leftinor = inor.<span class="hljs-built_in">substr</span>(<span class="hljs-number">0</span>, k);<br>string rightinor = inor.<span class="hljs-built_in">substr</span>(k + <span class="hljs-number">1</span>);<br><span class="hljs-comment">// æ³¨æ„è¿™é‡Œ</span><br>string leftpre = pre.<span class="hljs-built_in">substr</span>(<span class="hljs-number">0</span>, k);<br>string rightpre = pre.<span class="hljs-built_in">substr</span>(k);<br><br><span class="hljs-built_in">change</span>(leftpre, leftinor);<br><span class="hljs-built_in">change</span>(rightpre, rightinor);<br><br>cout &lt;&lt; root;<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>string pre, inor;<br>cin &gt;&gt; inor &gt;&gt; pre;<br><span class="hljs-built_in">change</span>(pre, inor);<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="449-åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æœç´¢æ ‘-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#449-åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æœç´¢æ ‘-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="449. åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æœç´¢æ ‘ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/serialize-and-deserialize-bst/">449. åºåˆ—åŒ–å’Œååºåˆ—åŒ–äºŒå‰æœç´¢æ ‘ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Codec</span>:<br>    <span class="hljs-comment"># åºåˆ—åŒ–æ¯”è¾ƒç®€å• å°±æ˜¯ä¸€ä¸ªååºéå† æ³¨æ„æœ€åçš„returnéƒ¨åˆ† &#x27; &#x27;.join(map(str, arr)) é¦–å…ˆæ˜¯&#x27;&#x27;è¦æœ‰ç©ºæ ¼ ç„¶åæ˜¯mapçš„ç”¨æ³• æŠŠarrè½¬str</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">serialize</span>(<span class="hljs-params">self, root: <span class="hljs-type">Optional</span>[TreeNode]</span>) -&gt; <span class="hljs-built_in">str</span>:<br>        <span class="hljs-string">&quot;&quot;&quot;Encodes a tree to a single string.</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        arr = []<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">postOrder</span>(<span class="hljs-params">root</span>):<br>            <span class="hljs-keyword">if</span> root <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>                <span class="hljs-keyword">return</span><br>            postOrder(root.left)<br>            postOrder(root.right)<br>            arr.append(root.val)<br>        postOrder(root)<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27; &#x27;</span>.join(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">str</span>,arr))<br>        <br><span class="hljs-comment"># å¯¹äºäºŒå‰æœç´¢æ ‘æ¥è¯´ æ¯ä¸ªç‚¹çš„ä½ç½®ç¡®å®š æ‰€ä»¥æ¯”ååºåˆ—åŒ–æ™®é€šäºŒå‰æ ‘ç®€å•</span><br>    <span class="hljs-comment"># é¦–å…ˆæŠŠdataè¿˜åŸæˆarr å½“åˆ°è¾¾å¶å­èŠ‚ç‚¹çš„æ—¶å€™ï¼ˆä¹Ÿå°±æ˜¯å½“å‰ç‚¹ä¸èƒ½æ’å…¥è¿™ä¸ªåœ°æ–¹ï¼‰è¿”å›None    ä»arrä¸­å–å‡ºä¸€ä¸ªæ•°ä½œä¸ºè·Ÿ ç„¶åå–å‡ºä¸€ä¸ªæ•°ä½œä¸ºå³å­©å­ å–å‡ºä¸€ä¸ªæ•°ä½œä¸ºå·¦å­©å­ ï¼ˆååºéå† å…ˆå³å†å·¦ï¼‰ç„¶åè¿”å›æ ¹   æ³¨æ„ åˆå§‹çš„æ—¶å€™ä¸é™èŒƒå›´  </span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">deserialize</span>(<span class="hljs-params">self, data: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-type">Optional</span>[TreeNode]:<br>        <span class="hljs-string">&quot;&quot;&quot;Decodes your encoded data to tree.</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        arr = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, data.split()))<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">construct</span>(<span class="hljs-params">lower,upper</span>):<br>            <span class="hljs-keyword">if</span> arr == [] <span class="hljs-keyword">or</span> arr[-<span class="hljs-number">1</span>] &lt; lower <span class="hljs-keyword">or</span> arr[-<span class="hljs-number">1</span>] &gt; upper:<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br>            val = arr.pop()<br>            root = TreeNode(val)<br>            root.right = construct(val, upper)<br>            root.left = construct(lower,val)<br>            <span class="hljs-keyword">return</span> root<br>        <span class="hljs-keyword">return</span> construct(-inf,inf)<br></code></pre></td></tr></table></figure><h1 id="297-äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–-åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#297-äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–-åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="297. äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ– - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a><a href="https://leetcode.cn/problems/serialize-and-deserialize-binary-tree/description/">297. äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ– - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Codec</span>:<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">serialize</span>(<span class="hljs-params">self, root</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;Encodes a tree to a single string.</span><br><span class="hljs-string">        </span><br><span class="hljs-string">        :type root: TreeNode</span><br><span class="hljs-string">        :rtype: str</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-comment"># å‰åºéå†</span><br>        <span class="hljs-keyword">if</span> root <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;None&#x27;</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">str</span>(root.val) + <span class="hljs-string">&#x27;,&#x27;</span> + <span class="hljs-built_in">str</span>(self.serialize(root.left)) + <span class="hljs-string">&#x27;,&#x27;</span> + <span class="hljs-built_in">str</span>(self.serialize(root.right)) <br><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">deserialize</span>(<span class="hljs-params">self, data</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;Decodes your encoded data to tree.</span><br><span class="hljs-string">        </span><br><span class="hljs-string">        :type data: str</span><br><span class="hljs-string">        :rtype: TreeNode</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">dfs</span>(<span class="hljs-params">dataList</span>):<br>            val = dataList.pop(<span class="hljs-number">0</span>)<br>            <span class="hljs-keyword">if</span> val == <span class="hljs-string">&#x27;None&#x27;</span>:<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br>            root = TreeNode(<span class="hljs-built_in">int</span>(val))<br>            root.left = dfs(dataList)<br>            root.right = dfs(dataList)<br>            <span class="hljs-keyword">return</span> root<br>        dataList = data.split(<span class="hljs-string">&#x27;,&#x27;</span>)<br>        <span class="hljs-keyword">return</span> dfs(dataList)<br>        <br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Ans</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¹³è¡¡æ ‘</title>
    <link href="/2023/08/08/%E5%B9%B3%E8%A1%A1%E6%A0%91/"/>
    <url>/2023/08/08/%E5%B9%B3%E8%A1%A1%E6%A0%91/</url>
    
    <content type="html"><![CDATA[<h1 id="å¹³è¡¡æ ‘"><a href="#å¹³è¡¡æ ‘" class="headerlink" title="å¹³è¡¡æ ‘"></a><a href="https://www.luogu.com.cn/problem/P3369">å¹³è¡¡æ ‘</a></h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">int</span> n, p, val;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1000010</span>, INF = <span class="hljs-number">0x7fffffff</span>;<br><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Node</span><br>&#123;<br><span class="hljs-type">int</span> s[<span class="hljs-number">2</span>];<br><span class="hljs-type">int</span> p;<br><span class="hljs-type">int</span> v;<br><span class="hljs-type">int</span> cnt;<br><span class="hljs-type">int</span> siz;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">init</span><span class="hljs-params">(<span class="hljs-type">int</span> p1, <span class="hljs-type">int</span> v1)</span></span><br><span class="hljs-function"></span>&#123;<br>cnt = siz = <span class="hljs-number">1</span>;<br>p = p1, v = v1;<br>&#125;<br>&#125;tree[N];<br><span class="hljs-type">int</span> root;<br><span class="hljs-type">int</span> idx;<br><span class="hljs-comment">// æ›´æ–°æ ‘çš„å¤§å°</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">pushup</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>tree[x].siz = tree[tree[x].s[<span class="hljs-number">0</span>]].siz + tree[tree[x].s[<span class="hljs-number">1</span>]].siz + tree[x].cnt;<br>&#125;<br><span class="hljs-comment">// æ—‹è½¬ æ—‹è½¬ä¸ä»…ä½¿å¾—xè½¬åˆ°yå¤„ï¼Œxçš„å…¶ä¸­ä¸€ä¸ªå„¿å­ä¹Ÿè¦ç»™y</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">rotate</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// å…ˆæ‰¾åˆ°xçš„çˆ¶èŠ‚ç‚¹yå’Œyçš„çˆ¶èŠ‚ç‚¹zï¼Œkåˆ¤æ–­xæ˜¯å¦ä¸ºyçš„å³å„¿å­ å‡è®¾xä¸ºyçš„å³å„¿å­ kä¸º1</span><br><span class="hljs-type">int</span> y = tree[x].p, z = tree[y].p;<br><span class="hljs-type">int</span> k = tree[y].s[<span class="hljs-number">1</span>] == x;<br><span class="hljs-comment">// å…ˆè½¬åŠ¨ä½¿ yçš„å³å„¿å­å¤„æ”¾ä¸Šxçš„å·¦å„¿å­ ç„¶åè®©xçš„å·¦å„¿å­çš„çˆ¶èŠ‚ç‚¹ä¸ºy</span><br>tree[y].s[k] = tree[x].s[k ^ <span class="hljs-number">1</span>];<br>tree[tree[x].s[k ^ <span class="hljs-number">1</span>]].p = y;<br><span class="hljs-comment">// ç„¶åä½¿xçš„å³å„¿å­ä¸ºyï¼Œyçš„çˆ¶äº²ä¸ºx</span><br>tree[x].s[k ^ <span class="hljs-number">1</span>] = y;<br>tree[y].p = x;<br><span class="hljs-comment">// å¦‚æœzçš„å³å„¿å­ä¸ºy é‚£ä¹ˆzçš„å³å„¿å­ä¸ºx ï¼ˆxæ›¿ä»£yï¼‰ ç„¶åxçš„çˆ¶äº²ä¸ºz</span><br>tree[z].s[tree[z].s[<span class="hljs-number">1</span>] == y] = x;<br>tree[x].p = z;<br><span class="hljs-comment">//è®°å¾—æ›´æ–°èŠ‚ç‚¹</span><br><span class="hljs-built_in">pushup</span>(y), <span class="hljs-built_in">pushup</span>(x);<br>&#125;<br><span class="hljs-comment">// splay ä¼¸å±•ç»“ç‚¹ï¼Œä½¿xä¸ºkçš„å„¿å­  kä¸º0çš„æ—¶å€™ä½¿xä¸ºæ ¹</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">splay</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> k)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">while</span> (tree[x].p != k)<br>&#123;<br><span class="hljs-type">int</span> y = tree[x].p, z = tree[y].p;<br>        <span class="hljs-comment">// å½“xçš„ç¥–çˆ¶ç»“ç‚¹ä¸ä¸ºkçš„æ—¶å€™ æ—‹è½¬</span><br><span class="hljs-keyword">if</span> (z != k)<br>            <span class="hljs-comment">// yçš„å·¦å„¿å­ä¸ºx å¹¶ä¸”zçš„å·¦å„¿å­ä¸ºy ä¹Ÿå°±æ˜¯ç›´çº¿å‹ è½¬åŠ¨yï¼ˆ1^1=0ï¼‰ æŠ˜çº¿å‹è½¬åŠ¨x</span><br>(tree[y].s[<span class="hljs-number">0</span>] == x) ^ (tree[z].s[<span class="hljs-number">0</span>] == y) ? <span class="hljs-built_in">rotate</span>(x) : <span class="hljs-built_in">rotate</span>(y);<br>        <span class="hljs-comment">// å†è½¬ä¸€æ¬¡ï¼ˆåŒæ—‹</span><br><span class="hljs-built_in">rotate</span>(x);<br>&#125;<br>    <span class="hljs-comment">// kä¸º0çš„æ—¶å€™ è®©xä¸ºæ ¹</span><br><span class="hljs-keyword">if</span> (k == <span class="hljs-number">0</span>)root = x;<br>&#125;<br><span class="hljs-comment">// æŸ¥æ‰¾vå¹¶è®©vä¸ºæ ¹</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-type">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> x = root;<br><span class="hljs-keyword">while</span> (tree[x].s[v &gt; tree[x].v] &amp;&amp; v != tree[x].v)<br>x = tree[x].s[v &gt; tree[x].v];<br><span class="hljs-built_in">splay</span>(x, <span class="hljs-number">0</span>);<br>&#125;<br><span class="hljs-comment">// æ‰¾å‰é©± å…ˆæ‰¾åˆ°v ç„¶åå¦‚æœæ ¹çš„å€¼å°äºvï¼Œç›´æ¥è¿”å›xï¼Œå› ä¸ºæ¯”æ ¹å¤§ï¼Œä¸å¯èƒ½æœ‰å‰é©±äº†ï¼ˆå‰é©±æ˜¯æ¯”ï¼‰</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">get_pre</span><span class="hljs-params">(<span class="hljs-type">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-built_in">find</span>(v);<br><span class="hljs-type">int</span> x = root;<br><span class="hljs-keyword">if</span> (tree[x].v &lt; v)<span class="hljs-keyword">return</span> x;<br><span class="hljs-comment">// æ ¹èŠ‚ç‚¹çš„å·¦å­æ ‘çš„æœ€å¤§ç»“ç‚¹å°±æ˜¯å‰é©±</span><br>x = tree[x].s[<span class="hljs-number">0</span>];<br><span class="hljs-keyword">while</span> (tree[x].s[<span class="hljs-number">1</span>]) x = tree[x].s[<span class="hljs-number">1</span>];<br><span class="hljs-keyword">return</span> x;<br>&#125;<br><span class="hljs-comment">// æ‰¾åç»§ åŒç†</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">get_suc</span><span class="hljs-params">(<span class="hljs-type">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-built_in">find</span>(v);<br><span class="hljs-type">int</span> x = root;<br><span class="hljs-keyword">if</span> (tree[x].v &gt; v)<span class="hljs-keyword">return</span> x;<br><br>x = tree[x].s[<span class="hljs-number">1</span>];<br><span class="hljs-keyword">while</span> (tree[x].s[<span class="hljs-number">0</span>])x = tree[x].s[<span class="hljs-number">0</span>];<br><span class="hljs-keyword">return</span> x;<br>&#125;<br><span class="hljs-comment">// åˆ é™¤ å¹¶ä¸æ˜¯çœŸçš„ç»“ç‚¹åˆ é™¤</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">del</span><span class="hljs-params">(<span class="hljs-type">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// å…ˆæ‰¾å‰é©±å’Œåç»§</span><br><span class="hljs-type">int</span> pre = <span class="hljs-built_in">get_pre</span>(v);<br><span class="hljs-type">int</span> suc = <span class="hljs-built_in">get_suc</span>(v);<br><span class="hljs-comment">// è½¬åŠ¨å‰é©±åˆ°æ ¹ï¼Œè½¬åŠ¨åç»§ä¸ºå‰é©±çš„å„¿å­ï¼Œå°±æ˜¯é€»è¾‘ä¸Šçš„åˆ é™¤äº†è¯¥ç»“ç‚¹ï¼ˆæ­¤æ—¶å¾…åˆ é™¤ç»“ç‚¹ä¸ºåç»§çš„å·¦å„¿å­ï¼‰</span><br><span class="hljs-built_in">splay</span>(pre, <span class="hljs-number">0</span>), <span class="hljs-built_in">splay</span>(suc, pre);<br>    <span class="hljs-comment">// åç»§çš„å·¦å„¿å­è®¾ä¸ºdelï¼ˆå³å¾…åˆ é™¤çš„ç‚¹ï¼‰</span><br><span class="hljs-type">int</span> del = tree[suc].s[<span class="hljs-number">0</span>];<br><span class="hljs-keyword">if</span> (tree[del].cnt &gt; <span class="hljs-number">1</span>)<span class="hljs-comment">// å¦‚æœå¾…åˆ ç‚¹ä¸æ­¢ä¸€ä¸ªï¼Œåªåˆ é™¤ä¸€ä¸ªå¹¶æŠŠä»–æ”¾å›åˆ°æ ¹ç»“ç‚¹</span><br>tree[del].cnt--, <span class="hljs-built_in">splay</span>(del, <span class="hljs-number">0</span>);<br><span class="hljs-keyword">else</span><br>        <span class="hljs-comment">// åç»§çš„å·¦å„¿å­ä¸º0 å³åˆ é™¤äº†å¾…åˆ é™¤ç»“ç‚¹</span><br>tree[suc].s[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>, <span class="hljs-built_in">splay</span>(suc, <span class="hljs-number">0</span>);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">get_rank</span><span class="hljs-params">(<span class="hljs-type">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-built_in">find</span>(v);<br><span class="hljs-keyword">return</span> tree[tree[root].s[<span class="hljs-number">0</span>]].siz;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">get_val</span><span class="hljs-params">(<span class="hljs-type">int</span> k)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> x = root;<br><span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>)<br>&#123;<br><span class="hljs-type">int</span> y = tree[x].s[<span class="hljs-number">0</span>];<br><span class="hljs-keyword">if</span> (tree[y].siz + tree[x].cnt &lt; k)<br>&#123;<br>k -= tree[y].siz + tree[x].cnt;<br>x = tree[x].s[<span class="hljs-number">1</span>];<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br><span class="hljs-keyword">if</span> (tree[y].siz &gt;= k)x = tree[x].s[<span class="hljs-number">0</span>];<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br><span class="hljs-built_in">splay</span>(x, <span class="hljs-number">0</span>);<br><span class="hljs-keyword">return</span> tree[x].v;<br>&#125;<br><span class="hljs-comment">// æ’å…¥ç»“ç‚¹</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-type">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> x = root, p = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">while</span> (x &amp;&amp; tree[x].v != v)<br>p = x, x = tree[x].s[v &gt; tree[x].v];<br><span class="hljs-keyword">if</span> (x) tree[x].cnt++;<br><span class="hljs-keyword">else</span><br>&#123;<br>x = ++idx;<br>tree[p].s[v &gt; tree[p].v] = x;<br>tree[x].<span class="hljs-built_in">init</span>(p, v);<br>&#125;<br>    <span class="hljs-comment">// è½¬åŠ¨æ–°æ’å…¥çš„ç»“ç‚¹ä¸ºæ ¹</span><br><span class="hljs-built_in">splay</span>(x, <span class="hljs-number">0</span>);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// æ³¨æ„å…ˆæ’å…¥å“¨å…µ</span><br><span class="hljs-built_in">insert</span>(-INF), <span class="hljs-built_in">insert</span>(INF);<br>cin &gt;&gt; n;<br><span class="hljs-keyword">while</span> (n--)<br>&#123;<br>cin &gt;&gt; p &gt;&gt; val;<br><span class="hljs-keyword">if</span> (p == <span class="hljs-number">1</span>)<span class="hljs-built_in">insert</span>(val);<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (p == <span class="hljs-number">2</span>)<span class="hljs-built_in">del</span>(val);<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (p == <span class="hljs-number">3</span>)cout &lt;&lt; <span class="hljs-built_in">get_rank</span>(val) &lt;&lt; endl;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (p == <span class="hljs-number">4</span>)cout &lt;&lt; <span class="hljs-built_in">get_val</span>(val + <span class="hljs-number">1</span>) &lt;&lt; endl;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (p == <span class="hljs-number">5</span>)cout &lt;&lt; tree[<span class="hljs-built_in">get_pre</span>(val)].v &lt;&lt; endl;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (p == <span class="hljs-number">6</span>)cout &lt;&lt; tree[<span class="hljs-built_in">get_suc</span>(val)].v &lt;&lt; endl;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="/../images/$%7Bfiilename%7D/%E5%B9%B3%E8%A1%A1%E6%A0%91rotate.png" alt="rotate"></p><p><img src="/../images/$%7Bfiilename%7D/%E5%B9%B3%E8%A1%A1%E6%A0%91splay.png" alt="splay"></p><h2 id="flag-å†™ä¸ªpythonç‰ˆçš„ï¼"><a href="#flag-å†™ä¸ªpythonç‰ˆçš„ï¼" class="headerlink" title="flag å†™ä¸ªpythonç‰ˆçš„ï¼"></a><del>flag</del> å†™ä¸ªpythonç‰ˆçš„ï¼</h2><h2 id="ä¾‹é¢˜-è¥ä¸šé¢ç»Ÿè®¡"><a href="#ä¾‹é¢˜-è¥ä¸šé¢ç»Ÿè®¡" class="headerlink" title="ä¾‹é¢˜  è¥ä¸šé¢ç»Ÿè®¡"></a>ä¾‹é¢˜  <a href="https://www.luogu.com.cn/problem/P2234">è¥ä¸šé¢ç»Ÿè®¡</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">int</span> n;<br><span class="hljs-type">int</span> idx = <span class="hljs-number">0</span>, root;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> INF = <span class="hljs-number">0x7fffffff</span>, N = <span class="hljs-number">1000010</span>;<br><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Node</span><br>&#123;<br><span class="hljs-type">int</span> v, s[<span class="hljs-number">2</span>], cnt, siz, p;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">init</span><span class="hljs-params">(<span class="hljs-type">int</span> p1, <span class="hljs-type">int</span> v1)</span></span><br><span class="hljs-function"></span>&#123;<br>v = v1, p = p1;<br>cnt = siz = <span class="hljs-number">1</span>;<br>&#125;<br>&#125;tree[N];<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">pushup</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>tree[x].siz = tree[tree[x].s[<span class="hljs-number">0</span>]].siz + tree[tree[x].s[<span class="hljs-number">1</span>]].siz + tree[x].cnt;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">rotate</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> y = tree[x].p, z = tree[y].p;<br><span class="hljs-type">int</span> k = (tree[y].s[<span class="hljs-number">1</span>] == x);<br><br>tree[y].s[k] = tree[x].s[k ^ <span class="hljs-number">1</span>];<br>tree[tree[x].s[k ^ <span class="hljs-number">1</span>]].p = y;<br><br>tree[x].s[k ^ <span class="hljs-number">1</span>] = y;<br>tree[y].p = x;<br><br>tree[z].s[tree[z].s[<span class="hljs-number">1</span>] == y] = x;<br>tree[x].p = z;<br><br><span class="hljs-built_in">pushup</span>(y), <span class="hljs-built_in">pushup</span>(x);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">splay</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> k)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">while</span> (tree[x].p != k)<br>&#123;<br><span class="hljs-type">int</span> y = tree[x].p, z = tree[y].p;<br><span class="hljs-keyword">if</span> (z != k)<br>(tree[y].s[<span class="hljs-number">0</span>] == x) ^ (tree[z].s[<span class="hljs-number">0</span>] == y) ? <span class="hljs-built_in">rotate</span>(x) : <span class="hljs-built_in">rotate</span>(y);<br><span class="hljs-built_in">rotate</span>(x);<br>&#125;<br><span class="hljs-keyword">if</span> (k == <span class="hljs-number">0</span>)root = x;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-type">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> x = root, p = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">while</span> (x &amp;&amp; v != tree[x].v)<br>p = x, x = tree[x].s[v &gt; tree[x].v];<br><br><span class="hljs-keyword">if</span> (x) tree[x].cnt++;<br><span class="hljs-keyword">else</span><br>&#123;<br>x = ++idx;<br>tree[p].s[v &gt; tree[p].v] = x;<br>tree[x].<span class="hljs-built_in">init</span>(p, v);<br>&#125;<br><span class="hljs-built_in">splay</span>(x, <span class="hljs-number">0</span>);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-type">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> x = root;<br><span class="hljs-keyword">while</span> (tree[x].s[v &gt; tree[x].v] &amp;&amp; v != tree[x].v)<br>x = tree[x].s[v &gt; tree[x].v];<br><span class="hljs-built_in">splay</span>(x, <span class="hljs-number">0</span>);<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">get_pre</span><span class="hljs-params">(<span class="hljs-type">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-built_in">find</span>(v);<br><span class="hljs-type">int</span> x = root;<br><span class="hljs-keyword">if</span> (tree[x].v &lt; v)<span class="hljs-keyword">return</span> x;<br>x = tree[x].s[<span class="hljs-number">0</span>];<br><span class="hljs-keyword">while</span> (tree[x].s[<span class="hljs-number">1</span>])x = tree[x].s[<span class="hljs-number">1</span>];<br><br><span class="hljs-keyword">return</span> x;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">get_suc</span><span class="hljs-params">(<span class="hljs-type">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-built_in">find</span>(v);<br><span class="hljs-type">int</span> x = root;<br><span class="hljs-keyword">if</span> (tree[x].v &gt; v)<span class="hljs-keyword">return</span> x;<br>x = tree[x].s[<span class="hljs-number">1</span>];<br><span class="hljs-keyword">while</span> (tree[x].s[<span class="hljs-number">0</span>])x = tree[x].s[<span class="hljs-number">0</span>];<br><br><span class="hljs-keyword">return</span> x;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">search</span><span class="hljs-params">(<span class="hljs-type">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-built_in">find</span>(v);<br><span class="hljs-keyword">if</span> (tree[root].cnt &gt; <span class="hljs-number">1</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> pre = <span class="hljs-built_in">get_pre</span>(v), suc = <span class="hljs-built_in">get_suc</span>(v);<br><br><span class="hljs-type">int</span> a = tree[pre].v, b = tree[suc].v;<br><span class="hljs-keyword">return</span> <span class="hljs-built_in">fabs</span>(a - v) &lt; <span class="hljs-built_in">fabs</span>(b - v) ? <span class="hljs-built_in">fabs</span>(a - v) : <span class="hljs-built_in">fabs</span>(b - v);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin &gt;&gt; n;<br><span class="hljs-type">int</span> x;<br><span class="hljs-type">int</span> ret = <span class="hljs-number">0</span>;<br><span class="hljs-built_in">insert</span>(INF), <span class="hljs-built_in">insert</span>(-INF);<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>&#123;<br>cin &gt;&gt; x;<br><span class="hljs-built_in">insert</span>(x);<br><span class="hljs-keyword">if</span> (i != <span class="hljs-number">0</span>)<br>ret += <span class="hljs-built_in">search</span>(x);<br><span class="hljs-keyword">else</span> ret += x;<br>&#125;<br>cout &lt;&lt; ret &lt;&lt; endl;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="pythonç‰ˆ"><a href="#pythonç‰ˆ" class="headerlink" title="pythonç‰ˆ"></a>pythonç‰ˆ</h2><h3 id="å‡ ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹"><a href="#å‡ ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹" class="headerlink" title="å‡ ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹"></a>å‡ ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹</h3><ul><li>Nodeçš„sizå’Œcntéœ€è¦è®¾ç½®ä¸º0 è€Œä¸æ˜¯1  åœ¨ç”³è¯·ç»“ç‚¹ä¹‹åè®¾ç½®ä¸º1</li><li>idxéœ€è¦è‡ªå¢ï¼ˆC++è½¬pythonçš„æ—¶å€™ ç”±äº++idxå¹¶ä¸æ˜¯æ”¾åœ¨å•ç‹¬çš„ä¸€å¥ï¼Œå†™çš„æ—¶å€™å®¹æ˜“æ¼æ‰</li><li>idxè‡ªå¢ä¹‹åx &#x3D; idxå³å¯</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Node</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, key</span>):<br>        self.s = [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>] <span class="hljs-comment"># son</span><br>        self.p = <span class="hljs-number">0</span> <span class="hljs-comment"># parent</span><br>        self.v = key <span class="hljs-comment"># val</span><br>        self.cnt = <span class="hljs-number">0</span><br>        self.siz = <span class="hljs-number">0</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">SplayTree</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self.N = <span class="hljs-number">100010</span><br>        self.INF = <span class="hljs-number">0x7fffffff</span><br>        self.tree = [Node(<span class="hljs-number">0</span>) <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(self.N)]<br>        self.root = <span class="hljs-number">0</span><br>        self.idx = <span class="hljs-number">0</span><br><br>    <span class="hljs-comment"># æ›´æ–°æ ‘çš„å¤§å°</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">pushup</span>(<span class="hljs-params">self, x</span>):<br>        self.tree[x].siz = self.tree[self.tree[x].s[<span class="hljs-number">0</span>]].siz + self.tree[self.tree[x].s[<span class="hljs-number">1</span>]].siz + self.tree[x].cnt<br><br>    <span class="hljs-string">&quot;&quot;&quot;æ—‹è½¬æ“ä½œ </span><br><span class="hljs-string">    é¦–å…ˆå¾—åˆ°xçš„çˆ¶èŠ‚ç‚¹yå’Œyçš„çˆ¶èŠ‚ç‚¹zï¼Œç”¨kæ¥è¡¨ç¤ºå·¦æ—‹å’Œå³æ—‹ï¼ˆå¦‚æœxåœ¨yçš„å·¦å­æ ‘å³æ—‹ï¼Œxåœ¨yçš„å³å­æ ‘å·¦æ—‹ï¼‰</span><br><span class="hljs-string">    ä»¥å³æ—‹ä¸ºä¾‹ kä¸º0</span><br><span class="hljs-string">    é¦–å…ˆè®©yçš„å·¦å­æ ‘æ”¾ä¸Šxçš„å³å­æ ‘ åŒæ—¶xçš„å³å­æ ‘çš„çˆ¶äº²è®¾ç½®ä¸ºy</span><br><span class="hljs-string">    ç„¶åè®©xçš„å³å­æ ‘æ”¾ä¸Šy åŒæ—¶yçš„çˆ¶äº²è®¾ä¸ºx</span><br><span class="hljs-string">    æœ€åè®©zçš„å³å­æ ‘æ”¾ä¸Šx åŒæ—¶xçš„çˆ¶äº²è®¾ä¸ºz</span><br><span class="hljs-string">    </span><br><span class="hljs-string">    æ›´æ–°x yç»“ç‚¹æ ‘çš„å¤§å°</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">rotate</span>(<span class="hljs-params">self, x</span>):<br>        y = self.tree[x].p<br>        z = self.tree[y].p<br>        k = self.tree[y].s[<span class="hljs-number">1</span>] == x<br><br>        self.tree[y].s[k] = self.tree[x].s[k ^ <span class="hljs-number">1</span>]<br>        self.tree[self.tree[x].s[k ^ <span class="hljs-number">1</span>]].p = y<br><br>        self.tree[x].s[k ^ <span class="hljs-number">1</span>] = y<br>        self.tree[y].p = x<br><br>        self.tree[z].s[self.tree[z].s[<span class="hljs-number">1</span>] == y] = x<br>        self.tree[x].p = z<br><br>        self.pushup(y)<br>        self.pushup(x)<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    splay ä½¿xä¸ºkçš„å„¿å­ æœ‰ä¸‰ç§æƒ…å†µ </span><br><span class="hljs-string">    kæ˜¯æ ¹ åšå•æ—‹  </span><br><span class="hljs-string">    kä¸æ˜¯æ ¹ ç›´çº¿å‹ åšåŒæ—‹ </span><br><span class="hljs-string">    kä¸æ˜¯æ ¹ æŠ˜çº¿å½¢ åšåŒæ—‹</span><br><span class="hljs-string">    </span><br><span class="hljs-string">    å…ˆä¸æ–­å‘ä¸Šæ‰¾xçš„çˆ¶èŠ‚ç‚¹ å½“ä¸ä¸ºkæ—¶ç»§ç»­å¾ªç¯ï¼šå–å‡ºçˆ¶èŠ‚ç‚¹yå’Œç¥–å…ˆç»“ç‚¹z å¦‚æœzä¸æ˜¯xçš„ç¥–å…ˆå°±æ—‹è½¬ </span><br><span class="hljs-string">    å½“ä¸ºç›´çº¿å‹çš„æ—¶å€™ï¼ˆç”¨^åˆ¤æ–­ï¼‰è½¬x  æŠ˜çº¿å½¢è½¬y   æœ€åè¿˜è¦å†è½¬ä¸€ä¸‹x åŒæ—‹ï¼ˆyæ˜¯æ ¹çš„æ—¶å€™åªä¼šè½¬ä¸€æ¬¡xï¼‰</span><br><span class="hljs-string">    </span><br><span class="hljs-string">    å¦‚æœkä¸º0 è¡¨ç¤ºkä¸ºæ ¹èŠ‚ç‚¹ è¦è®¾ç½®xä¸ºæ ¹</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">splay</span>(<span class="hljs-params">self, x, k</span>):<br>        <span class="hljs-keyword">while</span> self.tree[x].p != k:<br>            y = self.tree[x].p<br>            z = self.tree[y].p<br>            <span class="hljs-keyword">if</span> z != k:<br>                <span class="hljs-keyword">if</span> (self.tree[y].s[<span class="hljs-number">0</span>] == x) ^ (self.tree[z].s[<span class="hljs-number">0</span>] == y):<br>                    self.rotate(x)<br>                <span class="hljs-keyword">else</span>:<br>                    self.rotate(y)<br>            self.rotate(x)<br><br>        <span class="hljs-keyword">if</span> k == <span class="hljs-number">0</span>:<br>            self.root = x<br><br>    <span class="hljs-comment"># æ ‘çš„æŸ¥æ‰¾ æ‰¾åˆ°ä¹‹åè¦æŠŠxè®¾ä¸ºæ ¹ï¼ˆsplayï¼‰</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">find</span>(<span class="hljs-params">self, v</span>):<br>        x = self.root<br>        <span class="hljs-keyword">while</span> self.tree[x].s[v &gt; self.tree[x].v] <span class="hljs-keyword">and</span> v != self.tree[x].v:<br>            x = self.tree[x].s[v &gt; self.tree[x].v]<br>        self.splay(x, <span class="hljs-number">0</span>)<br><br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    æ‰¾å‰é©± ç”±äºfindæ˜¯æ‰¾åˆ°vä¸”å½“vä¸å­˜åœ¨æ—¶æ‰¾åˆ°çš„æ˜¯æœ€æ¥è¿‘vçš„å€¼å¹¶å°†å…¶è®¾ç½®ä¸ºæ ¹</span><br><span class="hljs-string">    å½“è¯¥ç»“ç‚¹å°äºvçš„æ—¶å€™ç›´æ¥è¿”å› å¦åˆ™è¿”å›ä»–çš„å·¦å­æ ‘çš„æœ€å³è¾¹çš„å€¼</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_pre</span>(<span class="hljs-params">self, v</span>):<br>        self.find(v)<br>        x = self.root<br>        <span class="hljs-keyword">if</span> self.tree[x].v &lt; v:<br>            <span class="hljs-keyword">return</span> x<br>        x = self.tree[x].s[<span class="hljs-number">0</span>]<br>        <span class="hljs-keyword">while</span> self.tree[x].s[<span class="hljs-number">1</span>]:<br>            x = self.tree[x].s[<span class="hljs-number">1</span>]<br>        <span class="hljs-keyword">return</span> x<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_suc</span>(<span class="hljs-params">self, v</span>):<br>        self.find(v)<br>        x = self.root<br>        <span class="hljs-keyword">if</span> self.tree[x].v &gt; v:<br>            <span class="hljs-keyword">return</span> x<br>        x = self.tree[x].s[<span class="hljs-number">1</span>]<br>        <span class="hljs-keyword">while</span> self.tree[x].s[<span class="hljs-number">0</span>]:<br>            x = self.tree[x].s[<span class="hljs-number">0</span>]<br>        <span class="hljs-keyword">return</span> x<br><br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    åˆ é™¤ç»“ç‚¹ï¼Œå¹¶éçœŸçš„åˆ é™¤ï¼Œè€Œæ˜¯è®©ä»–è®¿é—®ä¸åˆ°</span><br><span class="hljs-string">    å…ˆå–å‡ºvçš„å‰é©±å’Œåç»§ç»“ç‚¹ å¹¶splay</span><br><span class="hljs-string">    è®¾åˆ é™¤ç»“ç‚¹ä¸ºdel_node å¦‚æœå‡ºç°æ¬¡æ•°å¤§äº1 å°±å‡ä¸€å¹¶splay del_node å¦åˆ™splay åç»§ç»“ç‚¹</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">delete</span>(<span class="hljs-params">self, v</span>):<br>        pre = self.get_pre(v)<br>        suc = self.get_suc(v)<br>        self.splay(pre, <span class="hljs-number">0</span>)<br>        self.splay(suc, pre)<br>        del_node = self.tree[suc].s[<span class="hljs-number">0</span>]<br>        <span class="hljs-keyword">if</span> self.tree[del_node].cnt &gt; <span class="hljs-number">1</span>:<br>            self.tree[del_node].cnt -= <span class="hljs-number">1</span><br>            self.splay(del_node, <span class="hljs-number">0</span>)<br>        <span class="hljs-keyword">else</span>:<br>            self.tree[suc].s[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span><br>            self.splay(suc, <span class="hljs-number">0</span>)<br><br>    <span class="hljs-comment"># vçš„æ’ä½å³vä¸ºæ ¹çš„æ—¶å€™vçš„å·¦å­æ ‘å¤§å°</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_rank</span>(<span class="hljs-params">self, v</span>):<br>        self.find(v)<br>        <span class="hljs-keyword">return</span> self.tree[self.tree[self.root].s[<span class="hljs-number">0</span>]].siz<br><br>    <span class="hljs-comment"># kä½çš„å€¼ ä¸æ–­æ‰¾åˆ°xçš„å·¦å­æ ‘ å¦‚æœå·¦å­æ ‘çš„sizåŠ xçš„cntå¤§äºk å°±å¾€å·¦å­æ ‘èµ° å¦åˆ™å°±è®©kå‡å»ä»–ä»¬ä¿©çš„å’Œå¹¶å¾€å³å­æ ‘èµ°</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_val</span>(<span class="hljs-params">self, k</span>):<br>        x = self.root<br>        <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>            y = self.tree[x].s[<span class="hljs-number">0</span>]<br>            <span class="hljs-keyword">if</span> self.tree[y].siz + self.tree[x].cnt &lt; k:<br>                k -= self.tree[y].siz + self.tree[x].cnt<br>                x = self.tree[x].s[<span class="hljs-number">1</span>]<br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-keyword">if</span> self.tree[y].siz &gt;= k:<br>                    x = self.tree[x].s[<span class="hljs-number">0</span>]<br>                <span class="hljs-keyword">else</span>:<br>                    <span class="hljs-keyword">break</span><br>        self.splay(x,<span class="hljs-number">0</span>)<br>        <span class="hljs-keyword">return</span> self.tree[x].v<br><br>    <span class="hljs-comment"># æ’å…¥æ“ä½œ å…ˆå–å‡ºæ ¹èŠ‚ç‚¹ çˆ¶èŠ‚ç‚¹ä¸º0 ä¸æ–­å‘ä¸‹é€’å½’æ‰¾åˆ°xçš„æ’å…¥ä½ç½®  æ‰¾åˆ°ä¹‹å å¦‚æœè¯¥ç»“ç‚¹å·²ç»å­˜åœ¨ å°±è®©cnt+1 å¦åˆ™åˆ›å»ºæ–°èŠ‚ç‚¹ï¼ˆidx+1 pçš„å„¿å­ä¸ºx åˆå§‹åŒ–x</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">insert</span>(<span class="hljs-params">self, v</span>):<br>        x = self.root<br>        p = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">while</span> x <span class="hljs-keyword">and</span> self.tree[x].v != v:<br>            p = x<br>            x = self.tree[x].s[v &gt; self.tree[x].v]<br>        <span class="hljs-keyword">if</span> x:<br>            self.tree[x].cnt += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-comment"># æ³¨æ„ è¿™é‡Œçš„idxè¦å…ˆ++</span><br>            self.idx += <span class="hljs-number">1</span><br>            x = self.idx<br>            self.tree[p].s[v &gt; self.tree[p].v] = x<br>            self.tree[x].p = p<br>            self.tree[x].v = v<br>            self.tree[x].cnt = <span class="hljs-number">1</span><br>            self.tree[x].siz = <span class="hljs-number">1</span><br>        self.splay(x, <span class="hljs-number">0</span>)<br><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():<br>    st = SplayTree()<br>    st.insert(-st.INF)<br>    st.insert(st.INF)<br>    n = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>())<br>    <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>        p, val = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split())<br>        <span class="hljs-keyword">if</span> p == <span class="hljs-number">1</span>:<br>            st.insert(val)<br>        <span class="hljs-keyword">elif</span> p == <span class="hljs-number">2</span>:<br>            st.delete(val)<br>        <span class="hljs-keyword">elif</span> p == <span class="hljs-number">3</span>:<br>            <span class="hljs-built_in">print</span>(st.get_rank(val))<br>        <span class="hljs-keyword">elif</span> p == <span class="hljs-number">4</span>:<br>            <span class="hljs-built_in">print</span>(st.get_val(val + <span class="hljs-number">1</span>))<br>        <span class="hljs-keyword">elif</span> p == <span class="hljs-number">5</span>:<br>            <span class="hljs-built_in">print</span>(st.tree[st.get_pre(val)].v)<br>        <span class="hljs-keyword">elif</span> p == <span class="hljs-number">6</span>:<br>            <span class="hljs-built_in">print</span>(st.tree[st.get_suc(val)].v)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    main()<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Tree</tag>
      
      <tag>study</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æœç´¢äºŒå‰æ ‘</title>
    <link href="/2023/08/07/%E6%90%9C%E7%B4%A2%E4%BA%8C%E5%8F%89%E6%A0%91/"/>
    <url>/2023/08/07/%E6%90%9C%E7%B4%A2%E4%BA%8C%E5%8F%89%E6%A0%91/</url>
    
    <content type="html"><![CDATA[<h1 id="äºŒå‰æœç´¢æ ‘"><a href="#äºŒå‰æœç´¢æ ‘" class="headerlink" title="äºŒå‰æœç´¢æ ‘"></a><a href="https://www.luogu.com.cn/problem/P5076">äºŒå‰æœç´¢æ ‘</a></h1><h2 id="C"><a href="#C" class="headerlink" title="C++"></a>C++</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-type">const</span> <span class="hljs-type">int</span> INF = <span class="hljs-number">0x7fffffff</span>;<br><span class="hljs-type">int</span> cont = <span class="hljs-number">0</span>; <br><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">BiNode</span><br>&#123;<br><span class="hljs-type">int</span> ls, rs, val, cnt, siz;<br>&#125;tree[<span class="hljs-number">1000010</span>];<br><br><span class="hljs-type">int</span> n,q,val;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-type">int</span> x,<span class="hljs-type">int</span> val)</span></span><br><span class="hljs-function"></span>&#123;<br>tree[x].siz++;<span class="hljs-comment">// é¦–å…ˆï¼Œæ’å…¥çš„è¿™ä¸ªç»“ç‚¹çš„siz++</span><br><span class="hljs-comment">// å¦‚æœå·²ç»æœ‰è¿™ä¸ªç»“ç‚¹ï¼Œå°±cnt++ï¼Œå› ä¸ºæœç´¢æ ‘ä¸­ä¸èƒ½æœ‰é‡å¤ç»“ç‚¹</span><br><span class="hljs-keyword">if</span> (val == tree[x].val)<br>&#123;<br>tree[x].cnt++;<br><span class="hljs-keyword">return</span>;<br>&#125;<br><br><span class="hljs-keyword">if</span> (val &lt; tree[x].val)<br>&#123;<br>        <span class="hljs-comment">// åˆ°æœ€å·¦è¾¹</span><br><span class="hljs-keyword">if</span> (tree[x].ls == <span class="hljs-number">0</span>)<br>&#123;<br>            <span class="hljs-comment">// å¼€è¾Ÿæ–°ç»“ç‚¹å¹¶èµ‹å€¼</span><br>cont++;<br>tree[cont].val = val;<br>tree[cont].cnt = tree[cont].siz = <span class="hljs-number">1</span>;<br>tree[x].ls = cont;<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br><span class="hljs-built_in">add</span>(tree[x].ls, val);<br>&#125;<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br><span class="hljs-keyword">if</span> (tree[x].rs == <span class="hljs-number">0</span>)<br>&#123;<br>cont++;<br>tree[cont].cnt = tree[cont].siz = <span class="hljs-number">1</span>;<br>tree[cont].val = val;<br>tree[x].rs = cont;<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br><span class="hljs-built_in">add</span>(tree[x].rs, val);<br>&#125;<br>&#125;<br>&#125;<br><span class="hljs-comment">// æ‰¾å‰é©±</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">queryfr</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> val, <span class="hljs-type">int</span> ans)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// å¦‚æœå°äºå½“å‰ç»“ç‚¹</span><br><span class="hljs-keyword">if</span> (tree[x].val &gt;= val)<br>&#123;<br>        <span class="hljs-comment">// æ‰¾åˆ°æœ€å·¦è¾¹äº†ï¼Œç›´æ¥è¿”å›ans</span><br><span class="hljs-keyword">if</span> (tree[x].ls == <span class="hljs-number">0</span>)<br><span class="hljs-keyword">return</span> ans;<br><span class="hljs-keyword">else</span><br>            <span class="hljs-comment">//ä¸ç„¶å°±ç»§ç»­æ‰¾</span><br><span class="hljs-built_in">queryfr</span>(tree[x].ls, val, ans);<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br><span class="hljs-keyword">if</span> (tree[x].rs == <span class="hljs-number">0</span>)<br><span class="hljs-keyword">return</span> tree[x].val &gt; val ? ans : tree[x].val;<br><span class="hljs-keyword">else</span><br><span class="hljs-keyword">return</span> <span class="hljs-built_in">queryfr</span>(tree[x].rs, val, tree[x].val);<br><br>&#125;<br>&#125;<br><span class="hljs-comment">// æ‰¾åç»§</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">queryne</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> val, <span class="hljs-type">int</span> ans)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">if</span> (tree[x].val &lt;= val)<br>&#123;<br><span class="hljs-keyword">if</span> (tree[x].rs == <span class="hljs-number">0</span>)<br><span class="hljs-keyword">return</span> ans;<br><span class="hljs-keyword">else</span><br><span class="hljs-built_in">queryne</span>(tree[x].rs, val, ans);<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br><span class="hljs-keyword">if</span> (tree[x].ls == <span class="hljs-number">0</span>)<br><span class="hljs-keyword">return</span> tree[x].val &lt; ans ? tree[x].val : ans;<br><span class="hljs-keyword">else</span><br><span class="hljs-built_in">queryne</span>(tree[x].ls, val, tree[x].val);<br>&#125;<br><br>&#125;<br><span class="hljs-comment">// æ‰¾valçš„æ’ä½</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">quertval</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> val)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// æ²¡æ‰¾åˆ°å°±è¿”å›0ï¼Œå½“æ‰¾åˆ°æœ€åè¿˜æ²¡æœ‰æ‰¾åˆ°çš„æ—¶å€™ï¼Œå°±ä¼šèµ°åˆ°lsæˆ–rs==0ï¼Œèµ‹å€¼ç»™xï¼Œå°±ä¼šä»è¿™é‡Œé€€å‡º</span><br><span class="hljs-keyword">if</span> (x == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br><span class="hljs-comment">// æ‰¾åˆ°äº†å°±è¿”å›ï¼Œå½“å‰è¿™ä¸ªç»“ç‚¹çš„å·¦å­æ ‘çš„é•¿åº¦</span><br><span class="hljs-keyword">if</span> (tree[x].val == val)<br><span class="hljs-keyword">return</span> tree[tree[x].ls].siz;<br>    <span class="hljs-comment">// å¦‚æœå°äºå½“å‰ç»“ç‚¹çš„å€¼ï¼Œå¾€å·¦</span><br><span class="hljs-keyword">if</span> (tree[x].val &gt; val)<br><span class="hljs-keyword">return</span> <span class="hljs-built_in">quertval</span>(tree[x].ls, val);<br>    <span class="hljs-comment">// å¾€å³çš„æ—¶å€™è¦å…ˆå‡æ‰å·¦å­æ ‘å’Œè‡ªèº«çš„å€¼</span><br><span class="hljs-keyword">else</span><br><span class="hljs-keyword">return</span> <span class="hljs-built_in">quertval</span>(tree[x].rs, val) + tree[tree[x].ls].siz + tree[x].cnt;<br>&#125;<br><span class="hljs-comment">// æ‰¾æ’ä½ä¸ºrkçš„å€¼</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">quertrk</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> rk)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// rkç´¢å¼•è¶Šç•Œ</span><br><span class="hljs-keyword">if</span> (x == <span class="hljs-number">0</span>)<br><span class="hljs-keyword">return</span> INF;<br><span class="hljs-comment">// å·¦å­æ ‘å¤§äºrkï¼Œè¯´æ˜åœ¨å·¦å­æ ‘é‡Œé¢æ‰¾</span><br><span class="hljs-keyword">if</span> (tree[tree[x].ls].siz &gt;= rk)<br><span class="hljs-keyword">return</span> <span class="hljs-built_in">quertrk</span>(tree[x].ls, rk);<br>    <span class="hljs-comment">// å·¦å­æ ‘+cntå¤§äºrkï¼Œè¯´æ˜å°±æ˜¯å½“å‰çš„val</span><br><span class="hljs-keyword">if</span> (tree[tree[x].ls].siz + tree[x].cnt &gt;= rk)<br><span class="hljs-keyword">return</span> tree[x].val;<br>    <span class="hljs-comment">// å¦åˆ™åœ¨å³å­æ ‘ï¼Œè¦å…ˆå‡æ‰å·¦å­æ ‘å’Œcnt</span><br><span class="hljs-keyword">return</span> <span class="hljs-built_in">quertrk</span>(tree[x].rs, rk - tree[tree[x].ls].siz - tree[x].cnt);<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>cin &gt;&gt; n;<br><span class="hljs-keyword">while</span> (n--)<br>&#123;<br>cin &gt;&gt; q &gt;&gt; val;<br><span class="hljs-keyword">switch</span> (q)<br>&#123;<br><span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:<br>cout &lt;&lt; <span class="hljs-built_in">quertval</span>(<span class="hljs-number">1</span>, val) + <span class="hljs-number">1</span> &lt;&lt; endl;<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>cout &lt;&lt; <span class="hljs-built_in">quertrk</span>(<span class="hljs-number">1</span>, val) &lt;&lt; endl;<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br>cout&lt;&lt;<span class="hljs-built_in">queryfr</span>(<span class="hljs-number">1</span>, val, -INF) &lt;&lt; endl;<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:<br>cout &lt;&lt; <span class="hljs-built_in">queryne</span>(<span class="hljs-number">1</span>, val, INF) &lt;&lt; endl;<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:<br><span class="hljs-comment">//ç‰¹åˆ¤æ ¹èŠ‚ç‚¹</span><br><span class="hljs-keyword">if</span> (cont == <span class="hljs-number">0</span>)<br>&#123;<br>cont++;<br>tree[cont].cnt = tree[cont].siz = <span class="hljs-number">1</span>;<br>tree[cont].val = val;<br>&#125;<br><span class="hljs-keyword">else</span> <span class="hljs-built_in">add</span>(<span class="hljs-number">1</span>, val);<br><span class="hljs-keyword">break</span>;<br><br><span class="hljs-keyword">default</span>:<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="è¿™ä¸ªå°ä¼™å±…ç„¶è¿˜ç”¨pythonå†™äº†ä¸€é"><a href="#è¿™ä¸ªå°ä¼™å±…ç„¶è¿˜ç”¨pythonå†™äº†ä¸€é" class="headerlink" title="è¿™ä¸ªå°ä¼™å±…ç„¶è¿˜ç”¨pythonå†™äº†ä¸€é"></a><del>è¿™ä¸ªå°ä¼™å±…ç„¶è¿˜ç”¨pythonå†™äº†ä¸€é</del></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><code class="hljs python">INF = <span class="hljs-number">0x7fffffff</span><br>cont = <span class="hljs-number">0</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Node</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self,val=<span class="hljs-number">0</span>,siz=<span class="hljs-number">0</span>,cnt=<span class="hljs-number">0</span>,ls=<span class="hljs-number">0</span>,rs=<span class="hljs-number">0</span></span>):<br>        self.val = val<br>        self.siz = siz<br>        self.cnt = cnt<br>        self.ls = ls<br>        self.rs = rs<br><br><br><span class="hljs-comment"># ç¥å¥‡çš„æ–¹æ³•</span><br>tree = [Node() <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">100000</span>)]<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">x,v</span>):<br>    <span class="hljs-keyword">global</span> cont,tree<br>    tree[x].siz += <span class="hljs-number">1</span><br>    <span class="hljs-keyword">if</span> tree[x].val == v:<br>        tree[x].cnt += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span><br><br>    <span class="hljs-keyword">if</span> tree[x].val &gt; v:<br>        <span class="hljs-keyword">if</span> tree[x].ls != <span class="hljs-number">0</span>:<br>            add(tree[x].ls,v)<br>        <span class="hljs-keyword">else</span>:<br>            cont += <span class="hljs-number">1</span><br>            tree[cont].val = v<br>            tree[cont].siz = tree[cont].cnt = <span class="hljs-number">1</span><br>            tree[x].ls = cont<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">if</span> tree[x].rs != <span class="hljs-number">0</span>:<br>            add(tree[x].rs,v)<br>        <span class="hljs-keyword">else</span>:<br>            cont += <span class="hljs-number">1</span><br>            tree[cont].val = v<br>            tree[cont].siz = tree[cont].cnt = <span class="hljs-number">1</span><br>            tree[x].rs = cont<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">queryfr</span>(<span class="hljs-params">x,val,ans</span>):<br>    <span class="hljs-keyword">global</span> tree<br>    <span class="hljs-keyword">if</span> tree[x].val &gt;= val:<br>        <span class="hljs-keyword">if</span> tree[x].ls == <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">return</span> ans<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> queryfr(tree[x].ls,val,ans)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">if</span> tree[x].rs == <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">if</span> tree[x].val &lt; val:<br>                <span class="hljs-keyword">return</span> tree[x].val<br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-keyword">return</span> ans<br>        <span class="hljs-keyword">if</span> tree[x].cnt != <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">return</span> queryfr(tree[x].rs,val,tree[x].val)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> queryfr(tree[x],val,ans)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">queryne</span>(<span class="hljs-params">x,val,ans</span>):<br>    <span class="hljs-keyword">global</span> tree<br>    <span class="hljs-keyword">if</span> tree[x].val &lt;= val:<br>        <span class="hljs-keyword">if</span> tree[x].rs == <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">return</span> ans<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> queryne(tree[x].rs,val,ans)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">if</span> tree[x].ls == <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">if</span> tree[x].val &gt; val:<br>                <span class="hljs-keyword">return</span> tree[x].val<br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-keyword">return</span> ans<br>        <span class="hljs-comment"># è¿™é‡Œæœ‰ç‚¹å¤šä½™</span><br>        <span class="hljs-keyword">if</span> tree[x].cnt != <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">return</span> queryne(tree[x].ls,val,tree[x].val)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> queryne(tree[x].ls, val,ans)<br><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">queryrk</span>(<span class="hljs-params">x,rk</span>):<br>    <span class="hljs-keyword">global</span> tree<br>    <span class="hljs-keyword">if</span> x == <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">return</span> INF<br>    <span class="hljs-keyword">if</span> tree[tree[x].ls].siz &gt;= rk:<br>        <span class="hljs-keyword">return</span> queryrk(tree[x].ls,rk)<br>    <span class="hljs-keyword">if</span> tree[tree[x].ls].siz + tree[x].cnt &gt;= rk:<br>        <span class="hljs-keyword">return</span> tree[x].val<br>    <span class="hljs-keyword">return</span> queryrk(tree[x].rs,rk - tree[tree[x].ls].siz-tree[x].cnt)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">queryval</span>(<span class="hljs-params">x,val</span>):<br>    <span class="hljs-keyword">global</span> tree<br>    <span class="hljs-keyword">if</span> x == <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>    <span class="hljs-keyword">if</span> val == tree[x].val:<br>        <span class="hljs-keyword">return</span> tree[tree[x].ls].siz<br>    <span class="hljs-keyword">if</span> val &lt; tree[x].val:<br>        <span class="hljs-keyword">return</span> queryval(tree[x].ls,val)<br>    <span class="hljs-keyword">return</span> queryval(tree[x].rs,val)+tree[tree[x].ls].siz+tree[x].cnt<br><br><br><br>n = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>())<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>    q,v = [<span class="hljs-built_in">int</span>(x) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">input</span>().split()]<br>    <span class="hljs-keyword">if</span> q == <span class="hljs-number">5</span>:<br>        <span class="hljs-keyword">if</span> cont == <span class="hljs-number">0</span>:<br>            cont += <span class="hljs-number">1</span><br>            tree[cont].cnt = tree[cont].siz = <span class="hljs-number">1</span><br>            tree[cont].val = v<br>        <span class="hljs-keyword">else</span>:<br>            add(<span class="hljs-number">1</span>,v)<br>    <span class="hljs-keyword">elif</span> q == <span class="hljs-number">1</span>:<br>        <span class="hljs-built_in">print</span>(queryval(<span class="hljs-number">1</span>,v)+<span class="hljs-number">1</span>)<br>    <span class="hljs-keyword">elif</span> q == <span class="hljs-number">2</span>:<br>        <span class="hljs-built_in">print</span>(queryrk(<span class="hljs-number">1</span>,v))<br>    <span class="hljs-keyword">elif</span> q == <span class="hljs-number">3</span>:<br>        <span class="hljs-built_in">print</span>(queryfr(<span class="hljs-number">1</span>,v,-INF))<br>    <span class="hljs-keyword">elif</span> q == <span class="hljs-number">4</span>:<br>        <span class="hljs-built_in">print</span>(queryne(<span class="hljs-number">1</span>,v,INF))<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Tree</tag>
      
      <tag>study</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>latexå­¦ä¹ </title>
    <link href="/2023/08/02/latex%E5%AD%A6%E4%B9%A0/"/>
    <url>/2023/08/02/latex%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h2 id="æ ¼å¼"><a href="#æ ¼å¼" class="headerlink" title="æ ¼å¼"></a>æ ¼å¼</h2><ul><li><p>é¦–å…ˆ\documentclass[UTF8]{ctexart}</p><p>â€¦.(å®åŒ…)</p><p>\begin{document}</p><p>â€¦â€¦</p><p>\end{document}</p></li><li><p>è¡Œå†…è¦ç”¨$$æ‹¬èµ·æ¥ è¡Œé—´è¦ç”¨$$$$æ‹¬èµ·æ¥</p></li><li><p>å…¬å¼å¯¹é½ ä¸åŒçš„ç¯å¢ƒè¯­æ³•ä¸åŒ eqnarrayæ˜¯&amp;&#x3D;&amp;ï¼›alignæ˜¯&amp;&#x3D;</p></li><li><p>åˆ†æ®µå‡½æ•°  casesç¯å¢ƒ  ä½¿ç”¨&amp; å¯¹é½  \\æ¢è¡Œ</p></li><li><p>çŸ©é˜µ array beginåé¢åŠ {ccc}è¡¨ç¤ºæ ¼å¼  éœ€è¦$$$$å’Œè‡ªå·±åŠ æ‹¬å·</p></li><li><p>è¦è¡¨ç¤ºå¸¦çœç•¥å·çš„çŸ©é˜µ ç”¨pmatrixç¯å¢ƒ</p></li><li><p>è¡¨æ ¼ æ•°å­—è¡¨æ ¼å³çŸ©é˜µåŠ |ï¼Œå¸¦æ±‰å­—çš„è¦ä½¿ç”¨tabularç¯å¢ƒã€‚è¡¨æ ¼çš„æ¨ªçº¿ä¸º\hline</p></li><li><p>æ’å›¾ \includegraphics[scale&#x3D;<em>] [width&#x3D;</em>][height&#x3D;*]{.png}</p><p>æˆ–ä½¿ç”¨\figureç¯å¢ƒ</p><p>\begin{figure}[H]</p><p> \centering</p><p> % Requires \usepackage{graphicx}</p><p> \includegraphics[width&#x3D;12pt]{.png}\</p><p> \caption{å›¾1}</p><p>\end{figure}</p></li></ul><h2 id="æ­£æ–‡éƒ¨åˆ†"><a href="#æ­£æ–‡éƒ¨åˆ†" class="headerlink" title="æ­£æ–‡éƒ¨åˆ†"></a>æ­£æ–‡éƒ¨åˆ†</h2><ul><li>\textbf{}åŠ ç²—</li><li>\textit{}æ–œä½“</li><li>underline ä¸‹åˆ’çº¿</li></ul><h2 id="ç« èŠ‚"><a href="#ç« èŠ‚" class="headerlink" title="ç« èŠ‚"></a>ç« èŠ‚</h2><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs latex"><span class="hljs-keyword">\documentclass</span>[UTF8]&#123;ctexart&#125;<br><br><span class="hljs-keyword">\begin</span>&#123;document&#125; //æ­£æ–‡<br><br><span class="hljs-keyword">\part</span>&#123;A&#125; // è¯¥éƒ¨åˆ†æ ‡é¢˜ä¸ºA å¹¶ä¸”å¼€å§‹ä¸€ä¸ªéƒ¨åˆ† ç›´åˆ°ä¸‹ä¸€ä¸ªéƒ¨åˆ†<br><br><span class="hljs-keyword">\chapter</span>&#123;B&#125; //è¯¥ç« èŠ‚æ ‡é¢˜ä¸ºB å¹¶ä¸”å¼€å§‹ä¸€ä¸ªéƒ¨åˆ† ç›´åˆ°ä¸‹ä¸€ä¸ªéƒ¨åˆ†<br><br><span class="hljs-keyword">\section</span>&#123;C&#125; //è¯¥ç« èŠ‚æ ‡é¢˜ä¸ºC å¹¶ä¸”å¼€å§‹ä¸€ä¸ªéƒ¨åˆ† ç›´åˆ°ä¸‹ä¸€ä¸ªéƒ¨åˆ†<br><br><span class="hljs-keyword">\subsection</span>&#123;D&#125; //åˆ›å»ºå­ç« èŠ‚<br><br><span class="hljs-keyword">\subsubsection</span> //.<br><br><span class="hljs-keyword">\end</span>&#123;document&#125;<br></code></pre></td></tr></table></figure><h2 id="å›¾ç‰‡"><a href="#å›¾ç‰‡" class="headerlink" title="å›¾ç‰‡"></a>å›¾ç‰‡</h2><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs latex"><span class="hljs-keyword">\documentclass</span>[UTF8]&#123;ctexart&#125;<br><span class="hljs-keyword">\usepackage</span>&#123;graphicx&#125; //å¼•å…¥å®åŒ…<br><span class="hljs-keyword">\begin</span>&#123;document&#125;<br><br><span class="hljs-keyword">\begin</span>&#123;figure&#125;<br><span class="hljs-keyword">\centering</span> // å±…ä¸­<br><span class="hljs-keyword">\includegraphics</span>[width=0.5<span class="hljs-keyword">\textwidth</span>]&#123;head&#125;<br><span class="hljs-keyword">\caption</span>&#123;...&#125; //å›¾ç‰‡æ ‡é¢˜<br><span class="hljs-keyword">\end</span>&#123;figure&#125;<br><br><span class="hljs-keyword">\end</span>&#123;document&#125;<br></code></pre></td></tr></table></figure><h2 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h2><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs latex"><span class="hljs-keyword">\documentclass</span>[UTF8]&#123;ctexart&#125;<br><span class="hljs-keyword">\begin</span>&#123;document&#125;<br><br>//æ— åºåˆ—è¡¨ç¯å¢ƒä¸ºitemize<br><span class="hljs-keyword">\begin</span>&#123;enumerate&#125;<br><span class="hljs-keyword">\item</span> åˆ—è¡¨é¡¹1<br><span class="hljs-keyword">\item</span> åˆ—è¡¨é¡¹2<br><span class="hljs-keyword">\end</span>&#123;enumerate&#125;<br><br><span class="hljs-keyword">\end</span>&#123;document&#125;<br></code></pre></td></tr></table></figure><h2 id="å…¬å¼"><a href="#å…¬å¼" class="headerlink" title="å…¬å¼"></a>å…¬å¼</h2><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs latex"><span class="hljs-keyword">\documentclass</span>[UTF8]&#123;ctexart&#125;<br><br><span class="hljs-keyword">\begin</span>&#123;document&#125;<br><br>// è¡Œå†…å…¬å¼<br>AAAAA <span class="hljs-built_in">$</span>E = mc<span class="hljs-built_in">^</span>2<span class="hljs-built_in">$</span><br>// è¡Œé—´å…¬å¼<br>// ä½¿ç”¨equationç¯å¢ƒ<br><span class="hljs-keyword">\begin</span>&#123;equation&#125;<br>E = mc<span class="hljs-built_in">^</span>2<br><span class="hljs-keyword">\end</span>&#123;equation&#125;<br>// æˆ–è€…ç”¨<span class="hljs-keyword">\[</span> å’Œ <span class="hljs-keyword">\]</span><br><span class="hljs-keyword">\[</span><br>E = mc<span class="hljs-built_in">^</span>2<br><span class="hljs-keyword">\]</span><br><span class="hljs-keyword">\end</span>&#123;document&#125;<br></code></pre></td></tr></table></figure><h2 id="è¡¨-æ ¼"><a href="#è¡¨-æ ¼" class="headerlink" title="è¡¨ æ ¼"></a>è¡¨ æ ¼</h2><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs latex"><span class="hljs-keyword">\documentclass</span>[UTF8]&#123;ctexart&#125;<br><span class="hljs-keyword">\begin</span>&#123;document&#125;<br><br><span class="hljs-keyword">\begin</span>&#123;table&#125;// éœ€è¦æ ‡é¢˜å’Œå±…ä¸­çš„æ—¶å€™è¦æŠŠè¡¨æ ¼æ”¾åœ¨tableç¯å¢ƒä¸­<br><br><span class="hljs-keyword">\center</span><br><br><span class="hljs-keyword">\begin</span>&#123;tabular&#125;&#123;c c c&#125;  // c | c cä»£è¡¨è¡¨æ ¼å…±ä¸‰åˆ— æ¯åˆ—å†…å®¹éƒ½å±…ä¸­å¯¹é½ ç”¨lè¡¨ç¤ºå·¦å¯¹é½ rå³ æ·»åŠ ç«–çº¿ä»£è¡¨ç«–è¾¹æ¡† æ°´å¹³è¾¹æ¡†é€šè¿‡<span class="hljs-keyword">\hline</span>æ·»åŠ  æ¯æ ¼ä¹‹é—´ç”¨<span class="hljs-built_in">&amp;</span>éš”å¼€ æ¯è¡Œä¹‹é—´ç”¨<span class="hljs-keyword">\\</span>éš”å¼€<br>// æŠŠcæ”¹æˆp&#123;2cm&#125;è‡ªå®šä¹‰åˆ—å®½<br><span class="hljs-keyword">\hline</span><br>å•å…ƒæ ¼1 <span class="hljs-built_in">&amp;</span> å•å…ƒæ ¼2 <span class="hljs-built_in">&amp;</span> å•å…ƒæ ¼3 <span class="hljs-keyword">\\</span>      <br><span class="hljs-keyword">\hline</span> //åŒæ¨ªçº¿<br><span class="hljs-keyword">\hline</span><br>å•å…ƒæ ¼4 <span class="hljs-built_in">&amp;</span> å•å…ƒæ ¼5 <span class="hljs-built_in">&amp;</span> å•å…ƒæ ¼6 <span class="hljs-keyword">\\</span><br>å•å…ƒæ ¼7 <span class="hljs-built_in">&amp;</span> å•å…ƒæ ¼8 <span class="hljs-built_in">&amp;</span> å•å…ƒæ ¼9 <br><span class="hljs-keyword">\end</span>&#123;tabular&#125;<br><br><span class="hljs-keyword">\caption</span>&#123;title&#125;<br><br><span class="hljs-keyword">\end</span>&#123;table&#125;<br><br><span class="hljs-keyword">\end</span>&#123;document&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>study</tag>
      
      <tag>latex</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>matlabå­¦ä¹ </title>
    <link href="/2023/08/02/matlab%E5%AD%A6%E4%B9%A0/"/>
    <url>/2023/08/02/matlab%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h2 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h2><ul><li>éƒ¨åˆ†è¡¨</li></ul><table><thead><tr><th><strong>help</strong></th><th>å¸®åŠ©æŸ¥è¯¢</th></tr></thead><tbody><tr><td><strong>clc</strong></td><td>åˆ é™¤å‘½ä»¤çª—å£çš„å†…å®¹ï¼ˆå·²ä½¿ç”¨è¿‡çš„å‘½ä»¤ï¼‰</td></tr><tr><td><strong>clear</strong></td><td>åˆ é™¤å†…å­˜ä¸­çš„å˜é‡ï¼ˆæ•°æ®ï¼‰</td></tr><tr><td><strong>clf</strong></td><td>åˆ é™¤å›¾å½¢çª—å£çš„å†…å®¹</td></tr><tr><td><strong>who</strong></td><td>åˆ—å‡ºåœ¨MATLABå·¥ä½œç©ºé—´ä¸­å·²æœ‰çš„å˜é‡</td></tr><tr><td><strong>whos</strong></td><td>åˆ—å‡ºé©»ç•™å˜é‡çš„åŒæ—¶,è¿˜ç»™å‡ºç»´æ•°åŠæ€§è´¨</td></tr><tr><td><strong>home</strong></td><td>å…‰æ ‡ç§»åˆ°å‘½ä»¤çª—å£çš„å·¦ä¸Šè§’</td></tr><tr><td><strong>â†‘</strong></td><td>è°ƒå‡ºåˆšæ‰ä½¿ç”¨è¿‡çš„å‘½ä»¤</td></tr><tr><td><strong>quit</strong></td><td>é€€å‡ºMATLAB</td></tr></tbody></table><table><thead><tr><th>r</th><th>çº¢è‰²</th><th>-</th><th>å®çº¿</th></tr></thead><tbody><tr><td>g</td><td>ç»¿è‰²</td><td>â€“</td><td>è™šçº¿</td></tr><tr><td>b</td><td>è“è‰²</td><td>:</td><td>ç‚¹çº¿</td></tr><tr><td>y</td><td>é»„è‰²</td><td>-.</td><td>ç‚¹åˆ’çº¿</td></tr><tr><td>m</td><td>æ´‹çº¢è‰²</td><td>o</td><td>åœ†åœˆ</td></tr><tr><td>c</td><td>é’è‰²</td><td>x</td><td>å‰å·</td></tr><tr><td>w</td><td>ç™½è‰²</td><td>+</td><td>åŠ å·</td></tr><tr><td>k</td><td>é»‘è‰²</td><td>s</td><td>æ­£æ–¹å½¢</td></tr><tr><td>*</td><td>æ˜Ÿå·</td><td>d</td><td>è±å½¢</td></tr><tr><td>v</td><td>å‘ä¸‹ä¸‰è§’</td><td>^</td><td>å‘ä¸Šä¸‰è§’</td></tr><tr><td>.</td><td>ç‚¹å·</td><td>h</td><td>å…­è§’å½¢</td></tr></tbody></table><ul><li><p>é¦–å…ˆæ³¨æ„å’Œæ•°å­—è¿ç®—çš„æ—¶å€™è¿ç®—ç¬¦è¦åŠ ç‚¹</p></li><li><p>axis([])è®¾ç½®åæ ‡è½´èŒƒå›´</p></li><li><p>grid on æ˜¾ç¤ºç½‘æ ¼çº¿ titleæ˜¾ç¤ºæ ‡é¢˜ xlabelæ ‡è®°xè½´ legendæ·»åŠ å›¾ä¾‹</p></li></ul><h2 id="plot-x-y-â€™color-style-markerâ€™-ç»˜åˆ¶å›¾åƒ"><a href="#plot-x-y-â€™color-style-markerâ€™-ç»˜åˆ¶å›¾åƒ" class="headerlink" title="plot(x,y,â€™color-style-markerâ€™)ç»˜åˆ¶å›¾åƒ"></a>plot(x,y,â€™color-style-markerâ€™)ç»˜åˆ¶å›¾åƒ</h2><ul><li><p>é€‰ç‚¹ï¼šx &#x3D; linspace(0,1,100)  ä¹Ÿå¯ä»¥ä½¿ç”¨x &#x3D; a : step : b</p><p>y1 &#x3D; linspace(0,1,100) é€‰æ‹©å¯¹åº”çš„ç‚¹ plot(x,y,â€™râ€™) éœ€è¦ä¿è¯æ˜¯åŒç»´çš„</p><p>ä¹Ÿå¯ä»¥ä½¿ç”¨è§£æå¼çš„æ–¹å¼ï¼Œå…ˆç¡®å®šxçš„èŒƒå›´ï¼Œç„¶åç”¨xè¡¨ç¤ºyå³å¯ï¼Œä½†æ˜¯è¦æ³¨æ„è¡¨ç¤ºçš„å„ä¸ªç¬¦å·æ˜¯å¦åŠ ç‚¹ã€‚</p><p>ä¾‹ï¼šy &#x3D; -0,0234 * x + 1.2551 * x .^(2&#x2F;3)   y &#x3D; sin(x) </p></li><li><p>ä¸‰ç»´å›¾åƒ plot3 ç”¨æ¥ç»˜åˆ¶ä¸€ç»„ä¸‰ç»´æ›²çº¿  éœ€è¦ä¿è¯æ˜¯åŒç»´çš„   </p><p> mesh ç”¨æ¥ç»˜åˆ¶ä¸‰ç»´æ›²é¢çš„ç½‘æ ¼çº¿å›¾ å…ˆé€‰ç‚¹ ç„¶å [X,Y] &#x3D; meshgrid(x,y) Z &#x3D;  X.^2+Y.^2 æœ€åmesh(X,Y,Z)\</p></li><li><p>å¦‚æœæƒ³è¦ç”»åœ†åœˆå’Œè¿çº¿é‚£å°±æ˜¯plot(x,a,â€™oâ€™,x,a)  â€˜boâ€™æ˜¯è“è‰²åœ†åœˆ</p><p> å‰ä¸€ä¸ªxaç”»åœ†åœˆï¼ˆæ•£ç‚¹ï¼‰åä¸€ä¸ªxaç”»ç›´çº¿</p></li></ul><h2 id="è§£æ–¹ç¨‹"><a href="#è§£æ–¹ç¨‹" class="headerlink" title="è§£æ–¹ç¨‹"></a>è§£æ–¹ç¨‹</h2><ul><li><p>solve è§£çº¿æ€§æ–¹ç¨‹ç»„ ä½¿ç”¨å‰è¦å®šä¹‰å˜é‡ syms a b x â€¦</p><p>S &#x3D; solve(æ–¹ç¨‹ï¼Œå˜é‡ï¼ˆé»˜è®¤x)  </p><p>[a,b] &#x3D; solve(90* a + 90^(2&#x2F;3)<em>b&#x3D;&#x3D;23.1,180</em>a+180^(2&#x2F;3)*b &#x3D;&#x3D; 35.8)</p></li></ul><h2 id="ç»“æ„æ§åˆ¶"><a href="#ç»“æ„æ§åˆ¶" class="headerlink" title="ç»“æ„æ§åˆ¶"></a>ç»“æ„æ§åˆ¶</h2><ul><li><p>for i &#x3D; n1:(step):n2</p><p>commands;</p><p>end</p></li><li><p>while â€¦</p></li></ul><p>  commands;</p><p>  end</p><ul><li><p>ifâ€¦</p><p>elseifâ€¦</p><p>elseâ€¦</p><p>end</p></li></ul><h2 id="å‡½æ•°æ–‡ä»¶"><a href="#å‡½æ•°æ–‡ä»¶" class="headerlink" title="å‡½æ•°æ–‡ä»¶"></a>å‡½æ•°æ–‡ä»¶</h2><ul><li>function [x,y,z] &#x3D; f1(a,b)</li></ul><h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><p>csape(x,y,â€™compeleteâ€™,[-1,0])</p><p>completeä»£è¡¨é€šè¿‡ç»™å®šæ•°æ®ç‚¹çš„å®Œå…¨æ ·æ¡å‡½æ•° </p><p>[-1,0]è¡¨ç¤ºä¸€é˜¶å¯¼æ•°çš„è¾¹ç•Œ</p>]]></content>
    
    
    
    <tags>
      
      <tag>study</tag>
      
      <tag>matlab</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>çº¿æ€§è¡¨é¢˜è§£</title>
    <link href="/2023/07/31/%E7%BA%BF%E6%80%A7%E8%A1%A8%E9%A2%98%E8%A7%A3/"/>
    <url>/2023/07/31/%E7%BA%BF%E6%80%A7%E8%A1%A8%E9%A2%98%E8%A7%A3/</url>
    
    <content type="html"><![CDATA[<p><del>è¶…ï¼Œæ ¼å¼æ€ä¹ˆè¿™æ ·äº†ï¼Œä¸‹æ¬¡å†æ”¹</del></p><h1 id="å¦–æ¢¦æ‹¼æœ¨æ£’"><a href="#å¦–æ¢¦æ‹¼æœ¨æ£’" class="headerlink" title="å¦–æ¢¦æ‹¼æœ¨æ£’"></a><a href="https://www.luogu.com.cn/problem/P3799">å¦–æ¢¦æ‹¼æœ¨æ£’</a></h1><h2 id="é¢˜ç›®èƒŒæ™¯"><a href="#é¢˜ç›®èƒŒæ™¯" class="headerlink" title="é¢˜ç›®èƒŒæ™¯"></a>é¢˜ç›®èƒŒæ™¯</h2><p>ä¸Šé“é¢˜ä¸­ï¼Œå¦–æ¢¦æ–©äº†ä¸€åœ°çš„æœ¨æ£’ï¼Œç°åœ¨å¥¹æƒ³è¦å°†æœ¨æ£’æ‹¼èµ·æ¥ã€‚</p><h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h2><p>æœ‰ $n$ æ ¹æœ¨æ£’ï¼Œç°åœ¨ä»ä¸­é€‰ $4$ æ ¹ï¼Œæƒ³è¦ç»„æˆä¸€ä¸ªæ­£ä¸‰è§’å½¢ï¼Œé—®æœ‰å‡ ç§é€‰æ³•ï¼Ÿ</p><p>ç­”æ¡ˆå¯¹ $10^9+7$ å–æ¨¡ã€‚</p><h2 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h2><p>ç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•° $n$ã€‚</p><p>ç¬¬äºŒè¡Œå¾€ä¸‹ $n$ è¡Œï¼Œæ¯è¡Œ $1$ ä¸ªæ•´æ•°ï¼Œç¬¬ $i$ ä¸ªæ•´æ•° $a_i$ ä»£è¡¨ç¬¬ $i$ æ ¹æœ¨æ£’çš„é•¿åº¦ã€‚</p><h2 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h2><p>ä¸€è¡Œä¸€ä¸ªæ•´æ•°ä»£è¡¨ç­”æ¡ˆã€‚</p><h2 id="æ ·ä¾‹-1"><a href="#æ ·ä¾‹-1" class="headerlink" title="æ ·ä¾‹ #1"></a>æ ·ä¾‹ #1</h2><h3 id="æ ·ä¾‹è¾“å…¥-1"><a href="#æ ·ä¾‹è¾“å…¥-1" class="headerlink" title="æ ·ä¾‹è¾“å…¥ #1"></a>æ ·ä¾‹è¾“å…¥ #1</h3><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">4 </span><br><span class="hljs-number">1</span><br><span class="hljs-number">1</span><br><span class="hljs-number">2</span><br><span class="hljs-number">2</span><br></code></pre></td></tr></table></figure><h3 id="æ ·ä¾‹è¾“å‡º-1"><a href="#æ ·ä¾‹è¾“å‡º-1" class="headerlink" title="æ ·ä¾‹è¾“å‡º #1"></a>æ ·ä¾‹è¾“å‡º #1</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">1<br></code></pre></td></tr></table></figure><h2 id="æç¤º"><a href="#æç¤º" class="headerlink" title="æç¤º"></a>æç¤º</h2><h4 id="æ•°æ®è§„æ¨¡ä¸çº¦å®š"><a href="#æ•°æ®è§„æ¨¡ä¸çº¦å®š" class="headerlink" title="æ•°æ®è§„æ¨¡ä¸çº¦å®š"></a>æ•°æ®è§„æ¨¡ä¸çº¦å®š</h4><ul><li>å¯¹äº $30%$ çš„æ•°æ®ï¼Œä¿è¯ $n \le 5 \times 10^3$ã€‚</li><li>å¯¹äº $100%$ çš„æ•°æ®ï¼Œä¿è¯ $1 \leq n \le 10^5$ï¼Œ$1 \le a_i \le 5 \times 10^3$ã€‚</li></ul><p>ä¸€å¼€å§‹æƒ³é”™äº†ï¼Œå¯¼è‡´åé¢ä¹Ÿè¢«å¸¦åã€‚å¿…é¡»è¦ä¸¤åªä¸€æ ·é•¿çš„æœ¨æ£’ï¼Œå‰©ä¸‹ä¸¤ä¸ªåªéœ€è¦å’Œè·Ÿå¦å¤–ä¸¤ä¸ªä¸€æ ·é•¿å°±è¡Œäº†ã€‚å¹¶ä¸éœ€è¦ç›¸ç­‰é•¿åº¦ï¼Œï¼ˆæƒ³é”™ï¼Œå¯¼è‡´ä¹‹åæ”¹é”™ï¼‰å…¶å®ä¹Ÿå¹¶ä¸éœ€è¦ä¸€å¼€å§‹çš„ä¸¤åªç›¸ç­‰é•¿åº¦ï¼Œæ¯”å¦‚7 7 2 +5è¿™æ ·ã€‚ç„¶åå°±æ˜¯ç®€å•çš„ç»„åˆæ•°å­¦</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br>vector&lt;<span class="hljs-type">int</span>&gt;<span class="hljs-built_in">nums</span>(<span class="hljs-number">5001</span>);<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-type">long</span> <span class="hljs-type">long</span> a = <span class="hljs-number">0</span>, b = <span class="hljs-number">0</span>;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">long</span> <span class="hljs-type">long</span> n;<br>cin &gt;&gt; n;<br><span class="hljs-keyword">while</span> (n--)<br>&#123;<br><span class="hljs-type">int</span> x;<br>cin &gt;&gt; x;<br>nums[x]++;<br>&#125;<br><span class="hljs-type">long</span> <span class="hljs-type">long</span> cnt = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">5000</span>; i++)<br>&#123;<br><span class="hljs-keyword">if</span> (nums[i] &gt;= <span class="hljs-number">2</span>)<br>&#123;<br>a = nums[i] * (nums[i] - <span class="hljs-number">1</span>) / <span class="hljs-number">2</span> % mod;<br><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt;= i / <span class="hljs-number">2</span>; j++)<br>&#123;<br><span class="hljs-keyword">if</span> (j * <span class="hljs-number">2</span> == i &amp;&amp; nums[j] &gt;= <span class="hljs-number">2</span>)cnt += a * (nums[j] * (nums[j] - <span class="hljs-number">1</span>) / <span class="hljs-number">2</span> % mod) % mod;<br><span class="hljs-keyword">if</span> (j * <span class="hljs-number">2</span> != i &amp;&amp; nums[j] &gt;= <span class="hljs-number">1</span> &amp;&amp; nums[i - j] &gt;= <span class="hljs-number">1</span>)cnt += a * ((nums[j] * nums[i - j]) % mod) % mod;<br>&#125;<br>cnt %= mod;<br>&#125;<br>&#125;<br>cout &lt;&lt; cnt % mod &lt;&lt; endl;<br><br>&#125;<br><br></code></pre></td></tr></table></figure><h1 id="kkksc03è€ƒå‰ä¸´æ—¶æŠ±ä½›è„š"><a href="#kkksc03è€ƒå‰ä¸´æ—¶æŠ±ä½›è„š" class="headerlink" title="kkksc03è€ƒå‰ä¸´æ—¶æŠ±ä½›è„š"></a><a href="https://www.luogu.com.cn/problem/P2392">kkksc03è€ƒå‰ä¸´æ—¶æŠ±ä½›è„š</a></h1><h2 id="é¢˜ç›®èƒŒæ™¯-1"><a href="#é¢˜ç›®èƒŒæ™¯-1" class="headerlink" title="é¢˜ç›®èƒŒæ™¯"></a>é¢˜ç›®èƒŒæ™¯</h2><p>kkksc03 çš„å¤§å­¦ç”Ÿæ´»éå¸¸çš„é¢“åºŸï¼Œå¹³æ—¶æ ¹æœ¬ä¸å­¦ä¹ ã€‚ä½†æ˜¯ï¼Œä¸´è¿‘æœŸæœ«è€ƒè¯•ï¼Œä»–å¿…é¡»è¦å¼€å§‹æŠ±ä½›è„šï¼Œä»¥æ±‚ä¸æŒ‚ç§‘ã€‚</p><h2 id="é¢˜ç›®æè¿°-1"><a href="#é¢˜ç›®æè¿°-1" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h2><p>è¿™æ¬¡æœŸæœ«è€ƒè¯•ï¼Œkkksc03 éœ€è¦è€ƒ $4$ ç§‘ã€‚å› æ­¤è¦å¼€å§‹åˆ·ä¹ é¢˜é›†ï¼Œæ¯ç§‘éƒ½æœ‰ä¸€ä¸ªä¹ é¢˜é›†ï¼Œåˆ†åˆ«æœ‰ $s_1,s_2,s_3,s_4$ é“é¢˜ç›®ï¼Œå®Œæˆæ¯é“é¢˜ç›®éœ€è¦ä¸€äº›æ—¶é—´ï¼Œå¯èƒ½ä¸ç­‰ï¼ˆ$A_1,A_2,\ldots,A_{s_1}$ï¼Œ$B_1,B_2,\ldots,B_{s_2}$ï¼Œ$C_1,C_2,\ldots,C_{s_3}$ï¼Œ$D_1,D_2,\ldots,D_{s_4}$ï¼‰ã€‚</p><p>kkksc03 æœ‰ä¸€ä¸ªèƒ½åŠ›ï¼Œä»–çš„å·¦å³ä¸¤ä¸ªå¤§è„‘å¯ä»¥åŒæ—¶è®¡ç®— $2$ é“ä¸åŒçš„é¢˜ç›®ï¼Œä½†æ˜¯ä»…é™äºåŒä¸€ç§‘ã€‚å› æ­¤ï¼Œkkksc03 å¿…é¡»ä¸€ç§‘ä¸€ç§‘çš„å¤ä¹ ã€‚</p><p>ç”±äº kkksc03 è¿˜æ€¥ç€å»å¤„ç†æ´›è°·çš„ bugï¼Œå› æ­¤ä»–å¸Œæœ›å°½å¿«æŠŠäº‹æƒ…åšå®Œï¼Œæ‰€ä»¥ä»–å¸Œæœ›çŸ¥é“èƒ½å¤Ÿå®Œæˆå¤ä¹ çš„æœ€çŸ­æ—¶é—´ã€‚</p><h2 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h2><p>æœ¬é¢˜åŒ…å« $5$ è¡Œæ•°æ®ï¼šç¬¬ $1$ è¡Œï¼Œä¸ºå››ä¸ªæ­£æ•´æ•° $s_1,s_2,s_3,s_4$ã€‚</p><p>ç¬¬ $2$ è¡Œï¼Œä¸º $A_1,A_2,\ldots,A_{s_1}$ å…± $s_1$ ä¸ªæ•°ï¼Œè¡¨ç¤ºç¬¬ä¸€ç§‘ä¹ é¢˜é›†æ¯é“é¢˜ç›®æ‰€æ¶ˆè€—çš„æ—¶é—´ã€‚</p><p>ç¬¬ $3$ è¡Œï¼Œä¸º $B_1,B_2,\ldots,B_{s_2}$ å…± $s_2$ ä¸ªæ•°ã€‚</p><p>ç¬¬ $4$ è¡Œï¼Œä¸º $C_1,C_2,\ldots,C_{s_3}$ å…± $s_3$ ä¸ªæ•°ã€‚</p><p>ç¬¬ $5$ è¡Œï¼Œä¸º $D_1,D_2,\ldots,D_{s_4}$ å…± $s_4$ ä¸ªæ•°ï¼Œæ„æ€å‡åŒä¸Šã€‚</p><h2 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h2><p>è¾“å‡ºä¸€è¡Œ,ä¸ºå¤ä¹ å®Œæ¯•æœ€çŸ­æ—¶é—´ã€‚</p><h2 id="æ ·ä¾‹-1-1"><a href="#æ ·ä¾‹-1-1" class="headerlink" title="æ ·ä¾‹ #1"></a>æ ·ä¾‹ #1</h2><h3 id="æ ·ä¾‹è¾“å…¥-1-1"><a href="#æ ·ä¾‹è¾“å…¥-1-1" class="headerlink" title="æ ·ä¾‹è¾“å…¥ #1"></a>æ ·ä¾‹è¾“å…¥ #1</h3><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> <span class="hljs-number">1</span> <span class="hljs-number">3</span><br><span class="hljs-number">5</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">3</span><br><span class="hljs-number">6</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">4</span> <span class="hljs-number">3</span><br></code></pre></td></tr></table></figure><h3 id="æ ·ä¾‹è¾“å‡º-1-1"><a href="#æ ·ä¾‹è¾“å‡º-1-1" class="headerlink" title="æ ·ä¾‹è¾“å‡º #1"></a>æ ·ä¾‹è¾“å‡º #1</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">20<br></code></pre></td></tr></table></figure><h2 id="æç¤º-1"><a href="#æç¤º-1" class="headerlink" title="æç¤º"></a>æç¤º</h2><p>$1\leq s_1,s_2,s_3,s_4\leq 20$ã€‚</p><p>$1\leq A_1,A_2,\ldots,A_{s_1},B_1,B_2,\ldots,B_{s_2},C_1,C_2,\ldots,C_{s_3},D_1,D_2,\ldots,D_{s_4}\leq60$ã€‚</p><p>æœ¬æ¥æ˜¯è´ªå¿ƒ+æ¨¡æ‹Ÿã€‚ã€‚ä½†æ˜¯æœ‰å‡ ä¸ªè¿‡ä¸äº†ï¼Œå¤§æ¦‚æ˜¯æƒ…å†µæ²¡è€ƒè™‘å…¨ã€‚btwåˆ«äººæƒ³çš„éƒ½æ˜¯æŠŠé¢˜ç›®åˆ†æˆå°½é‡å¹³å‡çš„ä¸¤éƒ¨åˆ†å•Šã€‚ï¼ˆæ¨¡æ‹Ÿä¸æ˜¯ä¸‹æ„è¯†å°±å‡ºæ¥äº†å—ï¼Œçªå¥½èœ</p><p>ç”¨dpæ±‚å°½é‡å¹³å‡çš„ä¸¤éƒ¨åˆ†ï¼Œå³01èƒŒåŒ…é—®é¢˜ï¼Œåˆ†åˆ°å·¦è¾¹å’Œåˆ†åˆ°å³è¾¹ï¼ŒçŠ¶æ€è¡¨ç¤ºä¸ºäºŒç»´ï¼Œé›†åˆä¸ºåˆ°jçš„æ—¶å€™çš„ä½“ç§¯ï¼ŒçŠ¶æ€è®¡ç®—ä¸ºç»™å·¦å¤§è„‘å’Œç»™å³å¤§è„‘ï¼Œæ­¤å¤„è§†å·¦å¤§è„‘ä¸ºèƒŒåŒ…1ï¼Œå³å¤§è„‘ä¸º0ï¼Œæ”¾åˆ°è®©å·¦è¾¹ä¸º1&#x2F;2æ€»ä½“ç§¯ã€‚æ¯é“é¢˜çš„æ—¶é—´æ—¢æ˜¯ä»·å€¼ï¼Œä¹Ÿæ˜¯ä½“ç§¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python">f = [[<span class="hljs-number">0</span>]*<span class="hljs-number">2000</span> <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2000</span>)]<br>ans = <span class="hljs-number">0</span><br>lis = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split()))<br><br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">4</span>):<br>    nums = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split()))<br>    m = <span class="hljs-built_in">sum</span>(nums)<br>    n = <span class="hljs-built_in">len</span>(nums)<br>    t = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>,n):<br>        <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(m//<span class="hljs-number">2</span> + <span class="hljs-number">1</span>):<br>            f[j][k] = f[j - <span class="hljs-number">1</span>][k]<br>            <span class="hljs-keyword">if</span> k &gt;= nums[j]:<br>                f[j][k] = <span class="hljs-built_in">max</span>(f[j][k],f[j - <span class="hljs-number">1</span>][k - nums[j]] + nums[j])<br>            t = <span class="hljs-built_in">max</span>(t,f[j][k])<br><br>    ans += <span class="hljs-built_in">max</span>(t, m-t)<br><span class="hljs-built_in">print</span>(ans)<br></code></pre></td></tr></table></figure><p>ä¸€ç»´ä¼˜åŒ–</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python">f = [<span class="hljs-number">0</span>] * <span class="hljs-number">100010</span><br>ans = <span class="hljs-number">0</span><br>lis = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split()))<br><br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">4</span>):<br>    nums = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split()))<br>    m = <span class="hljs-built_in">sum</span>(nums)<br>    n = <span class="hljs-built_in">len</span>(nums)<br>    t = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>,n):<br>        <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(m//<span class="hljs-number">2</span>, nums[j]-<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>):<br>            f[k] = <span class="hljs-built_in">max</span>(f[k],f[k - nums[j]] + nums[j])<br><br><br>    ans += m - f[m//<span class="hljs-number">2</span>]<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(m // <span class="hljs-number">2</span> + <span class="hljs-number">1</span>):<br>        f[i] = <span class="hljs-number">0</span><br><span class="hljs-built_in">print</span>(ans)<br></code></pre></td></tr></table></figure><h1 id="COCI2008-2009-2-PERKET"><a href="#COCI2008-2009-2-PERKET" class="headerlink" title="[COCI2008-2009#2] PERKET"></a><a href="https://www.luogu.com.cn/problem/P2036">[COCI2008-2009#2] PERKET</a></h1><h2 id="é¢˜ç›®æè¿°-2"><a href="#é¢˜ç›®æè¿°-2" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h2><p>Perket æ˜¯ä¸€ç§æµè¡Œçš„ç¾é£Ÿã€‚ä¸ºäº†åšå¥½ Perketï¼Œå¨å¸ˆå¿…é¡»è°¨æ…é€‰æ‹©é£Ÿæï¼Œä»¥åœ¨ä¿æŒä¼ ç»Ÿé£å‘³çš„åŒæ—¶å°½å¯èƒ½è·å¾—æœ€å…¨é¢çš„å‘³é“ã€‚ä½ æœ‰ $n$ ç§å¯æ”¯é…çš„é…æ–™ã€‚å¯¹äºæ¯ä¸€ç§é…æ–™ï¼Œæˆ‘ä»¬çŸ¥é“å®ƒä»¬å„è‡ªçš„é…¸åº¦ $s$ å’Œè‹¦åº¦ $b$ã€‚å½“æˆ‘ä»¬æ·»åŠ é…æ–™æ—¶ï¼Œæ€»çš„é…¸åº¦ä¸ºæ¯ä¸€ç§é…æ–™çš„é…¸åº¦æ€»ä¹˜ç§¯ï¼›æ€»çš„è‹¦åº¦ä¸ºæ¯ä¸€ç§é…æ–™çš„è‹¦åº¦çš„æ€»å’Œã€‚</p><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œç¾é£Ÿåº”è¯¥åšåˆ°å£æ„Ÿé€‚ä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬å¸Œæœ›é€‰å–é…æ–™ï¼Œä»¥ä½¿å¾—é…¸åº¦å’Œè‹¦åº¦çš„ç»å¯¹å·®æœ€å°ã€‚</p><p>å¦å¤–ï¼Œæˆ‘ä»¬å¿…é¡»æ·»åŠ è‡³å°‘ä¸€ç§é…æ–™ï¼Œå› ä¸ºæ²¡æœ‰ä»»ä½•é£Ÿç‰©ä»¥æ°´ä¸ºé…æ–™çš„ã€‚</p><h2 id="è¾“å…¥æ ¼å¼-2"><a href="#è¾“å…¥æ ¼å¼-2" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h2><p>ç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•° $n$ï¼Œè¡¨ç¤ºå¯ä¾›é€‰ç”¨çš„é£Ÿæç§ç±»æ•°ã€‚</p><p>æ¥ä¸‹æ¥ $n$ è¡Œï¼Œæ¯è¡Œ $2$ ä¸ªæ•´æ•° $s_i$ å’Œ $b_i$ï¼Œè¡¨ç¤ºç¬¬ $i$ ç§é£Ÿæçš„é…¸åº¦å’Œè‹¦åº¦ã€‚</p><h2 id="è¾“å‡ºæ ¼å¼-2"><a href="#è¾“å‡ºæ ¼å¼-2" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h2><p>ä¸€è¡Œä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºå¯èƒ½çš„æ€»é…¸åº¦å’Œæ€»è‹¦åº¦çš„æœ€å°ç»å¯¹å·®ã€‚</p><h2 id="æ ·ä¾‹-1-2"><a href="#æ ·ä¾‹-1-2" class="headerlink" title="æ ·ä¾‹ #1"></a>æ ·ä¾‹ #1</h2><h3 id="æ ·ä¾‹è¾“å…¥-1-2"><a href="#æ ·ä¾‹è¾“å…¥-1-2" class="headerlink" title="æ ·ä¾‹è¾“å…¥ #1"></a>æ ·ä¾‹è¾“å…¥ #1</h3><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-number">1</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">10</span><br></code></pre></td></tr></table></figure><h3 id="æ ·ä¾‹è¾“å‡º-1-2"><a href="#æ ·ä¾‹è¾“å‡º-1-2" class="headerlink" title="æ ·ä¾‹è¾“å‡º #1"></a>æ ·ä¾‹è¾“å‡º #1</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">7<br></code></pre></td></tr></table></figure><h2 id="æ ·ä¾‹-2"><a href="#æ ·ä¾‹-2" class="headerlink" title="æ ·ä¾‹ #2"></a>æ ·ä¾‹ #2</h2><h3 id="æ ·ä¾‹è¾“å…¥-2"><a href="#æ ·ä¾‹è¾“å…¥-2" class="headerlink" title="æ ·ä¾‹è¾“å…¥ #2"></a>æ ·ä¾‹è¾“å…¥ #2</h3><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-number">2</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">8</span><br><span class="hljs-symbol">5 </span><span class="hljs-number">8</span><br></code></pre></td></tr></table></figure><h3 id="æ ·ä¾‹è¾“å‡º-2"><a href="#æ ·ä¾‹è¾“å‡º-2" class="headerlink" title="æ ·ä¾‹è¾“å‡º #2"></a>æ ·ä¾‹è¾“å‡º #2</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">1<br></code></pre></td></tr></table></figure><h2 id="æ ·ä¾‹-3"><a href="#æ ·ä¾‹-3" class="headerlink" title="æ ·ä¾‹ #3"></a>æ ·ä¾‹ #3</h2><h3 id="æ ·ä¾‹è¾“å…¥-3"><a href="#æ ·ä¾‹è¾“å…¥-3" class="headerlink" title="æ ·ä¾‹è¾“å…¥ #3"></a>æ ·ä¾‹è¾“å…¥ #3</h3><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-number">4</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">7</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">6</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">8</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">9</span><br></code></pre></td></tr></table></figure><h3 id="æ ·ä¾‹è¾“å‡º-3"><a href="#æ ·ä¾‹è¾“å‡º-3" class="headerlink" title="æ ·ä¾‹è¾“å‡º #3"></a>æ ·ä¾‹è¾“å‡º #3</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">1<br></code></pre></td></tr></table></figure><h2 id="æç¤º-2"><a href="#æç¤º-2" class="headerlink" title="æç¤º"></a>æç¤º</h2><h4 id="æ•°æ®è§„æ¨¡ä¸çº¦å®š-1"><a href="#æ•°æ®è§„æ¨¡ä¸çº¦å®š-1" class="headerlink" title="æ•°æ®è§„æ¨¡ä¸çº¦å®š"></a>æ•°æ®è§„æ¨¡ä¸çº¦å®š</h4><p>å¯¹äº $100%$ çš„æ•°æ®ï¼Œæœ‰ $1 \leq n \leq 10$ï¼Œä¸”å°†æ‰€æœ‰å¯ç”¨é£Ÿæå…¨éƒ¨ä½¿ç”¨äº§ç”Ÿçš„æ€»é…¸åº¦å’Œæ€»è‹¦åº¦å°äº $1 \times 10^9$ï¼Œé…¸åº¦å’Œè‹¦åº¦ä¸åŒæ—¶ä¸º $1$ å’Œ $0$ã€‚</p><h4 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h4><ul><li>æœ¬é¢˜æ»¡åˆ† $70$ åˆ†ã€‚</li><li>é¢˜ç›®è¯‘è‡ª <a href="https://hsin.hr/coci/archive/2008_2009/">COCI2008-2009</a> <a href="https://hsin.hr/coci/archive/2008_2009/contest2_tasks.pdf">CONTEST #2</a> PERKETï¼Œè¯‘è€… @<a href="https://www.luogu.com.cn/user/115711">mnesia</a>ã€‚</li></ul><p>ç®€å•dfs é€‰æˆ–ä¸é€‰###çš„æ€è·¯</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python">n = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>())<br>nums = [[<span class="hljs-number">0</span>]*(n+<span class="hljs-number">1</span>) <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n+<span class="hljs-number">1</span>)]<br>minn = <span class="hljs-number">0x7fffffff</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">dfs</span>(<span class="hljs-params">u,sor,bit</span>):<br>    <span class="hljs-keyword">global</span> minn<br>    <span class="hljs-keyword">if</span> u == n:<br>        <span class="hljs-keyword">if</span> sor == <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> bit == <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">return</span><br>        <span class="hljs-keyword">else</span>:<br>            minn = <span class="hljs-built_in">min</span>(minn,<span class="hljs-built_in">abs</span>(sor - bit))<br>            <span class="hljs-keyword">return</span><br><br>    dfs(u + <span class="hljs-number">1</span>,sor,bit)<br>    dfs(u + <span class="hljs-number">1</span>,sor * nums[u][<span class="hljs-number">0</span>], bit + nums[u][<span class="hljs-number">1</span>])<br><br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>   nums[i] = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>,<span class="hljs-built_in">input</span>().split()))<br><br>dfs(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>)<br><span class="hljs-built_in">print</span>(minn)<br></code></pre></td></tr></table></figure><h1 id="NOIP2016-æ™®åŠç»„-æµ·æ¸¯-P2058-NOIP2016-æ™®åŠç»„-æµ·æ¸¯-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn"><a href="#NOIP2016-æ™®åŠç»„-æµ·æ¸¯-P2058-NOIP2016-æ™®åŠç»„-æµ·æ¸¯-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn" class="headerlink" title="# [NOIP2016 æ™®åŠç»„ æµ·æ¸¯]([P2058 NOIP2016 æ™®åŠç»„] æµ·æ¸¯ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn))"></a># [NOIP2016 æ™®åŠç»„ æµ·æ¸¯]([P2058 <a href="https://www.luogu.com.cn/problem/P2058">NOIP2016 æ™®åŠç»„] æµ·æ¸¯ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)</a>)</h1><h2 id="é¢˜ç›®èƒŒæ™¯-2"><a href="#é¢˜ç›®èƒŒæ™¯-2" class="headerlink" title="é¢˜ç›®èƒŒæ™¯"></a>é¢˜ç›®èƒŒæ™¯</h2><p>NOIP2016 æ™®åŠç»„ T3</p><h2 id="é¢˜ç›®æè¿°-3"><a href="#é¢˜ç›®æè¿°-3" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h2><p>å° K æ˜¯ä¸€ä¸ªæµ·æ¸¯çš„æµ·å…³å·¥ä½œäººå‘˜ï¼Œæ¯å¤©éƒ½æœ‰è®¸å¤šèˆ¹åªåˆ°è¾¾æµ·æ¸¯ï¼Œèˆ¹ä¸Šé€šå¸¸æœ‰å¾ˆå¤šæ¥è‡ªä¸åŒå›½å®¶çš„ä¹˜å®¢ã€‚</p><p>å° K å¯¹è¿™äº›åˆ°è¾¾æµ·æ¸¯çš„èˆ¹åªéå¸¸æ„Ÿå…´è¶£ï¼Œä»–æŒ‰ç…§æ—¶é—´è®°å½•ä¸‹äº†åˆ°è¾¾æµ·æ¸¯çš„æ¯ä¸€è‰˜èˆ¹åªæƒ…å†µï¼›å¯¹äºç¬¬ $i$ è‰˜åˆ°è¾¾çš„èˆ¹ï¼Œä»–è®°å½•äº†è¿™è‰˜èˆ¹åˆ°è¾¾çš„æ—¶é—´ $t_i$ (å•ä½ï¼šç§’)ï¼Œèˆ¹ä¸Šçš„ä¹˜å®¢æ•° $k_i$ï¼Œä»¥åŠæ¯åä¹˜å®¢çš„å›½ç± $x_{i,1}, x_{i,2},\dots,x_{i,k}$ã€‚</p><p>å°Kç»Ÿè®¡äº† $n$ è‰˜èˆ¹çš„ä¿¡æ¯ï¼Œå¸Œæœ›ä½ å¸®å¿™è®¡ç®—å‡ºä»¥æ¯ä¸€è‰˜èˆ¹åˆ°è¾¾æ—¶é—´ä¸ºæ­¢çš„ $24$ å°æ—¶ï¼ˆ$24$ å°æ—¶ $&#x3D;86400$ ç§’ï¼‰å†…æ‰€æœ‰ä¹˜èˆ¹åˆ°è¾¾çš„ä¹˜å®¢æ¥è‡ªå¤šå°‘ä¸ªä¸åŒçš„å›½å®¶ã€‚</p><p>å½¢å¼åŒ–åœ°è®²ï¼Œä½ éœ€è¦è®¡ç®— $n$ æ¡ä¿¡æ¯ã€‚å¯¹äºè¾“å‡ºçš„ç¬¬ $i$ æ¡ä¿¡æ¯ï¼Œä½ éœ€è¦ç»Ÿè®¡æ»¡è¶³ $t_i-86400&lt;t_p \le t_i$ çš„èˆ¹åª $p$ï¼Œåœ¨æ‰€æœ‰çš„ $x_{p,j}$ ä¸­ï¼Œæ€»å…±æœ‰å¤šå°‘ä¸ªä¸åŒçš„æ•°ã€‚</p><h2 id="è¾“å…¥æ ¼å¼-3"><a href="#è¾“å…¥æ ¼å¼-3" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h2><p>ç¬¬ä¸€è¡Œè¾“å…¥ä¸€ä¸ªæ­£æ•´æ•° $n$ï¼Œè¡¨ç¤ºå° K ç»Ÿè®¡äº† $n$ è‰˜èˆ¹çš„ä¿¡æ¯ã€‚</p><p>æ¥ä¸‹æ¥ $n$ è¡Œï¼Œæ¯è¡Œæè¿°ä¸€è‰˜èˆ¹çš„ä¿¡æ¯ï¼šå‰ä¸¤ä¸ªæ•´æ•° $t_i$ å’Œ $k_i$ åˆ†åˆ«è¡¨ç¤ºè¿™è‰˜èˆ¹åˆ°è¾¾æµ·æ¸¯çš„æ—¶é—´å’Œèˆ¹ä¸Šçš„ä¹˜å®¢æ•°é‡ï¼Œæ¥ä¸‹æ¥ $k_i$ ä¸ªæ•´æ•° $x_{i,j}$ è¡¨ç¤ºèˆ¹ä¸Šä¹˜å®¢çš„å›½ç±ã€‚</p><p>ä¿è¯è¾“å…¥çš„ $t_i$ æ˜¯é€’å¢çš„ï¼Œå•ä½æ˜¯ç§’ï¼›è¡¨ç¤ºä»å°Kç¬¬ä¸€æ¬¡ä¸Šç­å¼€å§‹è®¡æ—¶ï¼Œè¿™è‰˜èˆ¹åœ¨ç¬¬ $t_i$ ç§’åˆ°è¾¾æµ·æ¸¯ã€‚</p><p>ä¿è¯ $1 \le n \le 10^5$ï¼Œ$\sum{k_i} \le 3\times 10^5 $ ï¼Œ$1\le x_{i,j} \le 10^5$ï¼Œ $1 \le t_{i-1}\le  t_i    \le  10^9$ã€‚</p><p>å…¶ä¸­ $\sum{k_i}$ è¡¨ç¤ºæ‰€æœ‰çš„ $k_i$ çš„å’Œã€‚</p><h2 id="è¾“å‡ºæ ¼å¼-3"><a href="#è¾“å‡ºæ ¼å¼-3" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h2><p>è¾“å‡º $n$ è¡Œï¼Œç¬¬ $i$ è¡Œè¾“å‡ºä¸€ä¸ªæ•´æ•°è¡¨ç¤ºç¬¬ $i$ è‰˜èˆ¹åˆ°è¾¾åçš„ç»Ÿè®¡ä¿¡æ¯ã€‚</p><h2 id="æ ·ä¾‹-1-3"><a href="#æ ·ä¾‹-1-3" class="headerlink" title="æ ·ä¾‹ #1"></a>æ ·ä¾‹ #1</h2><h3 id="æ ·ä¾‹è¾“å…¥-1-3"><a href="#æ ·ä¾‹è¾“å…¥-1-3" class="headerlink" title="æ ·ä¾‹è¾“å…¥ #1"></a>æ ·ä¾‹è¾“å…¥ #1</h3><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-number">3</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">4</span> <span class="hljs-number">4</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">2</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">2</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span><br><span class="hljs-symbol">10 </span><span class="hljs-number">1</span> <span class="hljs-number">3</span><br></code></pre></td></tr></table></figure><h3 id="æ ·ä¾‹è¾“å‡º-1-3"><a href="#æ ·ä¾‹è¾“å‡º-1-3" class="headerlink" title="æ ·ä¾‹è¾“å‡º #1"></a>æ ·ä¾‹è¾“å‡º #1</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs">3<br>4<br>4<br></code></pre></td></tr></table></figure><h2 id="æ ·ä¾‹-2-1"><a href="#æ ·ä¾‹-2-1" class="headerlink" title="æ ·ä¾‹ #2"></a>æ ·ä¾‹ #2</h2><h3 id="æ ·ä¾‹è¾“å…¥-2-1"><a href="#æ ·ä¾‹è¾“å…¥-2-1" class="headerlink" title="æ ·ä¾‹è¾“å…¥ #2"></a>æ ·ä¾‹è¾“å…¥ #2</h3><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-number">4</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">4</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">2</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span><br><span class="hljs-symbol">86401 </span><span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span><br><span class="hljs-symbol">86402 </span><span class="hljs-number">1</span> <span class="hljs-number">5</span><br></code></pre></td></tr></table></figure><h3 id="æ ·ä¾‹è¾“å‡º-2-1"><a href="#æ ·ä¾‹è¾“å‡º-2-1" class="headerlink" title="æ ·ä¾‹è¾“å‡º #2"></a>æ ·ä¾‹è¾“å‡º #2</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs">3<br>3<br>3<br>4<br></code></pre></td></tr></table></figure><h2 id="æç¤º-3"><a href="#æç¤º-3" class="headerlink" title="æç¤º"></a>æç¤º</h2><p>ã€æ ·ä¾‹è§£é‡Š 1ã€‘</p><p>ç¬¬ä¸€è‰˜èˆ¹åœ¨ç¬¬ $1$ ç§’åˆ°è¾¾æµ·æ¸¯ï¼Œæœ€è¿‘ $24$ å°æ—¶åˆ°è¾¾çš„èˆ¹æ˜¯ç¬¬ä¸€è‰˜èˆ¹ï¼Œå…±æœ‰ $4$ ä¸ªä¹˜å®¢ï¼Œåˆ†åˆ«æ˜¯æ¥è‡ªå›½å®¶ $4,1,2,2$ï¼Œå…±æ¥è‡ª $3$ ä¸ªä¸åŒçš„å›½å®¶ï¼›</p><p>ç¬¬äºŒè‰˜èˆ¹åœ¨ç¬¬ $2$ ç§’åˆ°è¾¾æµ·æ¸¯ï¼Œæœ€è¿‘ $24$ å°æ—¶åˆ°è¾¾çš„èˆ¹æ˜¯ç¬¬ä¸€è‰˜èˆ¹å’Œç¬¬äºŒè‰˜èˆ¹ï¼Œå…±æœ‰ $4 + 2 &#x3D; 6$ ä¸ªä¹˜å®¢ï¼Œåˆ†åˆ«æ˜¯æ¥è‡ªå›½å®¶ $4,1,2,2,2,3$ï¼Œå…±æ¥è‡ª $4$ ä¸ªä¸åŒçš„å›½å®¶ï¼›</p><p>ç¬¬ä¸‰è‰˜èˆ¹åœ¨ç¬¬ $10$ ç§’åˆ°è¾¾æµ·æ¸¯ï¼Œæœ€è¿‘ $24$ å°æ—¶åˆ°è¾¾çš„èˆ¹æ˜¯ç¬¬ä¸€è‰˜èˆ¹ã€ç¬¬äºŒè‰˜èˆ¹å’Œç¬¬ä¸‰è‰˜èˆ¹ï¼Œå…±æœ‰ $4+2+1&#x3D;7$ ä¸ªä¹˜å®¢ï¼Œåˆ†åˆ«æ˜¯æ¥è‡ªå›½å®¶ $4,1,2,2,2,3,3$ï¼Œå…±æ¥è‡ª $4$ ä¸ªä¸åŒçš„å›½å®¶ã€‚</p><p>ã€æ ·ä¾‹è§£é‡Š 2ã€‘</p><p>ç¬¬ä¸€è‰˜èˆ¹åœ¨ç¬¬ $1$ ç§’åˆ°è¾¾æµ·æ¸¯ï¼Œæœ€è¿‘ $24$ å°æ—¶åˆ°è¾¾çš„èˆ¹æ˜¯ç¬¬ä¸€è‰˜èˆ¹ï¼Œå…±æœ‰ $4$ ä¸ªä¹˜å®¢ï¼Œåˆ†åˆ«æ˜¯æ¥è‡ªå›½å®¶ $1,2,2,3$ï¼Œå…±æ¥è‡ª $3$ ä¸ªä¸åŒçš„å›½å®¶ã€‚</p><p>ç¬¬äºŒè‰˜èˆ¹åœ¨ç¬¬ $3$ ç§’åˆ°è¾¾æµ·æ¸¯ï¼Œæœ€è¿‘ $24$ å°æ—¶åˆ°è¾¾çš„èˆ¹æ˜¯ç¬¬ä¸€è‰˜èˆ¹å’Œç¬¬äºŒè‰˜èˆ¹ï¼Œå…±æœ‰ $4+2&#x3D;6$ ä¸ªä¹˜å®¢ï¼Œåˆ†åˆ«æ˜¯æ¥è‡ªå›½å®¶ $1,2,2,3,2,3$ï¼Œå…±æ¥è‡ª $3$ ä¸ªä¸åŒçš„å›½å®¶ã€‚</p><p>ç¬¬ä¸‰è‰˜èˆ¹åœ¨ç¬¬ $86401$ ç§’åˆ°è¾¾æµ·æ¸¯ï¼Œæœ€è¿‘ $24$ å°æ—¶åˆ°è¾¾çš„èˆ¹æ˜¯ç¬¬äºŒè‰˜èˆ¹å’Œç¬¬ä¸‰è‰˜èˆ¹ï¼Œå…±æœ‰ $2+2&#x3D;4$ ä¸ªä¹˜å®¢ï¼Œåˆ†åˆ«æ˜¯æ¥è‡ªå›½å®¶ $2,3,3,4$ï¼Œå…±æ¥è‡ª $3$ ä¸ªä¸åŒçš„å›½å®¶ã€‚</p><p>ç¬¬å››è‰˜èˆ¹åœ¨ç¬¬ $86402$ ç§’åˆ°è¾¾æµ·æ¸¯ï¼Œæœ€è¿‘ $24$ å°æ—¶åˆ°è¾¾çš„èˆ¹æ˜¯ç¬¬äºŒè‰˜èˆ¹ã€ç¬¬ä¸‰è‰˜èˆ¹å’Œç¬¬å››è‰˜èˆ¹ï¼Œå…±æœ‰ $2+2+1&#x3D;5$ ä¸ªä¹˜å®¢ï¼Œåˆ†åˆ«æ˜¯æ¥è‡ªå›½å®¶ $2,3,3,4,5$ï¼Œå…±æ¥è‡ª $4$ä¸ª ä¸åŒçš„å›½å®¶ã€‚</p><p>ã€æ•°æ®èŒƒå›´ã€‘</p><ul><li>å¯¹äº $10%$ çš„æµ‹è¯•ç‚¹ï¼Œ$n&#x3D;1,\sum k_i \leq 10,1 \leq x_{i,j} \leq 10, 1 \leq t_i \leq 10$ã€‚</li><li>å¯¹äº $20%$ çš„æµ‹è¯•ç‚¹ï¼Œ$1 \leq n \leq 10, \sum k_i \leq 100,1 \leq x_{i,j} \leq 100,1 \leq t_i \leq 32767$ã€‚</li><li>å¯¹äº $40%$ çš„æµ‹è¯•ç‚¹ï¼Œ$1 \leq n \leq 100, \sum k_i \leq 100,1 \leq x_{i,j} \leq 100,1 \leq t_i \leq 86400$ã€‚</li><li>å¯¹äº $70%$ çš„æµ‹è¯•ç‚¹ï¼Œ$1 \leq n \leq 1000, \sum k_i \leq 3000,1 \leq x_{i,j} \leq 1000,1 \leq t_i \leq 10^9$ã€‚</li><li>å¯¹äº $100%$ çš„æµ‹è¯•ç‚¹ï¼Œ$1 \leq n \leq 10^5,\sum k_i \leq 3\times 10^5, 1 \leq x_{i,j} \leq 10^5,1\leq t_i \leq 10^9$ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ä¸»è¦æ˜¯pythonçš„è¯­æ³• ship.num = lis[2:]æŠŠ2å’Œåé¢çš„å…¨éƒ½èµ‹åˆ°numé‡Œé¢ï¼Œç„¶åå°±æ˜¯pythonçš„è¯­æ³•ï¼ŒåŒç«¯é˜Ÿåˆ—dequeçš„ä½¿ç”¨æ–¹æ³•ï¼Œæ”¯æŒ[]è®¿é—®ï¼Œç›´æ¥ç”¨shiparr[Ship()]*100000ï¼Œä¼šå¯¼è‡´é”™è¯¯ï¼Œåº”è¯¥æ˜¯ç±»ä¼¼äºåœ°å€å‡ºé”™ï¼ˆæ‰€æœ‰çš„æ•°ç»„é‡Œé¢éƒ½æ˜¯åŒä¸€ä¸ªå€¼</span><br><span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> deque<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Ship</span>:<br>    time = <span class="hljs-number">0</span><br>    num = []<br>    numpass = <span class="hljs-number">0</span><br><br><br>q = deque()<br>n = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>())<br>peo = [<span class="hljs-number">0</span>] * <span class="hljs-number">1000000</span><br>lis = []<br>shiparr = []<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>    lis = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>,<span class="hljs-built_in">input</span>().split()))<br>    ship = Ship()<br>    ship.time = lis[<span class="hljs-number">0</span>]<br>    ship.numpass = lis[<span class="hljs-number">1</span>]<br>    ship.num = lis[<span class="hljs-number">2</span>:]<br>    shiparr.append(ship)<br><br><br>country = <span class="hljs-number">0</span><br><span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>    ship = shiparr[j]<br>    i = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">while</span> <span class="hljs-number">1</span>:<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(q) == <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">break</span><br>        <span class="hljs-keyword">if</span> ship.time - q[<span class="hljs-number">0</span>].time &lt; <span class="hljs-number">86400</span>:<br>            <span class="hljs-keyword">break</span><br>        <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> q[<span class="hljs-number">0</span>].num:<br>            peo[x] -= <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> peo[x] == <span class="hljs-number">0</span>:<br>                country -= <span class="hljs-number">1</span><br>        q.popleft()<br>        i += <span class="hljs-number">1</span><br>    q.append(ship)<br>    <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> ship.num:<br>        <span class="hljs-keyword">if</span> peo[x] == <span class="hljs-number">0</span>:<br>            country += <span class="hljs-number">1</span><br>        peo[x] += <span class="hljs-number">1</span><br>    <span class="hljs-built_in">print</span>(country)<br><br></code></pre></td></tr></table></figure><h1 id="æ‹¬å·åºåˆ—-P1241-æ‹¬å·åºåˆ—-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn"><a href="#æ‹¬å·åºåˆ—-P1241-æ‹¬å·åºåˆ—-æ´›è°·-è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€-luogu-com-cn" class="headerlink" title="# [æ‹¬å·åºåˆ—](P1241 æ‹¬å·åºåˆ— - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn))"></a># [æ‹¬å·åºåˆ—](<a href="https://www.luogu.com.cn/problem/P1241">P1241 æ‹¬å·åºåˆ— - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)</a>)</h1><h2 id="é¢˜ç›®æè¿°-4"><a href="#é¢˜ç›®æè¿°-4" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h2><p>å®šä¹‰å¦‚ä¸‹è§„åˆ™ï¼š</p><ol><li>ç©ºä¸²æ˜¯ã€Œå¹³è¡¡æ‹¬å·åºåˆ—ã€</li><li>è‹¥å­—ç¬¦ä¸² $S$ æ˜¯ã€Œå¹³è¡¡æ‹¬å·åºåˆ—ã€ï¼Œé‚£ä¹ˆ $\texttt{[}S\texttt]$ å’Œ $\texttt{(}S\texttt)$ ä¹Ÿéƒ½æ˜¯ã€Œå¹³è¡¡æ‹¬å·åºåˆ—ã€</li><li>è‹¥å­—ç¬¦ä¸² $A$ å’Œ $B$ éƒ½æ˜¯ã€Œå¹³è¡¡æ‹¬å·åºåˆ—ã€ï¼Œé‚£ä¹ˆ $AB$ï¼ˆä¸¤å­—ç¬¦ä¸²æ‹¼æ¥èµ·æ¥ï¼‰ä¹Ÿæ˜¯ã€Œå¹³è¡¡æ‹¬å·åºåˆ—ã€ã€‚</li></ol><p>ä¾‹å¦‚ï¼Œä¸‹é¢çš„å­—ç¬¦ä¸²éƒ½æ˜¯å¹³è¡¡æ‹¬å·åºåˆ—ï¼š</p><p><code>()</code>ï¼Œ<code>[]</code>ï¼Œ<code>(())</code>ï¼Œ<code>([])</code>ï¼Œ<code>()[]</code>ï¼Œ<code>()[()]</code></p><p>è€Œä»¥ä¸‹å‡ ä¸ªåˆ™ä¸æ˜¯ï¼š</p><p><code>(</code>ï¼Œ<code>[</code>ï¼Œ<code>]</code>ï¼Œ<code>)(</code>ï¼Œ<code>())</code>ï¼Œ<code>([()</code></p><p>ç°åœ¨ï¼Œç»™å®šä¸€ä¸ªä»…ç”± <code>(</code>ï¼Œ<code>)</code>ï¼Œ<code>[</code>ï¼Œ<code>]</code>æ„æˆçš„å­—ç¬¦ä¸² $s$ï¼Œè¯·ä½ æŒ‰ç…§å¦‚ä¸‹çš„æ–¹å¼ç»™å­—ç¬¦ä¸²ä¸­æ¯ä¸ªå­—ç¬¦é…å¯¹ï¼š</p><ol><li>ä»å·¦åˆ°å³æ‰«ææ•´ä¸ªå­—ç¬¦ä¸²ã€‚</li><li>å¯¹äºå½“å‰çš„å­—ç¬¦ï¼Œå¦‚æœå®ƒæ˜¯ä¸€ä¸ªå³æ‹¬å·ï¼Œè€ƒå¯Ÿå®ƒä¸å®ƒå·¦ä¾§ç¦»å®ƒ<strong>æœ€è¿‘</strong>çš„<strong>æœªåŒ¹é…</strong>çš„çš„å·¦æ‹¬å·ã€‚å¦‚æœè¯¥æ‹¬å·ä¸ä¹‹å¯¹åº”ï¼ˆå³å°æ‹¬å·åŒ¹é…å°æ‹¬å·ï¼Œä¸­æ‹¬å·åŒ¹é…ä¸­æ‹¬å·ï¼‰ï¼Œåˆ™å°†äºŒè€…é…å¯¹ã€‚å¦‚æœå·¦ä¾§æœªåŒ¹é…çš„å·¦æ‹¬å·ä¸å­˜åœ¨æˆ–ä¸ä¹‹ä¸å¯¹åº”ï¼Œåˆ™å…¶é…å¯¹å¤±è´¥ã€‚</li></ol><p>é…å¯¹ç»“æŸåï¼Œå¯¹äº $s$ ä¸­å…¨éƒ¨æœªé…å¯¹çš„æ‹¬å·ï¼Œè¯·ä½ åœ¨å…¶æ—è¾¹æ·»åŠ ä¸€ä¸ªå­—ç¬¦ï¼Œä½¿å¾—è¯¥æ‹¬å·å’Œæ–°åŠ çš„æ‹¬å·åŒ¹é…ã€‚</p><h2 id="è¾“å…¥æ ¼å¼-4"><a href="#è¾“å…¥æ ¼å¼-4" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h2><p>è¾“å…¥åªæœ‰ä¸€è¡Œä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤º $s$ã€‚</p><h2 id="è¾“å‡ºæ ¼å¼-4"><a href="#è¾“å‡ºæ ¼å¼-4" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h2><p>è¾“å‡ºä¸€è¡Œä¸€ä¸ªå­—ç¬¦ä¸²è¡¨ç¤ºä½ çš„ç­”æ¡ˆã€‚</p><h2 id="æ ·ä¾‹-1-4"><a href="#æ ·ä¾‹-1-4" class="headerlink" title="æ ·ä¾‹ #1"></a>æ ·ä¾‹ #1</h2><h3 id="æ ·ä¾‹è¾“å…¥-1-4"><a href="#æ ·ä¾‹è¾“å…¥-1-4" class="headerlink" title="æ ·ä¾‹è¾“å…¥ #1"></a>æ ·ä¾‹è¾“å…¥ #1</h3><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs clojure">([()<br></code></pre></td></tr></table></figure><h3 id="æ ·ä¾‹è¾“å‡º-1-4"><a href="#æ ·ä¾‹è¾“å‡º-1-4" class="headerlink" title="æ ·ä¾‹è¾“å‡º #1"></a>æ ·ä¾‹è¾“å‡º #1</h3><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs scheme">()[]()<br></code></pre></td></tr></table></figure><h2 id="æ ·ä¾‹-2-2"><a href="#æ ·ä¾‹-2-2" class="headerlink" title="æ ·ä¾‹ #2"></a>æ ·ä¾‹ #2</h2><h3 id="æ ·ä¾‹è¾“å…¥-2-2"><a href="#æ ·ä¾‹è¾“å…¥-2-2" class="headerlink" title="æ ·ä¾‹è¾“å…¥ #2"></a>æ ·ä¾‹è¾“å…¥ #2</h3><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gcode"><span class="hljs-comment">([)</span><br></code></pre></td></tr></table></figure><h3 id="æ ·ä¾‹è¾“å‡º-2-2"><a href="#æ ·ä¾‹è¾“å‡º-2-2" class="headerlink" title="æ ·ä¾‹è¾“å‡º #2"></a>æ ·ä¾‹è¾“å‡º #2</h3><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs scheme">()[]()<br></code></pre></td></tr></table></figure><h2 id="æç¤º-4"><a href="#æç¤º-4" class="headerlink" title="æç¤º"></a>æç¤º</h2><h3 id="æ•°æ®è§„æ¨¡ä¸çº¦å®š-2"><a href="#æ•°æ®è§„æ¨¡ä¸çº¦å®š-2" class="headerlink" title="æ•°æ®è§„æ¨¡ä¸çº¦å®š"></a>æ•°æ®è§„æ¨¡ä¸çº¦å®š</h3><p>å¯¹äºå…¨éƒ¨çš„æµ‹è¯•ç‚¹ï¼Œä¿è¯ $s$ çš„é•¿åº¦ä¸è¶…è¿‡ 100ï¼Œä¸”åªå«  <code>(</code>ï¼Œ<code>)</code>ï¼Œ<code>[</code>ï¼Œ<code>]</code> å››ä¸ªå­—ç¬¦ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// ä¸»è¦æ˜¯é¢˜ç›®ï¼Œ2.çš„æ„æ€æ˜¯ä»é‡åˆ°ç¬¬ä¸€ä¸ªå³æ‹¬å·å¼€å§‹å‘å·¦å¯»æ‰¾ç¬¬ä¸€ä¸ªæœªåŒ¹é…çš„å·¦æ‹¬å·ï¼ˆå…¶å®æ ¹æœ¬ä¸éœ€è¦æ ˆï¼‰ã€‚åªéœ€è¦åœ¨æ‰¾åˆ°çš„åœ°æ–¹åšä¸ªæ ‡è®°è¡¨ç¤ºå·²åŒ¹é…å³å¯ã€‚æœ€åï¼Œè¾“å‡ºçš„æ—¶å€™æœªåŒ¹é…çš„å°±ç›´æ¥è¾“å‡ºåŒç±»çš„å®Œæ•´æ‹¬å·ï¼ŒåŒ¹é…çš„å°±æ­£å¸¸è¾“å‡ºã€‚</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>stack&lt;<span class="hljs-type">char</span>&gt;stleft;<br><span class="hljs-type">int</span> a[<span class="hljs-number">105</span>] = &#123; <span class="hljs-number">0</span> &#125;;<br><span class="hljs-type">char</span> ch;<br>string str;<br>cin &gt;&gt; str;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; str.<span class="hljs-built_in">size</span>(); j++)<br>&#123;<br>ch = str[j];<br><span class="hljs-keyword">if</span> (ch == <span class="hljs-string">&#x27;)&#x27;</span>)<br>&#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = j - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--)<br>&#123;<br><span class="hljs-keyword">if</span> (str[i] == <span class="hljs-string">&#x27;(&#x27;</span> &amp;&amp; a[i] == <span class="hljs-number">0</span>)<br>&#123;<br>a[i] = a[j] = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">break</span>;<br>&#125;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (str[i] == <span class="hljs-string">&#x27;[&#x27;</span> &amp;&amp; a[i] == <span class="hljs-number">0</span>)<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ch == <span class="hljs-string">&#x27;]&#x27;</span>)<br>&#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = j - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--)<br>&#123;<br><span class="hljs-keyword">if</span> (str[i] == <span class="hljs-string">&#x27;[&#x27;</span> &amp;&amp; a[i] == <span class="hljs-number">0</span>)<br>&#123;<br>a[i] = a[j] = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">break</span>;<br>&#125;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (str[i] == <span class="hljs-string">&#x27;(&#x27;</span> &amp;&amp; a[i] == <span class="hljs-number">0</span>)<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br>&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; str.<span class="hljs-built_in">size</span>(); i++)<br>&#123;<br><span class="hljs-keyword">if</span> (a[i] == <span class="hljs-number">0</span> &amp;&amp; (str[i] == <span class="hljs-string">&#x27;(&#x27;</span> || str[i] == <span class="hljs-string">&#x27;)&#x27;</span>))cout &lt;&lt; <span class="hljs-string">&quot;()&quot;</span>;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (a[i] == <span class="hljs-number">0</span> &amp;&amp; (str[i] == <span class="hljs-string">&#x27;[&#x27;</span>||str[i] == <span class="hljs-string">&#x27;]&#x27;</span>)) cout &lt;&lt; <span class="hljs-string">&quot;[]&quot;</span>;<br><span class="hljs-keyword">else</span> cout &lt;&lt; str[i];<br>&#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Ans</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Our Game!</title>
    <link href="/2023/07/27/Our-Game/"/>
    <url>/2023/07/27/Our-Game/</url>
    
    <content type="html"><![CDATA[<h1 id="æˆ‘ä»¬çš„æ¸¸æˆåšå®Œå•¦ï¼"><a href="#æˆ‘ä»¬çš„æ¸¸æˆåšå®Œå•¦ï¼" class="headerlink" title="æˆ‘ä»¬çš„æ¸¸æˆåšå®Œå•¦ï¼"></a>æˆ‘ä»¬çš„æ¸¸æˆåšå®Œå•¦ï¼</h1><p>&emsp;å¥½æ¿€åŠ¨ï¼Œå››å‘¨çš„æ—¶é—´è¿‡çš„å¥½å¿«ï¼Œå¥½åƒæ˜¨å¤©è¿˜åœ¨è®¨è®ºæ¸¸æˆçš„åŸå‹è®¾è®¡ã€‚ç°åœ¨å±…ç„¶å·²ç»å®Œæˆäº†æ‰€æœ‰çš„å·¥ä½œã€‚æ„Ÿè°¢tllwtgå’Œwegretçš„ä»˜å‡ºï¼Œ<del>æˆ‘ä»¬ä¸‰ä¸ªçœŸå¼º</del>ï¼ˆå“ˆå“ˆå“ˆï¼‰ã€‚<br>å¸Œæœ›zlggå’Œxyjjä¸è¦å«Œæˆ‘èœã€‚</p><p><a href="https://github.com/tLLWtG/Capoo-Survival/releases">è¿™é‡Œæ˜¯æˆ‘ä»¬çš„æ¸¸æˆ</a>ï¼Œç‚¹ç‚¹starï¼ˆå¯æ€œï¼‰</p><p>æ²¡é”™ å°±æ˜¯å¼€æ”¾ä¸–ç•Œå†’é™©æ¸¸æˆï¼ˆæ²¡æœ‰è™šå‡å®£ä¼ ã€‚ã€‚ã€‚å¼€æ”¾ã€ä¸–ç•Œã€å†’é™©éƒ½æœ‰ï¼‰</p><p>åšæ¸¸æˆçš„è¿‡ç¨‹è¿˜æ˜¯å¾ˆå¼€å¿ƒçš„ï¼ˆå¯èƒ½æ˜¯ç»™æˆ‘çš„æ´»å¤ªå°‘äº†ï¼‰ï¼Œæ„Ÿè§‰è‡ªå·±æ²¡åšä»€ä¹ˆï¼Œè¿˜å¥½é€šè¿‡æˆ‘ç²¾å¯†çš„è®¡ç®—ï¼Œæœ€åéšœç¢ç‰©ç»ˆäºæ²¡æœ‰é‡å äº†ï¼Œä¸ç„¶å°±æ²¡è„¸è§äººäº†ã€‚<br>å¥½æ€€å¿µæ•™å®¤åªå‰©ä¸‹æˆ‘ä»¬åœ¨è®¨è®ºå’Œå®ç°ï¼Œåœ¨ç¾¤é‡Œå•†é‡åˆ†å·¥ï¼Œä¸€ä»¶ä»¶åœ°å®ŒæˆTODOã€‚æœ¬æ¥æ˜¯å¾ˆè®¨åŒç»„é˜Ÿçš„ï¼Œ<br>ä½†æ˜¯è¿™ç§ç»„é˜Ÿçš„æ„Ÿè§‰çœŸçš„å¥½æ£’ï¼è·ŸæŸäº›è¯¾ç¨‹å…¨éƒ¨éƒ½æ˜¯æ‘†å­çš„ç»„é˜Ÿæ„Ÿè§‰å®Œå…¨ä¸ä¸€æ ·å“‡ï¼‰</p><p>ç¬¬ä¸€æ¬¡ä¸Šå»æ±‡æŠ¥æ‰‹éƒ½åœ¨å‘æŠ–æï¼Œä½†æ˜¯åé¢æ„Ÿè§‰è¿˜è¡Œï¼Œå¯¹ï¼æ ¹æœ¬å°±æ²¡äººä¼šå¬ï¼Œå•Šï¼Œä½ è¯´æˆ‘å—ï¼Ÿæˆ‘ä¹Ÿä¸å¬åˆ«äººè®²ğŸ˜€ï¼ˆwowï¼Œå±…ç„¶èƒ½æ’å…¥è¡¨æƒ…å˜›ï¼‰ã€‚ä¸€å¼€å§‹åšpptåªä¼šç™½åº•é»‘å­—ï¼Œ<br>åé¢åŠ äº†æ¨¡æ¿ï¼Œæ˜¯å¥½çœ‹ä¸€ç‚¹woã€‚</p><p>å•Š!å°é£äº†ï¼Œæœ€åä¸€æ¬¡æ±‡æŠ¥æ²¡æœ‰äº†ï¼Œæœ¬æ¥è¿˜æƒ³æ‹ä¸ªç…§ç‰‡ç„¶åä¸€èµ·å»æ°ä¸ªé¥­çš„ï¼Œä¸çŸ¥é“ä¸‹æ¬¡è¿˜æœ‰æ²¡æœ‰æœºä¼šï¼Œå‘œå‘œã€‚</p><p>è´´ä¸€äº›å›¾ç‰‡ï¼ˆæ‰ä¸æ˜¯å¤ªä¹…æ²¡å†™è¯´è¯´ï¼Œå†™ä¸å‡ºæ¥ä¸œè¥¿äº†å‘¢</p><p>é  æˆªå›¾å®¡ç¾å¥½å·®</p><p>éƒ¨åˆ†ä»£ç æˆªå›¾å’Œæ¸¸æˆä½¿ç”¨å›¾ç‰‡</p><p><img src="/images/$%7Bfiilename%7D/Myfirstblog1-16907768245555.png" alt="éƒ¨åˆ†ä»£ç æˆªå›¾å’Œæ¸¸æˆä½¿ç”¨å›¾ç‰‡"></p><p>æ±‡æŠ¥ppt</p><p><img src="/images/$%7Bfiilename%7D/Myfirstblog2-16907767706092.png" alt="æ±‡æŠ¥ppt"></p><p>è¿˜æ²¡å†™å®Œï¼Œä½†æ˜¯ä¸æƒ³å†™äº†ï¼Œå˜¿å˜¿ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>life</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>pythonè¯­æ³•</title>
    <link href="/2023/07/23/python%E8%AF%AD%E6%B3%95/"/>
    <url>/2023/07/23/python%E8%AF%AD%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h1 id="pythonè¯­æ³•æ³¨æ„äº‹é¡¹"><a href="#pythonè¯­æ³•æ³¨æ„äº‹é¡¹" class="headerlink" title="pythonè¯­æ³•æ³¨æ„äº‹é¡¹"></a>pythonè¯­æ³•æ³¨æ„äº‹é¡¹</h1><p><del>å•Šï¼Œå—ä¸äº†äº†ï¼Œå†™äº†å‡ ä¸ªé¢˜ä¸æ˜¯è¿é”™å°±æ˜¯ç¼–é”™ï¼Œè¿˜æœ‰ä¸€å †å¥‡å¥‡æ€ªæ€ªçš„æŠ¥é”™ï¼Œç—›è‹¦.jpgã€‚</del><br>å·²ç»é‡è§æœªæ¥ä¸çŸ­çš„æ—¶é—´å†…ä¼šä¸æ–­æŠ¥é”™å¹¶ä¸”çœ‹ä¸æ‡‚ç„¶åå†™åœ¨è¿™é‡Œäº†ï¼Œå¸Œæœ›è¿™ç¯‡å¯ä»¥æ—©æ—¥åœæ›´ã€‚</p><ul><li><p>n &#x3D; int(input())</p></li><li><p>æ§åˆ¶ä¸ä½ifåé¢åŠ ()ï¼Œå“­ï¼Œå‰æ‰‹</p></li><li><p>xmuojä¸æ”¯æŒç±»å‹æ³¨è§£ï¼Œå‘œå‘œ</p></li><li><p>æ²¡æœ‰while(nâ€“)çš„æ“ä½œäº†ï¼Œç”¨whileä¼šå¿˜è®°â€“ï¼Œæ­»å¾ªç¯äº†ï¼Œå¥½è ¢</p></li><li><p>rangeçš„èŒƒå›´</p></li><li><p>è¯»å…¥äºŒç»´åˆ—è¡¨ (è€æ˜¯å¿˜è®°lisçš„appendï¼Œæƒ³åŠå¤©)</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs stylus">lis = <span class="hljs-selector-attr">[]</span><br><span class="hljs-keyword">for</span> <span class="hljs-selector-tag">i</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>    d = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(int,<span class="hljs-selector-tag">input</span>()<span class="hljs-selector-class">.split</span>()))<br>    lis<span class="hljs-selector-class">.append</span>()<br></code></pre></td></tr></table></figure></li><li><p>æµ®ç‚¹æ•°ç¡®å®šç²¾åº¦è¾“å‡º print(â€œ%.1fâ€ % n) æ³¨æ„æ˜¯åŒå¼•å·å¹¶ä¸”æ²¡æœ‰é€—å·</p></li><li><p>dx &#x3D; [1,0,-1,0] <del>è¿™é‡Œæ˜¯ä»Šæ™šæœ€ä½³</del> åŠ äº†ä¸ªlistæ€ä¹ˆæ‰¾ä¹Ÿæ‰¾ä¸å‡ºæ¥ï¼Œlist dx[]-&gt;ç¬‘æ­»</p></li><li><p>å…¨æ’åˆ— é€‰å“ªä¸ªï¼Ÿ æ ‡è®°é€‰è¿‡çš„ä¸å†é€‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">permute</span>(<span class="hljs-params">sol,num,on_path</span>):<br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(sol) == <span class="hljs-built_in">len</span>(num):<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            <span class="hljs-built_in">print</span>(sol[i], <span class="hljs-string">&quot;&quot;</span>, end=<span class="hljs-string">&#x27;&#x27;</span>)<br>        <span class="hljs-built_in">print</span>()<br>        <span class="hljs-keyword">return</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            <span class="hljs-keyword">if</span> on_path[i] == <span class="hljs-number">1</span>:<br>                <span class="hljs-keyword">continue</span><br>            <span class="hljs-keyword">else</span>:<br>                on_path[i] = <span class="hljs-number">1</span><br>                permute(sol+[num[i]],num,on_path)<br>                on_path[i] = <span class="hljs-number">0</span><br>                <br><br>n = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>())<br>sol = []<br>num = [i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,n+<span class="hljs-number">1</span>)]<br>on_path = [<span class="hljs-number">0</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n)]<br>permute(sol,num,onpath]<br></code></pre></td></tr></table></figure></li><li><p>å­—å…¸çš„ä½¿ç”¨æ–¹æ³•  è®°å¾—ä¸€å®šè¦å…ˆåˆ¤æ–­æ˜¯å¦å­˜åœ¨ <del>å‘œå‘œï¼Œæ˜æ˜ä¹‹å‰æ‰è®°è¿‡ï¼Œå†™çš„æ—¶å€™åˆå¿˜è®°äº†ï¼Œæ³°è ¢è¾£</del></p><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs x86asm"><span class="hljs-built_in">st</span> = input()<br><br>d = dict()<br>for <span class="hljs-number">ch</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">st</span>:<br>    if <span class="hljs-number">ch</span> <span class="hljs-keyword">in</span> d:<br>        d[<span class="hljs-number">ch</span>] += <span class="hljs-number">1</span><br><span class="hljs-symbol">    else:</span><br>        d[<span class="hljs-number">ch</span>] = <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure></li><li><p>ä¸Šé¢çš„é¢˜æ˜¯ç”¨æ¥æ±‚åªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦çš„ éš¾è¿‡ åœ¨c++çŸ¥é“ç”¨count åœ¨pythonå°±å˜è ¢åŠ›</p></li><li><p>pythonçº¿æ€§ç­› èŠœæ¹–~</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">N</span> = <span class="hljs-number">100010</span><br><span class="hljs-attribute">st</span> =<span class="hljs-meta"> [False for _ in range(N)]</span><br><span class="hljs-attribute">prime</span> =<span class="hljs-meta"> [0 for _ in range(N)]</span><br><br><span class="hljs-attribute">def</span> get_prime(n):<br>    <span class="hljs-attribute">cnt</span> = <span class="hljs-number">0</span><br>    <span class="hljs-attribute">for</span> i in range(<span class="hljs-number">2</span>,n + <span class="hljs-number">1</span>):<br>        <span class="hljs-attribute">if</span> not st[i]:<br>            <span class="hljs-attribute">prime</span>[cnt] = i<br>            <span class="hljs-attribute">cnt</span> += <span class="hljs-number">1</span><br>    <span class="hljs-attribute">j</span> = <span class="hljs-number">0</span><br>    <span class="hljs-attribute">while</span> prime[j] &lt; n // i:<br>        <span class="hljs-attribute">st</span>[prime[j] * i] = True<br>        <span class="hljs-attribute">if</span> i % prime[j] == <span class="hljs-number">0</span>:<br>            <span class="hljs-attribute">break</span><br>        <span class="hljs-attribute">j</span> += <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure></li><li><p>rangeæ˜¯å·¦å¼€å³é—­</p></li><li><p>æˆ‘è¶… åœ¨å‡½æ•°é‡Œé¢ç”¨å…¨å±€å˜é‡çš„æ—¶å€™è¦åŠ global </p></li><li><p>pythonå½’å¹¶</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">n</span> = int(input(n))<br><span class="hljs-attribute">nums</span> = list(map(int,input()))<br><span class="hljs-attribute">temp</span> =<span class="hljs-meta"> [0 for _ in range(n)]</span><br><br><span class="hljs-attribute">merge_sort</span>(l, r):<br>    <span class="hljs-attribute">if</span> l &gt;= r:<br>        <span class="hljs-attribute">return</span> <br>    <span class="hljs-attribute">mid</span> = (l + r) &gt;&gt; <span class="hljs-number">1</span><br>    <span class="hljs-attribute">merge_sort</span>(l, mid)<br>    <span class="hljs-attribute">merge_sort</span>(mid + <span class="hljs-number">1</span>, r)<br>    <span class="hljs-attribute">i</span>, j, k = l, mid + <span class="hljs-number">1</span>, <span class="hljs-number">0</span><br>    <span class="hljs-attribute">while</span> i &lt;= mid and j &lt;= r:<br>        <span class="hljs-attribute">if</span> nums[i] &lt;= nums[j]:<br>            <span class="hljs-attribute">temp</span>[k] = nums[i]<br>            <span class="hljs-attribute">k</span> += <span class="hljs-number">1</span><br>            <span class="hljs-attribute">i</span> += <span class="hljs-number">1</span><br>        <span class="hljs-attribute">else</span>:<br>            <span class="hljs-attribute">temp</span>[k] = nums[j]<br>            <span class="hljs-attribute">k</span> += <span class="hljs-number">1</span><br>            <span class="hljs-attribute">j</span> += <span class="hljs-number">1</span><br>    <span class="hljs-attribute">while</span> i &lt;= mid:<br>        <span class="hljs-attribute">temp</span>[k] = nums[i]<br>        <span class="hljs-attribute">k</span> += <span class="hljs-number">1</span><br>        <span class="hljs-attribute">i</span> += <span class="hljs-number">1</span><br>    <span class="hljs-attribute">while</span> j &lt;= r:<br>        <span class="hljs-attribute">temp</span>[k] = nums[j]<br>        <span class="hljs-attribute">k</span> += <span class="hljs-number">1</span><br>        <span class="hljs-attribute">j</span> += <span class="hljs-number">1</span><br>    <br>    <span class="hljs-attribute">j</span> = <span class="hljs-number">0</span><br>    <span class="hljs-attribute">for</span> i in range(l, r + <span class="hljs-number">1</span>):<br>        <span class="hljs-attribute">nums</span>[i] = temp[j]<br>        <span class="hljs-attribute">j</span> += <span class="hljs-number">1</span><br>        <br>        <br><span class="hljs-attribute">merge_sort</span>(<span class="hljs-number">0</span>,n - <span class="hljs-number">1</span>)# n-<span class="hljs-number">1</span>!!<br></code></pre></td></tr></table></figure></li><li><p>pythonæ‰‹åŠ¨å¢åŠ é€’å½’çš„å±‚æ•°<br>import sys<br>sys.setrecursionlimit(5000)</p></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>study</tag>
      
      <tag>python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å®è®­é¢˜ç›®æ•´ç†</title>
    <link href="/2023/07/23/%E5%AE%9E%E8%AE%AD%E9%A2%98%E7%9B%AE%E6%95%B4%E7%90%86/"/>
    <url>/2023/07/23/%E5%AE%9E%E8%AE%AD%E9%A2%98%E7%9B%AE%E6%95%B4%E7%90%86/</url>
    
    <content type="html"><![CDATA[<h1 id="ç†„ç¯é—®é¢˜"><a href="#ç†„ç¯é—®é¢˜" class="headerlink" title="ç†„ç¯é—®é¢˜"></a><a href="http://www.xmuoj.com/contest/193/problem/1.10">ç†„ç¯é—®é¢˜</a></h1><p>æšä¸¾&#x2F;äºŒè¿›åˆ¶ä¼˜åŒ–</p><p>æœ‰ä¸€ä¸ªç”±æŒ‰é’®ç»„æˆçš„çŸ©é˜µï¼Œå…¶ä¸­æ¯è¡Œæœ‰6ä¸ªæŒ‰é’®ï¼Œå…±5è¡Œã€‚æ¯ä¸ªæŒ‰é’®çš„ä½ç½®ä¸Šæœ‰ä¸€ç›ç¯ã€‚å½“æŒ‰ä¸‹ä¸€ä¸ªæŒ‰é’®åï¼Œè¯¥æŒ‰é’®ä»¥åŠå‘¨å›´ä½ç½®(ä¸Šè¾¹ã€ä¸‹è¾¹ã€å·¦è¾¹ã€å³è¾¹)çš„ç¯éƒ½ä¼šæ”¹å˜ä¸€æ¬¡ã€‚å³ï¼Œå¦‚æœç¯åŸæ¥æ˜¯ç‚¹äº®çš„ï¼Œå°±ä¼šè¢«ç†„ç­ï¼›å¦‚æœç¯åŸæ¥æ˜¯ç†„ç­çš„ï¼Œåˆ™ä¼šè¢«ç‚¹äº®ã€‚åœ¨çŸ©é˜µè§’ä¸Šçš„æŒ‰é’®æ”¹å˜3ç›ç¯çš„çŠ¶æ€ï¼›åœ¨çŸ©é˜µè¾¹ä¸Šçš„æŒ‰é’®æ”¹å˜4ç›ç¯çš„çŠ¶æ€ï¼›å…¶ä»–çš„æŒ‰é’®æ”¹å˜5ç›ç¯çš„çŠ¶æ€ã€‚</p><p>åœ¨ä¸Šå›¾ä¸­ï¼Œå·¦è¾¹çŸ©é˜µä¸­ç”¨Xæ ‡è®°çš„æŒ‰é’®è¡¨ç¤ºè¢«æŒ‰ä¸‹ï¼Œå³è¾¹çš„çŸ©é˜µè¡¨ç¤ºç¯çŠ¶æ€çš„æ”¹å˜ã€‚å¯¹çŸ©é˜µä¸­çš„æ¯ç›ç¯è®¾ç½®ä¸€ä¸ªåˆå§‹çŠ¶æ€ã€‚è¯·ä½ æŒ‰æŒ‰é’®ï¼Œç›´è‡³æ¯ä¸€ç›ç­‰éƒ½ç†„ç­ã€‚ä¸ä¸€ç›ç¯æ¯—é‚»çš„å¤šä¸ªæŒ‰é’®è¢«æŒ‰ä¸‹æ—¶ï¼Œä¸€ä¸ªæ“ä½œä¼šæŠµæ¶ˆå¦ä¸€æ¬¡æ“ä½œçš„ç»“æœã€‚åœ¨ä¸‹å›¾ä¸­ï¼Œç¬¬2è¡Œç¬¬3ã€5åˆ—çš„æŒ‰é’®éƒ½è¢«æŒ‰ä¸‹ï¼Œå› æ­¤ç¬¬2è¡Œã€ç¬¬4åˆ—çš„ç¯çš„çŠ¶æ€å°±ä¸æ”¹å˜ã€‚</p><p>è¯·ä½ å†™ä¸€ä¸ªç¨‹åºï¼Œç¡®å®šéœ€è¦æŒ‰ä¸‹å“ªäº›æŒ‰é’®ï¼Œæ°å¥½ä½¿å¾—æ‰€æœ‰çš„ç¯éƒ½ç†„ç­ã€‚æ ¹æ®ä¸Šé¢çš„è§„åˆ™ï¼Œæˆ‘ä»¬çŸ¥é“1ï¼‰ç¬¬2æ¬¡æŒ‰ä¸‹åŒä¸€ä¸ªæŒ‰é’®æ—¶ï¼Œå°†æŠµæ¶ˆç¬¬1æ¬¡æŒ‰ä¸‹æ—¶æ‰€äº§ç”Ÿçš„ç»“æœã€‚å› æ­¤ï¼Œæ¯ä¸ªæŒ‰é’®æœ€å¤šåªéœ€è¦æŒ‰ä¸‹ä¸€æ¬¡ï¼›2ï¼‰å„ä¸ªæŒ‰é’®è¢«æŒ‰ä¸‹çš„é¡ºåºå¯¹æœ€ç»ˆçš„ç»“æœæ²¡æœ‰å½±å“ï¼›3ï¼‰å¯¹ç¬¬1è¡Œä¸­æ¯ç›ç‚¹äº®çš„ç¯ï¼ŒæŒ‰ä¸‹ç¬¬2è¡Œå¯¹åº”çš„æŒ‰é’®ï¼Œå°±å¯ä»¥ç†„ç­ç¬¬1è¡Œçš„å…¨éƒ¨ç¯ã€‚å¦‚æ­¤é‡å¤ä¸‹å»ï¼Œå¯ä»¥ç†„ç­ç¬¬1ã€2ã€3ã€4è¡Œçš„å…¨éƒ¨ç¯ã€‚åŒæ ·ï¼ŒæŒ‰ä¸‹ç¬¬1ã€2ã€3ã€4ã€5åˆ—çš„æŒ‰é’®ï¼Œå¯ä»¥ç†„ç­å‰5åˆ—çš„ç¯ã€‚</p><ul><li>è¾“å…¥<br>5è¡Œç»„æˆï¼Œæ¯ä¸€è¡ŒåŒ…æ‹¬6ä¸ªæ•°å­—ï¼ˆ0æˆ–1ï¼‰ã€‚</li></ul><p>ç›¸é‚»ä¸¤ä¸ªæ•°å­—ä¹‹é—´ç”¨å•ä¸ªç©ºæ ¼éš”å¼€ã€‚</p><p>0è¡¨ç¤ºç¯çš„åˆå§‹çŠ¶æ€æ˜¯ç†„ç­çš„ï¼Œ1è¡¨ç¤ºç¯çš„åˆå§‹çŠ¶æ€æ˜¯ç‚¹äº®çš„ã€‚</p><ul><li>è¾“å‡º<br>5è¡Œç»„æˆï¼Œæ¯ä¸€è¡ŒåŒ…æ‹¬6ä¸ªæ•°å­—ï¼ˆ0æˆ–1ï¼‰ã€‚</li></ul><p>ç›¸é‚»ä¸¤ä¸ªæ•°å­—ä¹‹é—´ç”¨å•ä¸ªç©ºæ ¼éš”å¼€ã€‚</p><p>å…¶ä¸­çš„1è¡¨ç¤ºéœ€è¦æŠŠå¯¹åº”çš„æŒ‰é’®æŒ‰ä¸‹ï¼Œ0åˆ™è¡¨ç¤ºä¸éœ€è¦æŒ‰å¯¹åº”çš„æŒ‰é’®ã€‚</p><ul><li>è¾“å…¥æ ·ä¾‹</li></ul><p>2<br>0 1 1 0 1 0<br>1 0 0 1 1 1<br>0 0 1 0 0 1<br>1 0 0 1 0 1<br>0 1 1 1 0 0<br>0 0 1 0 1 0<br>1 0 1 0 1 1<br>0 0 1 0 1 1<br>1 0 1 1 0 0<br>0 1 0 1 0 0</p><ul><li>è¾“å‡ºæ ·ä¾‹</li></ul><p>PUZZLE #1<br>1 0 1 0 0 1<br>1 1 0 1 0 1<br>0 0 1 0 1 1<br>1 0 0 1 0 0<br>0 1 0 0 0 0<br>PUZZLE #2<br>1 0 0 1 1 1<br>1 1 0 0 0 0<br>0 0 0 1 0 0<br>1 1 0 1 0 1<br>1 0 1 1 0 1<br>æ³¨æ„ï¼šPUZZLEè¡Œç»“å°¾æ²¡æœ‰ç©ºæ ¼ï¼Œæ•°å­—è¡Œæœ€åæœ‰ä¸€ä¸ªç©ºæ ¼ã€‚   </p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><code class="hljs prolog"><span class="hljs-comment">/* æ¯æ¬¡ç¢°ä¸€ä¸ªå¼€å…³å°±ä¼šä½¿ä»–ä¸Šä¸‹å·¦å³ï¼ˆè¿˜æœ‰è‡ªå·±ï¼ï¼‰çš„ç¯éƒ½æ”¹å˜çŠ¶æ€ï¼Œç¯åªæœ‰å¼€å…³ä¸¤ç§çŠ¶æ€ï¼Œé‚£ä¹ˆè¦ä½¿ç¯å…¨éƒ¨å…³æ‰ï¼Œ</span><br><span class="hljs-comment">å…¶å®æ¯ä¸ªç¯æœ€å¤šåªéœ€è¦æŒ‰ä¸€æ¬¡ã€‚</span><br><span class="hljs-comment">  å¦‚ä½•æšä¸¾ï¼Ÿä»ç¬¬äºŒæ’å¼€å§‹ï¼Œåªå…³æ³¨å½“å‰è¡Œå’Œä¸Šä¸€è¡Œçš„çŠ¶æ€ï¼Œç”¨å½“å‰è¡ŒæŠŠä¸Šä¸€è¡Œçš„ç¯éƒ½å…³æ‰ï¼Œè€Œä¸è€ƒè™‘å…¶ä»–å˜</span><br><span class="hljs-comment">åŒ–ï¼Œè¿™æ ·åˆ°æœ€åä¸€è¡Œï¼Œå¦‚æœæ°å¥½å…¨éƒ¨ç†„ç­ï¼Œå°±æ˜¯ç»“æœã€‚èƒ½å¤Ÿå½±å“ç»“æœçš„ï¼Œå°±æ˜¯ç¬¬ä¸€è¡Œçš„çŠ¶æ€ï¼Œæšä¸¾ç¬¬ä¸€è¡Œã€‚</span><br><span class="hljs-comment">  ç¬¬ä¸€è¡Œçš„çŠ¶æ€æ€ä¹ˆè¡¨ç¤ºï¼Ÿç”±äºåªæœ‰å¼€å…³ï¼ˆ1/0ï¼‰ä¸¤ç§çŠ¶æ€ï¼Œå¯ä»¥ç”¨äºŒè¿›åˆ¶æ•°æ¥è¡¨ç¤ºï¼Œä¹‹åå†æŒ‰é¡ºåºè¾“å…¥åˆ°çŸ©é˜µä¸­</span><br><span class="hljs-comment">*/</span><br><br>#include &lt;iostream&gt;<br>#include &lt;vector&gt;<br>using namespace std;<br><br><br>bool <span class="hljs-symbol">ButtomStatu</span>(const int m, int ori[<span class="hljs-number">5</span>][<span class="hljs-number">6</span>], int res[<span class="hljs-number">5</span>][<span class="hljs-number">6</span>])<br>&#123;<br>//æšä¸¾ç¬¬ä¸€è¡Œçš„æ‰€æœ‰æŒ‰é”®æƒ…å†µ åˆ©ç”¨äºŒè¿›åˆ¶æ•°æ¥æšä¸¾ ç”±äºæœ‰<span class="hljs-number">6</span>åˆ— æƒ…å†µä¸º<span class="hljs-number">2</span>^<span class="hljs-number">6</span>ç§ å¾—åˆ°ç¬¬ä¸€è¡Œçš„æŒ‰é”®æƒ…å†µ<br>int temp = m;<br><br>for (int i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">6</span>; i++)<br>&#123;<br>res[<span class="hljs-number">0</span>][i] = temp <span class="hljs-comment">% 2;</span><br>temp /= <span class="hljs-number">2</span>;<br>&#125;<br> <br>//æŠŠä¸Šé¢çš„æƒ…å†µæŒ‰ä¸€é è®°å¾—æŒ‰è‡ªå·±æ‰€åœ¨çš„ä½ç½®<br>for (int i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">6</span>; i++)<br>&#123;<br>if (res[<span class="hljs-number">0</span>][i])<br>&#123;<br>ori[<span class="hljs-number">0</span>][i]= (ori[<span class="hljs-number">0</span>][i] + <span class="hljs-number">1</span>) <span class="hljs-comment">% 2;</span><br>ori[<span class="hljs-number">1</span>][i] = (ori[<span class="hljs-number">1</span>][i] + <span class="hljs-number">1</span>) <span class="hljs-comment">% 2;</span><br>if (i + <span class="hljs-number">1</span> &lt; <span class="hljs-number">6</span>)ori[<span class="hljs-number">0</span>][i + <span class="hljs-number">1</span>] = (ori[<span class="hljs-number">0</span>][i + <span class="hljs-number">1</span>] + <span class="hljs-number">1</span>) <span class="hljs-comment">% 2;</span><br>if (i - <span class="hljs-number">1</span> &gt;= <span class="hljs-number">0</span>)ori[<span class="hljs-number">0</span>][i - <span class="hljs-number">1</span>] = (ori[<span class="hljs-number">0</span>][i - <span class="hljs-number">1</span>] + <span class="hljs-number">1</span>) <span class="hljs-comment">% 2;</span><br>&#125;<br>&#125;<br><br>//ä»ç¬¬ä¸€è¡Œä¸‹é¢çš„æ¯ä¸€è¡Œæšä¸¾ ï¼ˆæ ¸å¿ƒæ˜¯ ç¬¬ä¸€è¡Œå†³å®šäº†ä¸‹é¢æ¯ä¸€è¡Œçš„æƒ…å†µ æ‰€ä»¥åªéœ€è¦æšä¸¾ç¬¬ä¸€è¡Œ<br>for (int i = <span class="hljs-number">1</span>; i &lt; <span class="hljs-number">5</span>; i++)<br>&#123;<br>for (int j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">6</span>; j++)<br>&#123;<br>if (ori[i - <span class="hljs-number">1</span>][j] != <span class="hljs-number">0</span>)<br>&#123;<br>if (i - <span class="hljs-number">1</span> &gt;= <span class="hljs-number">0</span>)ori[i - <span class="hljs-number">1</span>][j] = <span class="hljs-number">0</span>;<br>if (i + <span class="hljs-number">1</span> &lt; <span class="hljs-number">5</span>)ori[i + <span class="hljs-number">1</span>][j] = (ori[i + <span class="hljs-number">1</span>][j] + <span class="hljs-number">1</span>) <span class="hljs-comment">% 2;</span><br>if (j + <span class="hljs-number">1</span> &lt; <span class="hljs-number">6</span>)ori[i][j + <span class="hljs-number">1</span>] = (ori[i][j + <span class="hljs-number">1</span>] + <span class="hljs-number">1</span>) <span class="hljs-comment">% 2;</span><br>if (j - <span class="hljs-number">1</span> &gt;= <span class="hljs-number">0</span>)ori[i][j - <span class="hljs-number">1</span>] = (ori[i][j - <span class="hljs-number">1</span>] + <span class="hljs-number">1</span>) <span class="hljs-comment">% 2;</span><br>ori[i][j]= (ori[i][j] + <span class="hljs-number">1</span>) <span class="hljs-comment">% 2;</span><br>res[i][j] = <span class="hljs-number">1</span>;<br>&#125;<br>&#125;<br>&#125;<br><br>//å¦‚æœç¯å…¨éƒ¨å…³å®Œ åˆ™ä¸ºtrue<br>for (int i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++)<br>for (int j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">6</span>; j++)<br>if (ori[i][j] != <span class="hljs-number">0</span>)return false;<br><br>return true;<br>&#125;<br><br><br>int main()<br>&#123;<br>int n;<br>cin &gt;&gt; n;<br>int orilight[<span class="hljs-number">5</span>][<span class="hljs-number">6</span>];<br>int resultlight[<span class="hljs-number">5</span>][<span class="hljs-number">6</span>];<br>int constorilight[<span class="hljs-number">5</span>][<span class="hljs-number">6</span>];<br>for(int k=<span class="hljs-number">1</span>;k&lt;=n;k++)<br>&#123;<br>for (int row = <span class="hljs-number">0</span>; row &lt; <span class="hljs-number">5</span>; row++)<br>&#123;<br>for (int col = <span class="hljs-number">0</span>; col &lt; <span class="hljs-number">6</span>; col++)<br>&#123;<br>cin &gt;&gt; constorilight[row][col];<br>&#125;<br>&#125;<br>//æšä¸¾<span class="hljs-number">64</span>ç§æƒ…å†µ<br>for (int i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">64</span>; i++)<br>&#123;<br>for (int i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++)<br>for (int j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">6</span>; j++)<br>&#123;<br>orilight[i][j] = constorilight[i][j];<br>resultlight[i][j] = <span class="hljs-number">0</span>;<br>&#125;<br>//å¦‚æœå¾—åˆ°ç»“æœå°±è¾“å‡º<br>if (<span class="hljs-symbol">ButtomStatu</span>(i, orilight, resultlight))<br>&#123;<br>cout &lt;&lt; <span class="hljs-string">&quot;PUZZLE #&quot;</span> &lt;&lt; k &lt;&lt; endl;<br>for (int i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++)<br>&#123;<br>for (int j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">6</span>; j++)<br>cout &lt;&lt; resultlight[i][j] &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>cout &lt;&lt; endl;<br>&#125;<br>&#125;<br>&#125;<br>&#125;<br>return <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="å‡å¸é—®é¢˜"><a href="#å‡å¸é—®é¢˜" class="headerlink" title="å‡å¸é—®é¢˜"></a><a href="http://www.xmuoj.com/contest/193/problem/1.5">å‡å¸é—®é¢˜</a></h1><p>æšä¸¾</p><p>æ—å…‹æœ‰12æšé“¶å¸ã€‚å…¶ä¸­æœ‰11æšçœŸå¸å’Œ1æšå‡å¸ã€‚å‡å¸çœ‹èµ·æ¥å’ŒçœŸå¸æ²¡æœ‰åŒºåˆ«ï¼Œä½†æ˜¯é‡é‡ä¸åŒã€‚ä½†æ—å…‹ä¸çŸ¥é“å‡å¸æ¯”çœŸå¸è½»è¿˜æ˜¯é‡ã€‚</p><p>äºæ˜¯ä»–å‘ä»–æœ‹å‹çº¦ç¥å€Ÿäº†ä¸€æ¶å¤©å¹³ï¼Œç”¨è¿™æ¶å¤©å¹³ç§°äº†è¿™äº›å¸ä¸‰æ¬¡ã€‚</p><p>å¦‚æœç”¨å¤©å¹³ç§°ä¸¤æšç¡¬å¸ï¼Œå‘ç°å¤©å¹³å¹³è¡¡ï¼Œè¯´æ˜ä¸¤æšéƒ½æ˜¯çœŸçš„ã€‚å¦‚æœç”¨ä¸€æšçœŸå¸ä¸å¦ä¸€æšé“¶å¸æ¯”è¾ƒï¼Œå‘ç°å®ƒæ¯”çœŸå¸è½»æˆ–é‡ï¼Œè¯´æ˜å®ƒæ˜¯å‡å¸ã€‚</p><p>ç»è¿‡ç²¾å¿ƒçš„è®¾è®¡ï¼Œèªæ˜çš„æ—å…‹æ ¹æ®è¿™ä¸‰æ¬¡ç§°é‡ç»“æœæ‰¾å‡ºå‡å¸ï¼Œå¹¶ä¸”èƒ½å¤Ÿç¡®å®šå‡å¸æ˜¯è½»æ˜¯é‡ã€‚</p><p>å¦‚æœç»™ä½ æ—å…‹çš„ç§°é‡æ•°æ®ï¼Œä½ ä¹Ÿå¯ä»¥æ‰¾å‡ºå‡å¸å¹¶ä¸”ç¡®å®šå‡å¸æ˜¯è½»æ˜¯é‡å—ï¼Ÿï¼ˆæ—å…‹æä¾›çš„ç§°é‡æ•°æ®ä¿è¯ä¸€å®šèƒ½æ‰¾å‡ºå‡å¸ï¼‰ã€‚</p><ul><li>è¾“å…¥</li></ul><p>ç¬¬ä¸€è¡Œæœ‰ä¸€ä¸ªæ•°å­—nï¼Œè¡¨ç¤ºæœ‰nç»„æµ‹è¯•ç”¨ä¾‹ã€‚</p><p>å¯¹äºæ¯ç»„æµ‹è¯•ç”¨ä¾‹ï¼š</p><p>è¾“å…¥æœ‰ä¸‰è¡Œï¼Œæ¯è¡Œè¡¨ç¤ºä¸€æ¬¡ç§°é‡çš„ç»“æœã€‚æ—å…‹äº‹å…ˆå°†é“¶å¸æ ‡å·ä¸ºA-Lã€‚</p><p>æ¯æ¬¡ç§°é‡çš„ç»“æœç”¨ä¸‰ä¸ªä»¥ç©ºæ ¼éš”å¼€çš„å­—ç¬¦ä¸²è¡¨ç¤ºï¼š</p><p>å¤©å¹³å·¦è¾¹æ”¾ç½®çš„ç¡¬å¸  å¤©å¹³å³è¾¹æ”¾ç½®çš„ç¡¬å¸  å¹³è¡¡çŠ¶æ€ã€‚</p><p>å…¶ä¸­å¹³è¡¡çŠ¶æ€ç”¨â€™â€™upâ€™â€™, â€˜â€™downâ€™â€™, æˆ– â€˜â€™evenâ€™â€™è¡¨ç¤º, åˆ†åˆ«ä¸ºå³ç«¯é«˜ã€å³ç«¯ä½å’Œå¹³è¡¡ã€‚å¤©å¹³å·¦å³çš„ç¡¬å¸æ•°æ€»æ˜¯ç›¸ç­‰çš„ã€‚</p><ul><li>è¾“å‡º</li></ul><p>è¾“å‡ºå“ªä¸€ä¸ªæ ‡å·çš„é“¶å¸æ˜¯å‡å¸ï¼Œå¹¶è¯´æ˜å®ƒæ¯”çœŸå¸è½»è¿˜æ˜¯é‡(heavy or light)</p><ul><li>è¾“å…¥æ ·ä¾‹ 1</li></ul><p>1<br>ABCD EFGH even<br>ABCI EFJK up<br>ABIJ EFGH even  </p><ul><li>è¾“å‡ºæ ·ä¾‹ 1</li></ul><p>K is the counterfeit coin and it is light. </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">/* æšä¸¾åäºŒæšç¡¬å¸å’Œè½»é‡å…±24ç§çŠ¶æ€ï¼Œå…ˆè®¾å‡å¸ä¸ºè½»ï¼Œé‚£ä¹ˆä¸€å®šåœ¨ä¸Šå‡çš„ä¸€è¾¹ï¼Œä¾æ¬¡æšä¸¾åäºŒæšç¡¬å¸æ˜¯å¦åœ¨</span><br><span class="hljs-comment">ä¸Šå‡çš„ä¸€è¾¹ï¼Œå¦‚æœä¸æ˜¯ï¼Œè¯´æ˜ä¸ºçœŸå¸æˆ–è€…å‡å¸ä¸ä¸ºè½»ï¼Œé‚£ä¹ˆè¿”å›falseã€‚å¦åˆ™éå†ä¸‰æ¬¡ç§°é‡ï¼Œæœ€åè¿”å›trueï¼Œè¯´æ˜</span><br><span class="hljs-comment">è¿™ä¸ªå°±æ˜¯å‡å¸å¹¶ä¸”ä¸ºè½»ã€‚</span><br><span class="hljs-comment">ä¼˜åŒ–ï¼šä¸éœ€è¦åˆ†åˆ«å†™è½»ï¼Œé‡çš„å‡½æ•°ï¼Œåªéœ€è¦ä¼ ä¸€ä¸ªå‚æ•°è¡¨ç¤ºçŠ¶æ€ï¼Œå½“åˆ¤æ–­é‡æ—¶æŠŠå·¦å³äº¤æ¢ï¼Œå°±ä¸åˆ¤æ–­è½»çš„ä»£ç ä¸€æ ·</span><br><span class="hljs-comment">*/</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> _CRT_SECURE_NO_WARNINGS 1</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br>vector&lt;string&gt;<span class="hljs-built_in">lef</span>(<span class="hljs-number">3</span>);<br>vector&lt;string&gt;<span class="hljs-built_in">rig</span>(<span class="hljs-number">3</span>);<br>vector&lt;string&gt;<span class="hljs-built_in">zt</span>(<span class="hljs-number">3</span>);<br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">check</span><span class="hljs-params">(<span class="hljs-type">char</span> iCoin,<span class="hljs-type">bool</span> is_light)</span></span><br><span class="hljs-function"></span>&#123;<br><br><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++)<br>&#123;<br>string l = lef[i];<br>string r = rig[i];<br>string z = zt[i];<br><span class="hljs-keyword">if</span> (!is_light)<br><span class="hljs-built_in">swap</span>(l, r);<br><span class="hljs-keyword">switch</span> (zt[i][<span class="hljs-number">0</span>])<br>&#123;<br><span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;e&#x27;</span>:<br><span class="hljs-keyword">if</span> (l.<span class="hljs-built_in">find</span>(iCoin)!=string::npos||r.<span class="hljs-built_in">find</span>(iCoin)!=string::npos)<br><span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<span class="hljs-comment">//è¯´æ˜åœ¨å¹³è¡¡çš„åœ°æ–¹æ‰¾åˆ°äº†  è‚¯å®šæ˜¯çœŸå¸</span><br><span class="hljs-keyword">break</span>;<br><span class="hljs-comment">//ç°åœ¨æšä¸¾çš„æ˜¯è½»çš„ é‚£ä¹ˆå‡å¸ä¸€å®šåœ¨ä¸Šå‡çš„ä¸€æ–¹ </span><br><span class="hljs-comment">//å³è¾¹æ²¡æ‰¾åˆ°é‚£å°±è‚¯å®šæ˜¯çœŸå¸</span><br><span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;u&#x27;</span>:<br><span class="hljs-keyword">if</span> (r.<span class="hljs-built_in">find</span>(iCoin)==string::npos)<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">break</span>;<br><span class="hljs-comment">//å·¦è¾¹æ²¡æ‰¾åˆ°é‚£å°±è‚¯å®šæ˜¯çœŸå¸</span><br><span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;d&#x27;</span>:<br><span class="hljs-keyword">if</span> (l.<span class="hljs-built_in">find</span>(iCoin)==string::npos)<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">default</span>:<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> n;<br>cin &gt;&gt; n;<br><br><span class="hljs-keyword">while</span> (n--)<br>&#123;<br><span class="hljs-type">int</span> cmp[<span class="hljs-number">12</span>] = &#123; <span class="hljs-number">0</span> &#125;;<br><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++)<br>&#123;<br>cin &gt;&gt; lef[i]&gt;&gt;rig[i]&gt;&gt; zt[i];<br>&#125;<br><br><span class="hljs-comment">//æšä¸¾åäºŒæšç¡¬å¸</span><br><span class="hljs-keyword">for</span> (<span class="hljs-type">char</span> iCoin = <span class="hljs-string">&#x27;A&#x27;</span>; iCoin &lt;= <span class="hljs-string">&#x27;L&#x27;</span>; iCoin++) <br>&#123;<br><span class="hljs-comment">//æšä¸¾å‡å¸ä¸ºè½»çš„æƒ…å†µ</span><br><span class="hljs-keyword">if</span> (<span class="hljs-built_in">check</span>(iCoin,<span class="hljs-literal">true</span>))<br>&#123;<br>cout &lt;&lt; iCoin &lt;&lt; <span class="hljs-string">&quot; is the counterfeit coin and it is light. &quot;</span> &lt;&lt; endl;<br><span class="hljs-keyword">break</span>;<br>&#125;<br><span class="hljs-keyword">if</span> (<span class="hljs-built_in">check</span>(iCoin,<span class="hljs-literal">false</span>))<br>&#123;<br>cout &lt;&lt; iCoin &lt;&lt; <span class="hljs-string">&quot; is the counterfeit coin and it is heavy. &quot;</span> &lt;&lt; endl;<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br>lef.<span class="hljs-built_in">clear</span>(), rig.<span class="hljs-built_in">clear</span>(), zt.<span class="hljs-built_in">clear</span>();<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="æ‹¨é’Ÿé—®é¢˜"><a href="#æ‹¨é’Ÿé—®é¢˜" class="headerlink" title="æ‹¨é’Ÿé—®é¢˜"></a><a href="http://www.xmuoj.com/problem/GW102">æ‹¨é’Ÿé—®é¢˜</a></h1><p>å­é›†å‹å›æº¯</p><p>æœ‰9ä¸ªæ—¶é’Ÿï¼Œæ’æˆä¸€ä¸ª3*3çš„çŸ©é˜µã€‚</p><p>(å›¾ 1)<del>æ˜æ˜¾æ˜¾ç¤ºä¸å‡ºæ¥å˜›ï¼</del>  </p><p>ç°åœ¨éœ€è¦ç”¨æœ€å°‘çš„ç§»åŠ¨ï¼Œå°†9ä¸ªæ—¶é’Ÿçš„æŒ‡é’ˆéƒ½æ‹¨åˆ°12ç‚¹çš„ä½ç½®ã€‚å…±å…è®¸æœ‰9ç§ä¸åŒçš„ç§»åŠ¨ã€‚å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼Œæ¯ä¸ªç§»åŠ¨ä¼šå°†è‹¥å¹²ä¸ªæ—¶é’Ÿçš„æŒ‡é’ˆæ²¿é¡ºæ—¶é’ˆæ–¹å‘æ‹¨åŠ¨90åº¦ã€‚</p><p>ç§»åŠ¨    å½±å“çš„æ—¶é’Ÿ</p><p> 1         ABDE<br> 2         ABC<br> 3         BCEF<br> 4         ADG<br> 5         BDEFH<br> 6         CFI<br> 7         DEGH<br> 8         GHI<br> 9         EFHI         </p><ul><li>è¾“å…¥</li></ul><p>9ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºå„æ—¶é’ŸæŒ‡é’ˆçš„èµ·å§‹ä½ç½®ï¼Œç›¸é‚»ä¸¤ä¸ªæ•´æ•°ä¹‹é—´ç”¨å•ä¸ªç©ºæ ¼éš”å¼€ã€‚å…¶ä¸­ï¼Œ0&#x3D;12ç‚¹ã€1&#x3D;3ç‚¹ã€2&#x3D;6ç‚¹ã€3&#x3D;9ç‚¹ã€‚</p><ul><li>è¾“å‡º</li></ul><p>è¾“å‡ºä¸€ä¸ªæœ€çŸ­çš„æ—¶é’ŸæŒ‡é’ˆç§»åŠ¨åºåˆ—ï¼Œä½¿å¾—9ä¸ªæ—¶é’Ÿçš„æŒ‡é’ˆéƒ½æŒ‡å‘12ç‚¹ã€‚æŒ‰ç…§ç§»åŠ¨çš„åºå·ä»å°åˆ°å¤§è¾“å‡ºç»“æœã€‚ ç›¸é‚»ä¸¤ä¸ªæ•´æ•°ä¹‹é—´ç”¨å•ä¸ªç©ºæ ¼éš”å¼€ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">/*å­é›†å‹å›æº¯ï¼šè¿›å…¥dfsä¹‹åé¦–å…ˆåˆ¤æ–­é€€å‡ºæ¡ä»¶ã€‚ä¹‹åæ˜¯é€‰æˆ–ä¸é€‰ï¼Œå¯¹äº1~9æ¯ä¸ªæ‹¨é’Ÿçš„æ–¹æ³•ï¼Œéƒ½å¯ä»¥é€‰æ‹©æ‹¨æˆ–è€…</span><br><span class="hljs-comment">ä¸æ‹¨ï¼ï¼ç„¶åæ˜¯æ¯ä¸ªæ•°å­—å¾ªç¯ä¸‰æ¬¡ï¼ˆæœ€å¤šåªéœ€è¦æ‹¨ä¸‰æ¬¡ï¼‰ã€‚</span><br><span class="hljs-comment">åˆ¤æ–­ï¼Œk&gt;9çš„æ—¶å€™åˆ¤æ–­æ˜¯å¦ç¬¦åˆï¼Œç¬¦åˆåˆ¤æ–­æœ€çŸ­ï¼Œä¹‹å‰åº”è®°å½•æ¯ä¸€æ­¥ã€‚</span><br><span class="hljs-comment">*/</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br>vector&lt;string&gt;inf = &#123; <span class="hljs-string">&quot; &quot;</span>,<span class="hljs-string">&quot;ABDE&quot;</span> ,<span class="hljs-string">&quot;ABC&quot;</span>,<span class="hljs-string">&quot;BCEF&quot;</span>,<span class="hljs-string">&quot;ADG&quot;</span>,<span class="hljs-string">&quot;BDEFH&quot;</span>,<span class="hljs-string">&quot;CFI&quot;</span>,<span class="hljs-string">&quot;DEGH&quot;</span>,<span class="hljs-string">&quot;GHI&quot;</span>,<span class="hljs-string">&quot;EFHI&quot;</span>&#125;;<br>vector&lt;<span class="hljs-type">int</span>&gt;<span class="hljs-built_in">ori</span>(<span class="hljs-number">100</span>);<br>vector&lt;<span class="hljs-type">int</span>&gt;<span class="hljs-built_in">movevec</span>(<span class="hljs-number">100</span>);<br>vector&lt;<span class="hljs-type">int</span>&gt;<span class="hljs-built_in">showvec</span>(<span class="hljs-number">100</span>);<br><span class="hljs-type">int</span> u = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> si = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> mi = <span class="hljs-number">50</span>;<br><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">check</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;ori)</span><span class="hljs-comment">//æ£€æŸ¥æ˜¯å¦ç¬¦åˆæ¡ä»¶ï¼ˆå…¨ä¸º0</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">9</span>; i++)<br>&#123;<br><span class="hljs-keyword">if</span> (ori[i] != <span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">move</span><span class="hljs-params">(<span class="hljs-type">int</span> k)</span><span class="hljs-comment">//ç§»åŠ¨çš„è·ç¦»</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; inf[k].<span class="hljs-built_in">size</span>(); i++)<br>&#123;<br>ori[inf[k][i] - <span class="hljs-string">&#x27;A&#x27;</span>] = (ori[inf[k][i] - <span class="hljs-string">&#x27;A&#x27;</span>] + <span class="hljs-number">1</span>) % <span class="hljs-number">4</span>;<br>&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> k)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">if</span> (k &gt; <span class="hljs-number">9</span>)<span class="hljs-comment">//ç›¸å½“äºå¾ªç¯9æ¬¡  å³æšä¸¾9ç§æ‹¨é’Ÿæ–¹æ³•</span><br>&#123;<br><span class="hljs-keyword">if</span> (<span class="hljs-built_in">check</span>(ori) &amp;&amp; si &lt; mi)<span class="hljs-comment">//ç”±äºéœ€è¦æœ€å°‘çš„æ¬¡æ•°æ‰€ä»¥ç”¨miè®°å½•ï¼ˆå½“å…¨ä¸º0æ—¶ï¼‰æœ€å°‘æ¬¡æ•°</span><br>&#123;<br>mi = si;<br>showvec = movevec;<span class="hljs-comment">//è®°å½•æœ€å°‘æ¬¡æ•°çš„èµ°æ³• ç”±äºæ˜¯æŒ‰é¡ºåºæšä¸¾ æ‰€ä»¥ä¸€å®šæ˜¯ä»å°åˆ°å¤§çš„</span><br>&#125;<br><span class="hljs-keyword">return</span>;<br>&#125;<br> <br> <span class="hljs-comment">//å­é›†å‹å›æº¯  å¯ä»¥ä¸€ä¸ªéƒ½ä¸é€‰</span><br><span class="hljs-built_in">dfs</span>(k + <span class="hljs-number">1</span>);<span class="hljs-comment">//å…ˆè¿›å»9æ¬¡  è¿™æ ·æ‰å¯ä»¥å›æº¯ åªæ‹¨ç¬¬9ä¸ªä¸è¡Œ ä»è¿™é‡Œé€€å‡º æ‹¨ç¬¬8ä¸ªå’Œç¬¬9ä¸ª ç”±äºmoveï¼ˆKï¼‰ åˆ™å¯ä»¥æšä¸¾åˆ°1æ¬¡8 1æ¬¡9 2æ¬¡9 3æ¬¡9 ï¼‰ 2æ¬¡8 1æ¬¡9 2æ¬¡9 3æ¬¡9 ï¼‰3æ¬¡8 1æ¬¡9 2æ¬¡9 3æ¬¡9ã€‚ã€‚ã€‚ä¾æ¬¡ç±»æ¨å¯ä»¥æšä¸¾åˆ°å…¨éƒ¨çš„æƒ…å†µ</span><br><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">3</span>; i++)<span class="hljs-comment">//æ¯ä¸€ç§æ–¹æ³•æ‹¨ä¸‰æ¬¡</span><br>&#123;<br>movevec[si++] = k;<span class="hljs-comment">//è®°å½•æ‹¨é’Ÿæ–¹æ³•å’Œæ¬¡æ•°</span><br><span class="hljs-built_in">move</span>(k);<span class="hljs-comment">//æ‹¨é’Ÿ</span><br><span class="hljs-built_in">dfs</span>(k + <span class="hljs-number">1</span>);<br>&#125;<br>si -= <span class="hljs-number">3</span>;<br><span class="hljs-built_in">move</span>(k);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">9</span>; i++)<br>&#123;<br>cin &gt;&gt; ori[i];<br>&#125;<br><br><span class="hljs-built_in">dfs</span>(<span class="hljs-number">1</span>);<br><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt;mi ; i++)<br>&#123;<br>cout &lt;&lt; showvec[i] &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>&#125;<br><br>&#125;<br><br></code></pre></td></tr></table></figure><h1 id="2çš„å¹‚æ¬¡æ–¹è¡¨ç¤º"><a href="#2çš„å¹‚æ¬¡æ–¹è¡¨ç¤º" class="headerlink" title="2çš„å¹‚æ¬¡æ–¹è¡¨ç¤º"></a><a href="http://www.xmuoj.com/problem/GW104">2çš„å¹‚æ¬¡æ–¹è¡¨ç¤º</a></h1><p>é€’å½’  <del>å‘œå‘œ é€’å½’çœŸçš„å¥½æŠ½è±¡ éš¾è¿‡ tllwtgå’Œwegretæ€ä¹ˆéƒ½è¯´è‡ªç„¶å°±ä¼šäº†</del></p><p><del>é¢˜ç›®å±…ç„¶æ˜¯å›¾ç‰‡ é‚£å°±ç‚¹é“¾æ¥äº†</del></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">/* å½“n=1çš„æ—¶å€™æ€ä¹ˆåŠï¼Ÿn=2çš„æ—¶å€™æ€ä¹ˆåŠï¼Ÿn=å…¶ä»–æ•°çš„æ—¶å€™æ€ä¹ˆåŠï¼Ÿå†æŠŠæ¬¡æ–¹ä¹Ÿé€’å½’ä¸€ä¸‹ï¼ˆ1æ¬¡æ–¹è¦ç‰¹åˆ¤ï¼ï¼ï¼‰</span><br><span class="hljs-comment">ç„¶åå‡å»è¿™ä¸ªæ•°ï¼Œå‰©ä¸‹çš„æ•°å†æ‹†åˆ†</span><br><span class="hljs-comment">*/</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">mf</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">if</span> (n == <span class="hljs-number">1</span>)<br>&#123;<br><span class="hljs-comment">// 1ä¸å¯åˆ’åˆ† ç›´æ¥è¾“å‡º</span><br>cout &lt;&lt; <span class="hljs-string">&quot;2(0)&quot;</span>;<br><span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (n == <span class="hljs-number">2</span>)<br>&#123;<br><span class="hljs-comment">// 2ä¸å¯åˆ’åˆ†</span><br>cout &lt;&lt; <span class="hljs-string">&quot;2&quot;</span>;<br><span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-comment">// å…¶ä»–æ•° å¯åˆ’åˆ† </span><br><br><span class="hljs-type">int</span> k = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> a = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">while</span> (a * <span class="hljs-number">2</span> &lt;= n)<br>&#123;<br>a *= <span class="hljs-number">2</span>;<br>k++;<br>&#125;<br><span class="hljs-comment">// åˆ†è§£æ¬¡æ–¹</span><br><span class="hljs-comment">// è¿™ä¸ªåœ°æ–¹è¦ç‰¹åˆ¤  å› ä¸ºåªå‰©ä¸€ä¸ª2çš„æ—¶å€™å°±ç›´æ¥è¾“å‡ºäº† è€Œä¸æ˜¯æŠŠk=1å†æ‹¿å»é€’å½’</span><br><span class="hljs-keyword">if</span> (a == <span class="hljs-number">2</span>)<br>&#123;<br>cout &lt;&lt; <span class="hljs-string">&quot;2&quot;</span>;<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br>cout &lt;&lt; <span class="hljs-string">&quot;2(&quot;</span>;<br><span class="hljs-built_in">mf</span>(k);<br>cout &lt;&lt; <span class="hljs-string">&quot;)&quot;</span>;<br>&#125;<br><br><span class="hljs-type">int</span> x = n - a;<br><span class="hljs-keyword">if</span> (x == <span class="hljs-number">0</span>)<span class="hljs-keyword">return</span>;<br>cout &lt;&lt; <span class="hljs-string">&quot;+&quot;</span>;<br><span class="hljs-built_in">mf</span>(x);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> n;<br>cin &gt;&gt; n;<br><span class="hljs-built_in">mf</span>(n);<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ç›´æ¥ç”¨pythonå†™ç®—äº†"><a href="#ç›´æ¥ç”¨pythonå†™ç®—äº†" class="headerlink" title="ç›´æ¥ç”¨pythonå†™ç®—äº†"></a>ç›´æ¥ç”¨pythonå†™ç®—äº†</h2><h1 id="ç®—24"><a href="#ç®—24" class="headerlink" title="ç®—24"></a><a href="http://www.xmuoj.com/problem/NQ079">ç®—24</a></h1><p>å›æº¯<br>ç†Ÿæ‚‰äº†é€’å½’å’Œæ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œå°åçŸ¥é“ç°åœ¨æ˜¯è®©å°é²ç»¼åˆè¿ç”¨æ‰€å­¦çŸ¥è¯†çš„æ—¶å€™äº†ï¼Œä»–è®©å°é²è°ƒæ•´ä¸€é“ç»å…¸é¢˜ï¼šç®—24.</p><p>ç»™å‡º4ä¸ªå°äº10ä¸ªæ­£æ•´æ•°ï¼Œä½ å¯ä»¥ä½¿ç”¨åŠ å‡ä¹˜é™¤4ç§è¿ç®—ä»¥åŠæ‹¬å·æŠŠè¿™4ä¸ªæ•°è¿æ¥èµ·æ¥å¾—åˆ°ä¸€ä¸ªè¡¨è¾¾å¼ã€‚ç°åœ¨çš„é—®é¢˜æ˜¯ï¼Œæ˜¯å¦å­˜åœ¨ä¸€ç§æ–¹å¼ä½¿å¾—å¾—åˆ°çš„è¡¨è¾¾å¼çš„ç»“æœç­‰äº24ã€‚</p><p>è¿™é‡ŒåŠ å‡ä¹˜é™¤ä»¥åŠæ‹¬å·çš„è¿ç®—ç»“æœå’Œè¿ç®—çš„ä¼˜å…ˆçº§è·Ÿæˆ‘ä»¬å¹³å¸¸çš„å®šä¹‰ä¸€è‡´ï¼ˆè¿™é‡Œçš„é™¤æ³•å®šä¹‰æ˜¯å®æ•°é™¤æ³•ï¼‰ã€‚</p><p>æ¯”å¦‚ï¼Œå¯¹äº5ï¼Œ5ï¼Œ5ï¼Œ1ï¼Œæˆ‘ä»¬çŸ¥é“5 * (5 â€“ 1 &#x2F; 5) &#x3D; 24ï¼Œå› æ­¤å¯ä»¥å¾—åˆ°24ã€‚åˆæ¯”å¦‚ï¼Œå¯¹äº1ï¼Œ1ï¼Œ4ï¼Œ2ï¼Œæˆ‘ä»¬æ€ä¹ˆéƒ½ä¸èƒ½å¾—åˆ°24ã€‚</p><p>æ³¨æ„ï¼šè¾“å…¥æ•°å­—çš„æ¬¡åºå¯ä»¥æ”¹å˜ã€‚</p><ul><li><p>è¾“å…¥<br>è¾“å…¥æ•°æ®åŒ…æ‹¬å¤šè¡Œï¼Œæ¯è¡Œç»™å‡ºä¸€ç»„æµ‹è¯•æ•°æ®ï¼ŒåŒ…æ‹¬4ä¸ªå°äº10ä¸ªæ­£æ•´æ•°ã€‚æœ€åä¸€ç»„æµ‹è¯•æ•°æ®ä¸­åŒ…æ‹¬4ä¸ª0ï¼Œè¡¨ç¤ºè¾“å…¥çš„ç»“æŸï¼Œè¿™ç»„æ•°æ®ä¸ç”¨å¤„ç†ã€‚</p></li><li><p>è¾“å‡º<br>å¯¹äºæ¯ä¸€ç»„æµ‹è¯•æ•°æ®ï¼Œè¾“å‡ºä¸€è¡Œï¼Œå¦‚æœå¯ä»¥å¾—åˆ°24ï¼Œè¾“å‡ºâ€œYESâ€ï¼›å¦åˆ™ï¼Œè¾“å‡ºâ€œNOâ€ã€‚</p></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-string">&quot;&quot;&quot;å›æº¯ï¼Œé¦–å…ˆå¯»æ‰¾ç»“æŸæ¡ä»¶ï¼Œå½“ç­‰äº24æ—¶é€€å‡ºé€’å½’ï¼Œè®°å¾—ç”¨ç»å¯¹å€¼å’Œæµ®ç‚¹æ•°åˆ¤æ–­ã€‚</span><br><span class="hljs-string">ç„¶ååŸºæœ¬æ€è·¯æ—¶æŠŠæ¯ç§ç»„åˆçš„åŠ å‡ä¹˜é™¤éƒ½ç®—ä¸€éï¼Œå¦‚ä½•å‚¨å­˜çŠ¶æ€ï¼Ÿä½¿ç”¨ä¸€ä¸ªåˆ—è¡¨ï¼Œæ¯æ¬¡é€‰å‡ºä¸¤ä¸ªæ•°ï¼Œè¿›è¡Œå››åˆ™</span><br><span class="hljs-string">è¿ç®—ï¼Œç„¶åæŠŠå‰©ä½™çš„æ²¡ç®—çš„æ•°ä¹ŸåŠ è¿›shengyuæ•°ç»„é‡Œé¢ï¼Œé€’å½’è¿ç®—ã€‚è®°å¾—è¦å›æº¯popï¼Œè¿˜è¦æ’é™¤b == 0çš„æƒ…å†µï¼ˆè¢«é™¤æ•°ï¼‰ã€‚</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">import</span> math<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">cal</span>(<span class="hljs-params">lis</span>):<br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(lis) == <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> math.fabs(lis[<span class="hljs-number">0</span>] - <span class="hljs-number">24</span>) &lt; <span class="hljs-number">1e-6</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(lis)):<br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(lis)):<br><br>            <span class="hljs-keyword">if</span> i == j:<br>                <span class="hljs-keyword">continue</span><br><br>            a = lis[i]<br>            b = lis[j]<br>            shengyu = []<br>            <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(lis)):<br>                <span class="hljs-keyword">if</span> k != i <span class="hljs-keyword">and</span> k != j:<br>                    shengyu.append(lis[k])<br>            <span class="hljs-keyword">if</span> b == <span class="hljs-number">0</span>:<br>                <span class="hljs-keyword">continue</span><br>            sum1 = a + b<br>            sub = a - b<br>            mul = a * b<br>            div = a / b<br>            left = [sum1, sub, mul, div]<br>            <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> left:<br>                shengyu.append(x)<br>                <span class="hljs-keyword">if</span> cal(shengyu):<br>                    <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>                shengyu.pop()<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br><br><br><br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    lis = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">float</span>, <span class="hljs-built_in">input</span>().split()))<br>    <span class="hljs-keyword">if</span> lis.count(<span class="hljs-number">0</span>) == <span class="hljs-number">4</span>:<br>        <span class="hljs-keyword">break</span><br><br>    <span class="hljs-keyword">if</span> cal(lis):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;YES&quot;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;NO&quot;</span>)<br></code></pre></td></tr></table></figure><h1 id="æ±‚æ’åˆ—çš„é€†åºæ•°"><a href="#æ±‚æ’åˆ—çš„é€†åºæ•°" class="headerlink" title="æ±‚æ’åˆ—çš„é€†åºæ•°"></a><a href="http://www.xmuoj.com/problem/GW108">æ±‚æ’åˆ—çš„é€†åºæ•°</a></h1><p>åˆ†æ²» é€’å½’</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs stata"><span class="hljs-string">&quot;&quot;</span>&quot;<br>é¦–å…ˆåˆ†æ²»çš„æ€è·¯åˆ†åˆ«æ¥æ±‚é€†åºæ•°ï¼Œåªåœ¨å·¦åŠè¾¹çš„ï¼Œåªåœ¨å³åŠè¾¹çš„å’Œè·¨ä¸¤è¾¹çš„ã€‚åˆ©ç”¨å½’å¹¶æ’åºçš„æ¨¡æ¿ï¼Œå½“å·¦è¾¹<br>çš„æ•°å¤§äºå³è¾¹çš„æ—¶å€™ï¼Œå°±æ˜¯é€†åºæ•°ï¼Œç”±äºå½’å¹¶æ’åºå·²ç»æ’å¥½äº†æ•°ï¼Œæ‰€ä»¥é€†åºæ•°çš„ä¸ªæ•°ä¸º mid - i + 1ï¼Œ<br>ï¼ˆmidå³è¾¹çš„æ¯”iå°ï¼‰<br><span class="hljs-string">&quot;&quot;</span>&quot;<br><span class="hljs-keyword">n</span> = int(<span class="hljs-keyword">input</span>())<br>temp = [0 <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-keyword">range</span>(<span class="hljs-keyword">n</span>)]<br><span class="hljs-keyword">lis</span> = <span class="hljs-keyword">list</span>(map(int, <span class="hljs-keyword">input</span>().<span class="hljs-keyword">split</span>()))<br><span class="hljs-keyword">ret</span> = 0<br><br>def <span class="hljs-keyword">merge</span>(<span class="hljs-keyword">l</span>, r):<br>    <span class="hljs-keyword">global</span> <span class="hljs-keyword">ret</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">l</span> &gt;= r:<br>        <span class="hljs-keyword">return</span><br>    mid = (<span class="hljs-keyword">l</span> + r) &gt;&gt; 1<br>    <span class="hljs-keyword">merge</span>(<span class="hljs-keyword">l</span>, mid)<br>    <span class="hljs-keyword">merge</span>(mid + 1, r)<br>    i, j, k = <span class="hljs-keyword">l</span>, mid + 1, 0<br>    <span class="hljs-keyword">while</span> i &lt;= mid and j &lt;= r:<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">lis</span>[i] &lt;= <span class="hljs-keyword">lis</span>[j]:<br>            temp[k] = <span class="hljs-keyword">lis</span>[i]<br>            i += 1<br>            k += 1<br>        <span class="hljs-keyword">else</span>:<br>            temp[k] = <span class="hljs-keyword">lis</span>[j]<br>            j += 1<br>            k += 1<br>            <span class="hljs-keyword">ret</span> += mid - i + 1<br>    <span class="hljs-keyword">while</span> i &lt;= mid:<br>        temp[k] = <span class="hljs-keyword">lis</span>[i]<br>        i += 1<br>        k += 1<br>    <span class="hljs-keyword">while</span> j &lt;= r:<br>        temp[k] = <span class="hljs-keyword">lis</span>[j]<br>        j += 1<br>        k += 1<br><br>    j = 0<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-keyword">range</span>(<span class="hljs-keyword">l</span>, r + 1):<br>        <span class="hljs-keyword">lis</span>[i] = temp[j]<br>        j += 1<br><br><span class="hljs-keyword">merge</span>(0, <span class="hljs-keyword">n</span> - 1)<br><span class="hljs-keyword">print</span>(<span class="hljs-keyword">ret</span>)<br></code></pre></td></tr></table></figure><h1 id="æµ·æ‹‰é²åŸå ¡é—®é¢˜"><a href="#æµ·æ‹‰é²åŸå ¡é—®é¢˜" class="headerlink" title="æµ·æ‹‰é²åŸå ¡é—®é¢˜"></a><a href="http://www.xmuoj.com/problem/GW090">æµ·æ‹‰é²åŸå ¡é—®é¢˜</a></h1><p>æ·±æœ ä½è¿ç®—</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-string">&quot;&quot;&quot;å› ä¸ºéœ€è¦æ‰¾åˆ°æ‰€æœ‰æˆ¿é—´ä¸­æœ€å¤§çš„ï¼Œè€Œä¸€æ¬¡æœç´¢åªèƒ½æ‰¾ä¸€ä¸ªæˆ¿é—´çš„é¢ç§¯ï¼Œå¯ä»¥éå†å¯»æ‰¾æœªæœç´¢è¿‡çš„æˆ¿é—´ã€‚</span><br><span class="hljs-string">æ·±æœå’Œå¹¿æœé€‰å“ªä¸ªï¼Œä¸€çœ‹æ˜¯æ‰¾é¢ç§¯æœ€å¤§çš„æœ¬æ¥æƒ³ç”¨å¹¿æœä½†æ˜¯åˆ¤æ–­æ¡ä»¶å†™å‡ºæ¥å¯èƒ½ä¼šæ¯”æ·±æœéº»çƒ¦å¾ˆå¤šï¼Œæ‰€ä»¥è¿˜æ˜¯ç”¨æ·±æœã€‚</span><br><span class="hljs-string">æ¯æ¬¡æœç´¢ä¹‹å‰ï¼Œä½è¿ç®—åˆ¤æ–­è¯¥ä½æ˜¯å¦å¯ä»¥èµ°</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">import</span> sys<br>sys.setrecursionlimit(<span class="hljs-number">5000</span>)<br>N = <span class="hljs-number">100</span><br>row = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>())<br>col = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>())<br>lis = [[<span class="hljs-number">0</span>] * N <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(N)]<br>color = [[<span class="hljs-number">0</span>] * N <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(N)]<br>maxArea = <span class="hljs-number">0</span><br>maxRoom = <span class="hljs-number">0</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">mask1</span>(<span class="hljs-params">x</span>):<br>    <span class="hljs-keyword">return</span> (x &amp; <span class="hljs-number">1</span>) == <span class="hljs-number">0</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">mask2</span>(<span class="hljs-params">x</span>):<br>    <span class="hljs-keyword">return</span> (x &amp; <span class="hljs-number">2</span>) == <span class="hljs-number">0</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">mask3</span>(<span class="hljs-params">x</span>):<br>    <span class="hljs-keyword">return</span> (x &amp; <span class="hljs-number">4</span>) == <span class="hljs-number">0</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">mask4</span>(<span class="hljs-params">x</span>):<br>    <span class="hljs-keyword">return</span> (x &amp; <span class="hljs-number">8</span>) == <span class="hljs-number">0</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">dfs</span>(<span class="hljs-params">a, b</span>):<br>    <span class="hljs-keyword">global</span> maxArea, maxRoom<br>    <span class="hljs-keyword">if</span> color[a][b] != <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">return</span><br>    maxArea += <span class="hljs-number">1</span><br>    color[a][b] = maxRoom<br>    <span class="hljs-keyword">if</span> mask1(lis[a][b]):<br>        dfs(a, b - <span class="hljs-number">1</span>)<br>    <span class="hljs-keyword">if</span> mask2(lis[a][b]):<br>        dfs(a - <span class="hljs-number">1</span>, b)<br>    <span class="hljs-keyword">if</span> mask3(lis[a][b]):<br>        dfs(a, b + <span class="hljs-number">1</span>)<br>    <span class="hljs-keyword">if</span> mask4(lis[a][b]):<br>        dfs(a + <span class="hljs-number">1</span>, b)<br><br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(row):<br>    a = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split()))<br>    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(col):<br>        lis[i][j+<span class="hljs-number">1</span>] = a[j]<br><br>retArea = <span class="hljs-number">0</span><br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,row+<span class="hljs-number">1</span>):<br>    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,col+<span class="hljs-number">1</span>):<br>        <span class="hljs-keyword">if</span> color[i][j] == <span class="hljs-number">0</span>:<br>            maxArea = <span class="hljs-number">0</span><br>            maxRoom += <span class="hljs-number">1</span><br>            dfs(i, j)<br>            retArea = <span class="hljs-built_in">max</span>(retArea, maxArea)<br><br><span class="hljs-built_in">print</span>(maxRoom)<br><span class="hljs-built_in">print</span>(retArea)<br></code></pre></td></tr></table></figure><h1 id="è‹±æ°ä»¬çš„è›‹ç³•å¡”"><a href="#è‹±æ°ä»¬çš„è›‹ç³•å¡”" class="headerlink" title="è‹±æ°ä»¬çš„è›‹ç³•å¡”"></a><a href="http://www.xmuoj.com/problem/GW092">è‹±æ°ä»¬çš„è›‹ç³•å¡”</a></h1><p>æ·±æœ </p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">#<span class="hljs-keyword">include</span> &lt;bits/stdc++.h&gt;<br>using namespace std;<br><span class="hljs-comment">//å®å®šä¹‰ç®€åŒ–</span><br>#define <span class="hljs-constructor">ButtonArea(<span class="hljs-params">r</span>)</span> (r*r)<br>#define sur<span class="hljs-constructor">Area(<span class="hljs-params">r</span>,<span class="hljs-params">h</span>)</span> (<span class="hljs-number">2</span>*r*h)<br>#define <span class="hljs-constructor">Volume(<span class="hljs-params">r</span>,<span class="hljs-params">h</span>)</span> ((r)*(r)*(h))<br>#define <span class="hljs-constructor">V2surArea(<span class="hljs-params">r</span>,<span class="hljs-params">v</span>)</span> (<span class="hljs-number">2</span>*v/(r))<br>#define INF <span class="hljs-number">0x7fffffff</span> <br><span class="hljs-built_in">int</span> N, V, minsurArea = INF;<br><span class="hljs-built_in">int</span> sumMinS<span class="hljs-literal">[<span class="hljs-number">27</span>]</span>, sumMinV<span class="hljs-literal">[<span class="hljs-number">27</span>]</span>;<br><br><span class="hljs-comment">// æœç´¢çš„ä¸»ä½“æ˜¯ æšä¸¾æ¯ä¸€å±‚çš„R H å¯»æ‰¾ä½“ç§¯ç¬¦åˆæ—¶ æœ€å°çš„è¡¨é¢ç§¯</span><br>void dfs(<span class="hljs-built_in">int</span> u,<span class="hljs-built_in">int</span> nr,<span class="hljs-built_in">int</span> nh,<span class="hljs-built_in">int</span> lv,<span class="hljs-built_in">int</span> cs)<br>&#123;<br><span class="hljs-keyword">if</span> (u<span class="hljs-operator"> == </span><span class="hljs-number">0</span>)<br>&#123;<br><span class="hljs-keyword">if</span> (lv<span class="hljs-operator"> == </span><span class="hljs-number">0</span><span class="hljs-operator"> &amp;&amp; </span>cs &lt; minsurArea)minsurArea = cs;<br>return;<br>&#125;<br><span class="hljs-comment">// å‰ªææ“ä½œ 1.å½“å‰å‰©ä½™çš„ä½“ç§¯å°äºä¸Šé¢ç´¯åŠ èµ·æ¥æœ€å°çš„ä½“ç§¯ è¯´æ˜å·²ç»ä¸ç¬¦åˆ </span><br><span class="hljs-comment">// 2.å½“å‰è¡¨é¢ç§¯åŠ ä¸Šä¸Šé¢çš„æœ€å°è¡¨é¢ç§¯ å¤§äºminsurArea ä¸ç¬¦åˆ</span><br><span class="hljs-comment">// 3.å¯å‘å¼å‰ªæ æå‰çœ‹åˆ°ä¸‹ä¸€æ­¥çš„ç»“æœ å½“nræ²¡åˆ°æœ€åä¸€å±‚ å¹¶ä¸” ä¸Šä¸€å±‚çš„è¡¨é¢ç§¯åŠ ä¸Šå½“å‰ç´¯åŠ çš„é¢ç§¯å·²ç»å¤§äºminsurArea ä¸ç¬¦åˆ</span><br><span class="hljs-keyword">if</span> (lv &lt; sumMinV<span class="hljs-literal">[<span class="hljs-identifier">u</span>]</span>)return;<br><span class="hljs-keyword">if</span> (cs + sumMinS<span class="hljs-literal">[<span class="hljs-identifier">u</span>]</span> &gt;= minsurArea)return;<br><span class="hljs-keyword">if</span> (nr &gt; <span class="hljs-number">1</span><span class="hljs-operator"> &amp;&amp; </span><span class="hljs-constructor">V2surArea(<span class="hljs-params">nr</span> - 1, <span class="hljs-params">lv</span>)</span> + cs &gt;= minsurArea)return;<br><br><span class="hljs-comment">//ä»æœ€å¤§å±‚ ï¼ˆræœ€å¤§ï¼‰ åˆ°æœ€å°</span><br><span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> r = nr - <span class="hljs-number">1</span>; r &gt;= u; r--)<br>&#123;<br><span class="hljs-comment">// å½“åˆ°è¾¾æœ€é«˜å±‚çš„æ—¶å€™ è®©è¿™ä¸€å±‚çš„é¢ç§¯ç­‰äº åº•é¢ç§¯ï¼ˆåé¢æ˜¯åŠ ä¸Šè¡¨é¢ç§¯ æ˜¯æ¯ä¸ªéƒ½æœ‰çš„æ“ä½œ </span><br><span class="hljs-keyword">if</span> (u<span class="hljs-operator"> == </span>N)cs = <span class="hljs-constructor">ButtonArea(<span class="hljs-params">r</span>)</span>;<br><span class="hljs-comment">// é¢„å¤„ç†å‡ºæœ€å¤§é«˜åº¦çš„æœ€å°å€¼ ï¼ˆå¦‚æœæŠŠå½“å‰å‰©ä½™çš„ä½“ç§¯ å…¨éƒ¨åšæˆä¸€å±‚ é™¤ä»¥å½“å‰çš„è¡¨é¢ç§¯ å°±æ˜¯æœ€å¤§é«˜åº¦</span><br><span class="hljs-built_in">int</span> H_max = (<span class="hljs-number">1.0</span><span class="hljs-operator"> * </span>lv<span class="hljs-operator"> / </span><span class="hljs-constructor">ButtonArea(<span class="hljs-params">r</span>)</span>) + <span class="hljs-number">1</span>;<br><span class="hljs-keyword">if</span> (H_max &gt; nh - <span class="hljs-number">1</span>)H_max = nh - <span class="hljs-number">1</span>;<br><span class="hljs-comment">// æšä¸¾h</span><br><span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> h = H_max; h &gt;= u; h--)<br>&#123;<br><span class="hljs-built_in">int</span> s = sur<span class="hljs-constructor">Area(<span class="hljs-params">r</span>, <span class="hljs-params">h</span>)</span>;<br><span class="hljs-built_in">int</span> v = <span class="hljs-constructor">Volume(<span class="hljs-params">r</span>, <span class="hljs-params">h</span>)</span>;<br>dfs(u - <span class="hljs-number">1</span>, r, h, lv - v, cs + s);<br>&#125;<br>&#125;<br>&#125;<br><br><span class="hljs-built_in">int</span> main<span class="hljs-literal">()</span><br>&#123;<br>cin &gt;&gt; V &gt;&gt; N;<br><br><span class="hljs-comment">//é¢„å¤„ç†å‡º ç´¯åŠ åˆ°æ¯ä¸€å±‚çš„æœ€å°çš„é¢ç§¯å’Œä½“ç§¯ ç”¨äºåé¢çš„å‰ªæ</span><br>sumMinS<span class="hljs-literal">[<span class="hljs-number">0</span>]</span> = sumMinV<span class="hljs-literal">[<span class="hljs-number">0</span>]</span> = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">1</span>; i &lt;= N; i++)<br>&#123;<br>sumMinS<span class="hljs-literal">[<span class="hljs-identifier">i</span>]</span> = sumMinS<span class="hljs-literal">[<span class="hljs-identifier">i</span> - <span class="hljs-number">1</span>]</span> + sur<span class="hljs-constructor">Area(<span class="hljs-params">i</span>, <span class="hljs-params">i</span>)</span>;<br>sumMinV<span class="hljs-literal">[<span class="hljs-identifier">i</span>]</span> = sumMinV<span class="hljs-literal">[<span class="hljs-identifier">i</span> - <span class="hljs-number">1</span>]</span> + <span class="hljs-constructor">Volume(<span class="hljs-params">i</span>, <span class="hljs-params">i</span>)</span>;<br>&#125;<br><span class="hljs-comment">//é¢„å¤„ç†å‡º æœ€ä¸‹é¢ä¸€å±‚çš„ R Hçš„ä¸Šç•Œ å‡å°‘è®¡ç®—</span><br><span class="hljs-built_in">int</span> maxH = (V - sumMinV<span class="hljs-literal">[N - <span class="hljs-number">1</span>]</span>)<span class="hljs-operator"> / </span><span class="hljs-constructor">ButtonArea(N)</span> + <span class="hljs-number">1</span>;<br><span class="hljs-built_in">int</span> maxR = sqrt(double((V - sumMinV<span class="hljs-literal">[N - <span class="hljs-number">1</span>]</span>) + <span class="hljs-number">1</span>));<br><br>dfs(N, maxR, maxH, V, <span class="hljs-number">0</span>);<span class="hljs-comment">//ä»æœ€å¤§çš„è›‹ç³•å¾€ä¸Šæœç´¢</span><br><span class="hljs-keyword">if</span> (minsurArea<span class="hljs-operator"> == </span>INF)<br>cout &lt;&lt; <span class="hljs-number">0</span> &lt;&lt; endl;<br><span class="hljs-keyword">else</span> cout &lt;&lt; minsurArea &lt;&lt; endl;<br>&#125;<br><br></code></pre></td></tr></table></figure><h1 id="å‡»æ€é»„é‡‘è›‹ç³•äººé©¬"><a href="#å‡»æ€é»„é‡‘è›‹ç³•äººé©¬" class="headerlink" title="å‡»æ€é»„é‡‘è›‹ç³•äººé©¬"></a><a href="http://www.xmuoj.com/problem/NQ090">å‡»æ€é»„é‡‘è›‹ç³•äººé©¬</a></h1><p>è®°å¿†åŒ–æœç´¢ åŠ¨æ€è§„åˆ’   </p><p>åœ¨æµ·æ‹‰é²å¤§é™†å†’é™©ï¼Œæ²¡æœ‰ç»ä½³çš„å‰‘æ³•+æƒ³è±¡åŠ›æ˜¯ä¸å¯èƒ½å­˜æ´»ä¸‹æ¥çš„ã€‚<br>è¿™ä¸ï¼Œæ—å…‹é‡åˆ°äº†ä¸€ä¸ªç‰¹åˆ«å·¨å¤§çš„æ•Œäººâ€”â€”é»„é‡‘è›‹ç³•äººé©¬ï¼ˆè±å°¼å°”çš„å˜ç§ï¼‰<br>è¿™é»„é‡‘è›‹ç³•äººé©¬é•¿ç›¸éå¸¸ç‰¹åˆ«ï¼Œæ²¡æœ‰è„šæ²¡æœ‰æ‰‹æ²¡æœ‰å˜´å·´æ²¡æœ‰å¤´ï¼Œæ•´ä¸ªèº«æå°±æ˜¯ä¸€ä¸ªå¤§çŸ©å½¢ï¼ˆå–‚å–‚ï¼Œè¿™ä¸å°±æ˜¯é»„é‡‘è±å°¼å°”å—ï¼Ÿï¼‰<br>å®ƒçš„é•¿å’Œå®½åˆ†åˆ«æ˜¯æ•´æ•°wã€hã€‚<br>æ—å…‹ä¸¾èµ·å¤§å¸ˆä¹‹å‰‘ï¼ŒæŒ¥å‘é»„é‡‘è›‹ç³•äººé©¬ï¼Œè¦å°†å…¶åˆ‡æˆmå—çŸ©å½¢å°å—æ‰“åŒ…èµ°ï¼Œåˆ†ç»™è‡ªå·±çš„æœ‹å‹ï¼ˆæ¯å—éƒ½å¿…é¡»æ˜¯çŸ©å½¢ã€ä¸”é•¿å’Œå®½å‡ä¸ºæ•´æ•°ï¼‰ã€‚<br>å¤§å¸ˆä¹‹å‰‘æ— æ¯”é”åˆ©ï¼Œæ¯ä¸€æ–©å¸¦å‡ºçš„å‰‘æ°”èƒ½å°†é»„é‡‘è›‹ç³•äººé©¬åŠˆæˆä¸¤åŠï¼ˆå½¢æˆä¸¤ä¸ªå°çŸ©å½¢è›‹ç³•ï¼‰<br>ç»è¿‡m-1æ–©ï¼Œé»„é‡‘è›‹ç³•äººé©¬å±…ç„¶è¢«åŠˆæˆmå—å°è›‹ç³•ï¼ˆå–‚å–‚ï¼Œä½ çš„æƒ³è±¡åŠ›ä¹Ÿå¤ªä¸°å¯Œäº†ï¼Œæ˜æ˜åˆ‡ä¸å¼€å¥½å—ï¼Ÿï¼‰<br>è¯·è®¡ç®—ï¼šæœ€åå¾—åˆ°çš„må—å°è›‹ç³•ä¸­ï¼Œæœ€å¤§çš„é‚£å—è›‹ç³•çš„é¢ç§¯ä¸‹é™ã€‚<br>å‡è®¾w&#x3D; 4,h&#x3D; 4,m&#x3D; 4ï¼Œåˆ™ä¸‹é¢çš„æ–©å‡»å¯ä½¿å¾—å…¶ä¸­æœ€å¤§è›‹ç³•å—çš„é¢ç§¯æœ€å°ã€‚(åå­—æ–©)<br>å‡è®¾w&#x3D; 4,h&#x3D; 4,m&#x3D; 3ï¼Œåˆ™ä¸‹é¢çš„æ–©å‡»å¯ä½¿å¾—å…¶ä¸­æœ€å¤§è›‹ç³•å—çš„é¢ç§¯æœ€å°:.(äºŒè¿æ–©)</p><ul><li>è¾“å…¥</li></ul><p>å…±æœ‰å¤šè¡Œï¼Œæ¯è¡Œè¡¨ç¤ºä¸€ä¸ªæµ‹è¯•æ¡ˆä¾‹ã€‚<br>æ¯è¡Œæ˜¯ä¸‰ä¸ªç”¨ç©ºæ ¼åˆ†å¼€çš„æ•´æ•°w, h, m ï¼Œå…¶ä¸­1 â‰¤ w, h, m â‰¤ 20 ï¼Œ m â‰¤ wh.<br>å½“ w &#x3D; h &#x3D; m &#x3D; 0 æ—¶ä¸éœ€è¦å¤„ç†ï¼Œè¡¨ç¤ºè¾“å…¥ç»“æŸã€‚</p><ul><li>è¾“å‡º</li></ul><p>æ¯ä¸ªæµ‹è¯•æ¡ˆä¾‹çš„ç»“æœå ä¸€è¡Œï¼Œè¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§è›‹ç³•å—çš„é¢ç§¯ä¸‹é™ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">/*</span><br><span class="hljs-comment">* è®°å¿†åŒ–æœç´¢ å‚¨å­˜å·²ç»æœè¿‡çš„å€¼ ä¸‹æ¬¡éœ€è¦æ—¶ç›´æ¥è¿”å› å‚¨å­˜çš„ä¸€èˆ¬ä¸ºæœç´¢çš„å€¼ dfsè¿”å›å€¼ä¸€èˆ¬å®šä¹‰ä¸ºintï¼ˆä¸ä¸ºvoidï¼‰</span><br><span class="hljs-comment">* </span><br><span class="hljs-comment">* åŸæ¥çš„æ–¹æ³•ä¸»è¦æ˜¯åˆ†æˆå·¦å³ä¸¤è¾¹çš„æ—¶å€™ä¸å¥½è¡¨ç¤º </span><br><span class="hljs-comment">* è¯¥æ–¹æ³•dfsä¼ å…¥çš„æ˜¯å½“å‰çš„æ–¹å—çš„é•¿å’Œå®½ åˆ†ä¸ºå·¦å³ä¸¤è¾¹ï¼ˆåˆ†æ²»ï¼‰æšä¸¾å·¦å³è¾¹åˆ‡çš„ä½ç½® å’Œå·¦å³è¾¹åˆ†åˆ«åˆ‡çš„åˆ€æ•°</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">int</span> w, h, m;<br><span class="hljs-type">int</span> maxCake[<span class="hljs-number">30</span>][<span class="hljs-number">30</span>][<span class="hljs-number">500</span>];<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> inf = <span class="hljs-number">0x3fffffff</span>;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> w, <span class="hljs-type">int</span> h, <span class="hljs-type">int</span> m)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">// å½“mä¸º0çš„æ—¶å€™è¿”å›å½“å‰çš„é¢ç§¯</span><br><span class="hljs-keyword">if</span> (m == <span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> w * h;<br><span class="hljs-comment">// è®°å¿†åŒ–æœç´¢</span><br><span class="hljs-keyword">if</span> (maxCake[w][h][m])<span class="hljs-keyword">return</span> maxCake[w][h][m];<br><br><span class="hljs-type">int</span> a, b, ans = inf;<br><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i++)<br>&#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt; w; j++) <br>&#123;<br>a = <span class="hljs-built_in">dfs</span>(j, h, i);<span class="hljs-comment">// åˆ‡m åˆ€çš„è›‹ç³•æ˜¯ç”±åˆ‡iåˆ€å’Œm - i - 1åˆ€ç»„æˆçš„   w - i æœ€åä¼šåè½¬ å¯ä»¥å˜é‡æ‰€æœ‰æƒ…å†µ</span><br>b = <span class="hljs-built_in">dfs</span>(w - j, h, m - <span class="hljs-number">1</span> - i);<br><span class="hljs-keyword">if</span> (ans &gt; <span class="hljs-built_in">max</span>(a, b))ans = <span class="hljs-built_in">max</span>(a, b);<span class="hljs-comment">// å¾—åˆ°æœ€å¤§çš„è›‹ç³• å–æœ€å°</span><br>&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt; h; j++)<br>&#123;<br>a = <span class="hljs-built_in">dfs</span>(w, j, i);<br>b = <span class="hljs-built_in">dfs</span>(w, h - j, m - <span class="hljs-number">1</span> - i);<br><span class="hljs-keyword">if</span> (ans &gt; <span class="hljs-built_in">max</span>(a, b))ans = <span class="hljs-built_in">max</span>(a, b);<br>&#125;<br>&#125;<br>maxCake[w][h][m] = ans;<br><span class="hljs-keyword">return</span> ans;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">while</span> (cin &gt;&gt; w &gt;&gt; h &gt;&gt; m)<br>&#123;<br><span class="hljs-keyword">if</span> (w == h &amp;&amp; h == m &amp;&amp; m == <span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br><br>cout &lt;&lt; <span class="hljs-built_in">dfs</span>(w, h, m - <span class="hljs-number">1</span>) &lt;&lt; endl;<br><span class="hljs-built_in">memset</span>(maxCake, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> maxCake);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="æ»šçŸ³æŸ±"><a href="#æ»šçŸ³æŸ±" class="headerlink" title="æ»šçŸ³æŸ±"></a><a href="http://www.xmuoj.com/problem/XMU023">æ»šçŸ³æŸ±</a></h1><p>å¹¿æœ ç»“æ„ä½“</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><code class="hljs arduino">å¹¿æœåŠ ä¸Šç»“æ„ä½“è¡¨ç¤ºç‰©ä½“çš„çŠ¶æ€ï¼Œä¸»è¦éš¾ç‚¹å°±åœ¨äºçŠ¶æ€çš„è¡¨ç¤ºã€‚ç”¨ç»“æ„ä½“è¡¨ç¤ºç‰©ä½“çš„çŠ¶æ€ï¼Œæ›´æ–°çŠ¶<br>æ€æ—¶ï¼Œç”¨ä¸‰ç»´æ•°ç»„ï¼Œå¢åŠ çš„ä¸€ç»´ç”¨æ¥è¡¨ç¤º<span class="hljs-number">0</span>ç«‹ç€æ¨ªç€ç«–ç€<br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">State</span><br>&#123;<br><span class="hljs-type">int</span> x, y, lie;<br>&#125;;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">510</span>;<br><span class="hljs-type">char</span> g[N][N];<br><span class="hljs-type">int</span> d[N][N][<span class="hljs-number">3</span>];<br><span class="hljs-type">int</span> row, col;<br><br><span class="hljs-type">int</span> dir[<span class="hljs-number">3</span>][<span class="hljs-number">4</span>][<span class="hljs-number">3</span>] =<br>&#123;<br>&#123;&#123;<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">2</span>&#125;,&#123;<span class="hljs-number">-2</span>,<span class="hljs-number">0</span>,<span class="hljs-number">2</span>&#125;,&#123;<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>&#125;,&#123;<span class="hljs-number">0</span>,<span class="hljs-number">-2</span>,<span class="hljs-number">1</span>&#125;&#125;,<span class="hljs-comment">//0 ç«‹ç€</span><br>&#123;&#123;<span class="hljs-number">-1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>&#125;,&#123;<span class="hljs-number">0</span>,<span class="hljs-number">2</span>,<span class="hljs-number">0</span>&#125;,&#123;<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>&#125;,&#123;<span class="hljs-number">0</span>,<span class="hljs-number">-1</span>,<span class="hljs-number">0</span>&#125;&#125;,<span class="hljs-comment">//1 æ¨ªç€</span><br>&#123;&#123;<span class="hljs-number">-1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>&#125;,&#123;<span class="hljs-number">2</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>&#125;,&#123;<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>&#125;,&#123;<span class="hljs-number">0</span>,<span class="hljs-number">-1</span>,<span class="hljs-number">2</span>&#125;&#125;<span class="hljs-comment">//2 ç«–ç€</span><br>&#125;;<br><br><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">check</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">if</span> (x &gt;= row || y &gt;= col || x &lt; <span class="hljs-number">0</span> || y &lt; <span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">return</span> g[x][y] != <span class="hljs-string">&#x27;#&#x27;</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">bfs</span><span class="hljs-params">(State start, State end)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-built_in">memset</span>(d, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> d);<br>d[start.x][start.y][start.lie] = <span class="hljs-number">0</span>;<br>queue&lt;State&gt;q;<br>q.<span class="hljs-built_in">push</span>(start);<br><br><span class="hljs-keyword">while</span> (!q.<span class="hljs-built_in">empty</span>())<br>&#123;<br>State t = q.<span class="hljs-built_in">front</span>();<br>q.<span class="hljs-built_in">pop</span>();<br><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i++)<br>&#123;<br>State next = &#123; t.x + dir[t.lie][i][<span class="hljs-number">0</span>],t.y + dir[t.lie][i][<span class="hljs-number">1</span>],dir[t.lie][i][<span class="hljs-number">2</span>] &#125;;<br><span class="hljs-type">int</span> x = next.x, y = next.y;<br><span class="hljs-keyword">if</span> (!<span class="hljs-built_in">check</span>(x, y))<span class="hljs-keyword">continue</span>;<br><span class="hljs-keyword">if</span> (next.lie == <span class="hljs-number">0</span> &amp;&amp; g[x][y] == <span class="hljs-string">&#x27;E&#x27;</span>)<span class="hljs-keyword">continue</span>;<br><span class="hljs-keyword">if</span> (next.lie == <span class="hljs-number">1</span> &amp;&amp; !<span class="hljs-built_in">check</span>(x, y + <span class="hljs-number">1</span>))<span class="hljs-keyword">continue</span>;<br><span class="hljs-keyword">if</span> (next.lie == <span class="hljs-number">2</span> &amp;&amp; !<span class="hljs-built_in">check</span>(x + <span class="hljs-number">1</span>, y))<span class="hljs-keyword">continue</span>;<br><span class="hljs-keyword">if</span> (d[x][y][next.lie] == <span class="hljs-number">-1</span>)<br>&#123;<br>d[x][y][next.lie] = d[t.x][t.y][t.lie] + <span class="hljs-number">1</span>;<br>q.<span class="hljs-built_in">push</span>(next);<br>&#125;<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> d[end.x][end.y][end.lie];<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">while</span> (cin &gt;&gt; row &gt;&gt; col, row || col)<br>&#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; row; i++)<br>cin &gt;&gt; g[i];<br><br>State start = &#123; <span class="hljs-number">-1</span> &#125;, end;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; row; i++)<br>&#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; col; j++)<br>&#123;<br><span class="hljs-keyword">if</span> (g[i][j] == <span class="hljs-string">&#x27;X&#x27;</span> &amp;&amp; start.x == <span class="hljs-number">-1</span>)<br>&#123;<br><span class="hljs-keyword">if</span> (g[i + <span class="hljs-number">1</span>][j] == <span class="hljs-string">&#x27;X&#x27;</span>)start = &#123; i,j,<span class="hljs-number">2</span> &#125;;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (g[i][j + <span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;X&#x27;</span>)start = &#123; i,j,<span class="hljs-number">1</span> &#125;;<br><span class="hljs-keyword">else</span> start = &#123; i,j,<span class="hljs-number">0</span> &#125;;<br>&#125;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (g[i][j] == <span class="hljs-string">&#x27;O&#x27;</span>)<br>&#123;<br>end = &#123; i,j,<span class="hljs-number">0</span> &#125;;<br>&#125;<br>&#125;<br>&#125;<br><br><span class="hljs-type">int</span> res = <span class="hljs-built_in">bfs</span>(start, end);<br><span class="hljs-keyword">if</span> (res == <span class="hljs-number">-1</span>)<span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Impossible&quot;</span>);<br><span class="hljs-keyword">else</span> cout &lt;&lt; res &lt;&lt; endl;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Ans</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>pythoné€Ÿæˆç¬”è®°</title>
    <link href="/2023/07/22/python%E9%80%9F%E6%88%90%E7%AC%94%E8%AE%B0/"/>
    <url>/2023/07/22/python%E9%80%9F%E6%88%90%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="pythoné€Ÿæˆçš„ä¸€äº›å­¦ä¹ ç¬”è®°"><a href="#pythoné€Ÿæˆçš„ä¸€äº›å­¦ä¹ ç¬”è®°" class="headerlink" title="pythoné€Ÿæˆçš„ä¸€äº›å­¦ä¹ ç¬”è®°"></a>pythoné€Ÿæˆçš„ä¸€äº›å­¦ä¹ ç¬”è®°</h1><p>ä»€ä¹ˆï¼Ÿï¼ä½ è¯´pythoné€Ÿæˆï¼Ÿ-&gt;[<a href="https://oi.wiki/lang/python/">Python é€Ÿæˆ - OI Wiki</a>]</p><ul><li><p>powå‡½æ•°å¯ä»¥å®ç°å¿«é€Ÿå¹‚</p></li><li><p>å¯¹Unicodeçš„å­—ç¬¦ä½¿ç”¨å‡½æ•°ordå¯ä»¥å°†å…¶è½¬æ¢æˆå¯¹åº”çš„Unicodeç¼–ç  é€†å‘è½¬æ¢ä½¿ç”¨chr</p></li><li><p>å­—ç¬¦ä¸²å±…ç„¶ä¹Ÿå¯ä»¥ç”¨åŠ å’Œä¹˜çš„è¿ç®— ä½†æ˜¯å¥½åƒä¸èƒ½ç”¨å‡ï¼Ÿ </p></li><li><p>å­—ç¬¦ä¸²å’Œåˆ—è¡¨éƒ½æœ‰æ–¹ä¾¿çš„å­ä¸²&#x2F;å…ƒç´ æ£€æµ‹ in å¦‚ a in str</p></li><li><p>å­—ç¬¦ä¸²ä¸åˆ—è¡¨çš„è½¬æ¢</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">num = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">range</span>(<span class="hljs-number">65</span>,<span class="hljs-number">70</span>))            <br>lis = [<span class="hljs-built_in">chr</span>(x) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> num]           <br><span class="hljs-built_in">print</span>(lis)                  <br>s = <span class="hljs-string">&#x27;&#x27;</span>.join(lis)                    <br><span class="hljs-built_in">print</span>(s)            <br></code></pre></td></tr></table></figure></li><li><p>äºŒç»´[æ•°ç»„]</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">via = [[<span class="hljs-number">0</span>]*<span class="hljs-number">3</span> <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>)]                    <br><span class="hljs-built_in">print</span>(via)              <br>via[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>               <br><span class="hljs-built_in">print</span>(via)              <br></code></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨NumPyå»ºç«‹å¤šç»´æ•°ç»„å’Œè®¿é—®</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np      <br><br><span class="hljs-comment">#å®¹é‡ä¸º3 æœªåˆå§‹åŒ–       </span><br>lis = np.empty(<span class="hljs-number">3</span>)       <br><span class="hljs-built_in">print</span>(lis)      <br><span class="hljs-comment">#3*3 åˆå§‹åŒ–ä¸º0      </span><br>lis = np.zeros(<span class="hljs-number">3</span>*<span class="hljs-number">3</span>)     <br><span class="hljs-built_in">print</span>(lis)      <br><span class="hljs-comment">#æ•´æ•°æ•°ç»„       </span><br>lis = np.zeros(<span class="hljs-number">3</span>*<span class="hljs-number">3</span>, dtype=<span class="hljs-built_in">int</span>)      <br><span class="hljs-built_in">print</span>(lis.shape)        <br><span class="hljs-comment">#è·å–æ•°ç»„æœ€å¤§å€¼         </span><br>np.<span class="hljs-built_in">max</span>(lis)     <br><span class="hljs-comment">#å±•å¹³       </span><br>lis.flatten()       <br><span class="hljs-comment">#å¯¹æ¯è¡Œæ’åº è¿”å›æ’åºç»“æœ</span><br>np.sort(lis, axis=<span class="hljs-number">1</span>)<br><span class="hljs-comment">#è¡Œæ–¹å‘åŸåœ°æ’åº</span><br>lis.sort(axis=<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure></li><li><p>è¾“å…¥è¾“å‡º</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#æµ®ç‚¹æ•°è¾“å‡º</span><br>pi = <span class="hljs-number">3.1415926</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;%.4f&quot;</span> % pi)<br><span class="hljs-string">&quot;%.4f - %8f = %d&quot;</span> % (pi, <span class="hljs-number">0.1416</span>, <span class="hljs-number">3</span>)<br><br><span class="hljs-comment">#è¾“å…¥</span><br>s = <span class="hljs-built_in">input</span>()<br>a = s.split()<br><span class="hljs-built_in">print</span>(a)<br>a = [<span class="hljs-built_in">int</span>(x) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> a]<br><span class="hljs-comment">#æˆ–è€…</span><br>a = [<span class="hljs-built_in">int</span>(x) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">input</span>().split()]<br><span class="hljs-comment">#å›ºå®šè¾“å…¥</span><br>u, v, w = [<span class="hljs-built_in">int</span>(x) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">input</span>().split()]<br></code></pre></td></tr></table></figure></li><li><p>å†…ç½®å®¹å™¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å­—å…¸</span><br>dic = &#123;&#125;<br>dic = &#123;<span class="hljs-string">&quot;key&quot;</span>, <span class="hljs-string">&quot;value&quot;</span>&#125;<br>dic1 = &#123;<span class="hljs-built_in">chr</span>(i): i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">65</span>, <span class="hljs-number">69</span>)&#125;<br><span class="hljs-comment"># ç¿»è½¬</span><br>dic1 = &#123;dic1[k]: k <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> dic1&#125;<br><span class="hljs-built_in">print</span>(dic1)<br><span class="hljs-comment"># è¦å…ˆåˆ¤æ–­æ‰èƒ½æ‰“å°</span><br><span class="hljs-keyword">if</span> <span class="hljs-string">&#x27;b&#x27;</span> <span class="hljs-keyword">in</span> dic1:<br>    <span class="hljs-built_in">print</span>(dic1[<span class="hljs-string">&#x27;b&#x27;</span>])<br><span class="hljs-keyword">else</span>:<br>    dic1[<span class="hljs-string">&#x27;b&#x27;</span>] = <span class="hljs-number">98</span><br></code></pre></td></tr></table></figure></li></ul><h1 id="æ›´æ–°ï¼å­¦äº†ä¸¤ä¸ªæœˆä¹‹åå†çœ‹ä¸€é"><a href="#æ›´æ–°ï¼å­¦äº†ä¸¤ä¸ªæœˆä¹‹åå†çœ‹ä¸€é" class="headerlink" title="æ›´æ–°ï¼å­¦äº†ä¸¤ä¸ªæœˆä¹‹åå†çœ‹ä¸€é"></a>æ›´æ–°ï¼å­¦äº†ä¸¤ä¸ªæœˆä¹‹åå†çœ‹ä¸€é</h1><ul><li><p>format() è¾“å‡ºæµ®ç‚¹æ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python">pi = <span class="hljs-number">3.14159265359</span><br>formatted_pi = <span class="hljs-string">&quot;åœ†å‘¨ç‡çš„è¿‘ä¼¼å€¼æ˜¯ &#123;:.2f&#125;&quot;</span>.<span class="hljs-built_in">format</span>(pi)<br><span class="hljs-built_in">print</span>(formatted_pi)<br>:<span class="hljs-number">.2</span>f æ˜¯ä¸€ä¸ªæ ¼å¼è§„èŒƒï¼Œå®ƒæŒ‡å®šäº†è¦æ˜¾ç¤ºå°æ•°ç‚¹åä¸¤ä½çš„æµ®ç‚¹æ•°<br><br>x = <span class="hljs-number">10</span><br>y = <span class="hljs-number">20</span><br>result = <span class="hljs-string">&quot;x çš„å€¼æ˜¯ &#123;&#125;ï¼Œy çš„å€¼æ˜¯ &#123;&#125;ï¼Œå®ƒä»¬çš„å’Œæ˜¯ &#123;&#125;ã€‚&quot;</span>.<span class="hljs-built_in">format</span>(x, y, x + y)<br><span class="hljs-built_in">print</span>(result)<br><br>name = <span class="hljs-string">&quot;Alice&quot;</span><br>age = <span class="hljs-number">30</span><br>message = <span class="hljs-string">f&quot;æˆ‘çš„åå­—æ˜¯ <span class="hljs-subst">&#123;name&#125;</span>ï¼Œå¹´é¾„æ˜¯ <span class="hljs-subst">&#123;age&#125;</span>ã€‚&quot;</span><br><span class="hljs-built_in">print</span>(message)<br></code></pre></td></tr></table></figure></li><li><p>è¾“å…¥è¾“å‡º</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python">u, v, w = [<span class="hljs-built_in">int</span>(x) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">input</span>().split()]<br><br><span class="hljs-comment"># äºŒç»´æ•°ç»„</span><br>mat = [[<span class="hljs-built_in">int</span>(x) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">input</span>().split()] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(N)]<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>N = <span class="hljs-number">4</span>; mat = [[<span class="hljs-built_in">int</span>(x) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">input</span>().split()] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(N)]<br><span class="hljs-number">1</span> <span class="hljs-number">3</span> <span class="hljs-number">3</span> <br><span class="hljs-number">1</span> <span class="hljs-number">4</span> <span class="hljs-number">1</span> <br><span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> <br><span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">1</span> <br><span class="hljs-meta">&gt;&gt;&gt; </span>mat  <span class="hljs-comment"># å…ˆæŒ‰è¡Œè¯»å…¥äºŒç»´æ•°ç»„</span><br>[[<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">1</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">1</span>]]<br><span class="hljs-meta">&gt;&gt;&gt; </span>u, v, w = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">list</span>, <span class="hljs-built_in">zip</span>(*mat))   <br><span class="hljs-comment"># *å°† mat è§£åŒ…å¾—åˆ°é‡Œå±‚çš„å¤šä¸ªåˆ—è¡¨</span><br><span class="hljs-comment"># zip() å°†å¤šä¸ªåˆ—è¡¨ä¸­å¯¹åº”å…ƒç´ èšåˆæˆå…ƒç»„ï¼Œå¾—åˆ°ä¸€ä¸ªè¿­ä»£å™¨</span><br><span class="hljs-comment">## å†…ç½®å‡½æ•° zip() å¯ä»¥å°†å¤šä¸ªç­‰é•¿åºåˆ—ä¸­çš„å¯¹åº”å…ƒç´ æ‹¼æ¥åœ¨ã€Œå…ƒç»„ã€å†…ï¼Œå¾—åˆ°æ–°åºåˆ—</span><br><span class="hljs-comment"># map(list, iterable) å°†åºåˆ—ä¸­çš„å…ƒç´ ï¼ˆè¿™é‡Œä¸ºå…ƒç»„ï¼‰è½¬æˆåˆ—è¡¨</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(u, v, w)  <span class="hljs-comment"># ç›´æ¥å°† map() å¾—åˆ°çš„è¿­ä»£å™¨æ‹†åŒ…ï¼Œåˆ†åˆ«èµ‹å€¼ç»™ u, v, w</span><br>[<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>] [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>] [<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">1</span>]<br></code></pre></td></tr></table></figure></li><li><p>å†…ç½®å®¹å™¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># dict</span><br>dic = &#123;<span class="hljs-built_in">chr</span>(i): i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">65</span>,<span class="hljs-number">91</span>)&#125;<br>dic = <span class="hljs-built_in">dict</span>(<span class="hljs-built_in">zip</span>([<span class="hljs-built_in">chr</span>(i) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">65</span>,<span class="hljs-number">91</span>)], <span class="hljs-built_in">range</span>(<span class="hljs-number">65</span>, <span class="hljs-number">91</span>)))<br><span class="hljs-comment"># é”®å€¼å¯¹é€†è½¬</span><br>dic = &#123;dic[k]: k <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> dic&#125;<br>dic = &#123;v: k <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> dic.items()&#125;  <span class="hljs-comment"># å’Œä¸Šè¡Œä½œç”¨ç›¸åŒï¼Œdic.items() ä»¥å…ƒç»„å­˜æ”¾å•ä¸ªé”®å€¼å¯¹</span><br>dic = &#123;k: v <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> <span class="hljs-built_in">sorted</span>(dic.items(), key=<span class="hljs-keyword">lambda</span> x:-x[<span class="hljs-number">1</span>])&#125;  <span class="hljs-comment"># å­—å…¸æŒ‰å€¼é€†æ’åºï¼Œç”¨åˆ°äº† lambda è¡¨è¾¾å¼</span><br></code></pre></td></tr></table></figure></li><li><p>è£…é¥°å™¨</p><p>lru_cacheè½¬è®°å¿†åŒ–</p></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>study</tag>
      
      <tag>python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>My first blog</title>
    <link href="/2023/07/22/My-first-blog/"/>
    <url>/2023/07/22/My-first-blog/</url>
    
    <content type="html"><![CDATA[<h1 id="ç¬¬ä¸€ç¯‡åšå®¢"><a href="#ç¬¬ä¸€ç¯‡åšå®¢" class="headerlink" title="ç¬¬ä¸€ç¯‡åšå®¢"></a>ç¬¬ä¸€ç¯‡åšå®¢</h1><p>åšè¿™ä¸ªç½‘ç«™çœŸçš„åšäº†å¥½ä¹…ï¼Œæ•™ç¨‹ç¡®å®å¾ˆè¯¦ç»†äº†ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰äº›åœ°æ–¹é»˜è®¤è¯»è€…å·²ç»ä¼šäº†ï¼ˆæˆ‘ç°åœ¨ç¡®å®ä¼šäº†ï¼‰ã€‚æ„Ÿè°¢tllwtgçš„å¸®åŠ©ï¼Œæ²¡æœ‰tllwtgï¼Œå°±æ²¡æœ‰è¿™ä¸ªç½‘ç«™ï¼Œå‘œå‘œã€‚<br>tllwtgå‘Šè¯‰æˆ‘æ•™ç¨‹ä¹‹åè¿˜å¸®æˆ‘è°ƒäº†ä¸¤æ¬¡ï¼ˆ&#x2F;è·ªè°¢ï¼‰ã€‚</p><p>ä¹‹åè‡ªå·±åšçš„è¿‡ç¨‹ä¸­ä¹Ÿå¥½å¤šæ¬¡æ„Ÿè§‰æ ¹æœ¬æä¸å‡ºæ¥ï¼Œä¸æƒ³æäº†ã€‚ä½†æ˜¯ä½†æ˜¯ï¼Œè¿™ä¸ªå¥½æœ‰æ„æ€ï¼Œæœ€åè¿˜æ˜¯åšå‡ºæ¥äº†ã€‚tllwtgè¿˜è·Ÿæˆ‘è¯´åšä¸¤ä¸‰å¤©æ˜¯å¾ˆæ­£å¸¸çš„ï¼Œæˆ‘çœŸçš„å“­æ­»ã€‚åšå®Œè¿˜æ˜¯å¾ˆå¼€å¿ƒçš„ã€‚<br>æˆ‘ä¹Ÿå­¦åˆ°äº†å¥½å¤šä¸œè¥¿ï¼Œè‡ªå·±å»çœ‹æ•™ç¨‹ï¼Œæœèµ„æ–™ï¼Œè™½ç„¶ä¼šèŠ±å¾ˆå¤šæ—¶é—´ï¼Œä½†æ˜¯æ•ˆæœç¡®å®å¥½æ¬¸ï¼Œæ¯”å¦‚ä¹‹å‰è§‰å¾—å¾ˆéš¾çš„gitçš„æ“ä½œï¼Œï¼Œï¼Œä¸€ç›´ä¸æ„¿æ„å»å­¦ï¼ˆå§å®¤è“è‹Ÿï¼‰æœ€åä¹Ÿè¢«è¿«å­¦ä¼šäº†ï¼Œ<br>é™¤äº†åšç½‘ç«™æœ¬èº«ï¼Œè¿˜å­¦åˆ°å¥½å¤šå…¶ä»–çš„ä¸œè¥¿ã€‚æ•ˆæœæ¯”tllwtgç›´æ¥å¸®æˆ‘æ‰“å‡ºæ¥å¥½å¾ˆå¤šã€‚ï¼ˆå¦‚æœæˆ‘é‚£å¤©ä¸æ˜¯åˆ äº†é‡æ–°åšï¼Œè€Œæ˜¯è®©tllwtgå¸®æˆ‘å¼„ä¸€ä¸‹ï¼Œæˆ‘ç°åœ¨ä¼°è®¡è¿˜æ˜¯ä»€ä¹ˆéƒ½ä¸ä¼š&#x2F;éš¾è¿‡ï¼‰ã€‚</p><p>å¥½ï¼ä¸å½“è“è‹Ÿä»ç°åœ¨å¼€å§‹ã€‚ï¼ˆQQæœºå™¨äººï¼Ÿå¥½éš¾ï¼Œä¸‹æ¬¡å†è¯´å§</p>]]></content>
    
    
    
    <tags>
      
      <tag>life</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2023/07/22/hello-world/"/>
    <url>/2023/07/22/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
